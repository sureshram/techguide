<html><head><title>Suresh</title></head><body bgcolor="#C0DCC0"><dl><dt style="font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon2.gif">Suresh<dt><br><dt style="margin-left:32;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Everyman is a judge  for himself, he has to pay a price for what he does.</p><p></font><font face="Times New Roman" style="font-size:10pt"></font><font face="Times New Roman" style="font-size:12pt"></p><p>Action Outline Tips</p><p>Ctrl-Tab to insert row into table</p><p></font><font face="Arial" style="font-size:12pt"></font><font face="Arial" style="font-size:10pt"></p></font><dt><br><dt style="margin-left:18;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon2.gif">TECHNOLOGY<dt><br><dt style="margin-left:50;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Technology Tips</p><p></p><p></p><p><A HREF="http://www.oracle.com">www.oracle.com</A>     </p></font><dt><br><dt style="margin-left:36;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">OPERATING SYSTEMS<dt><br><dt style="margin-left:68;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">os specific commands/tips/tricks/</p></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">WINDOWS<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">net start/stop</p><p>tskkill /F</p><p>diskperf - to turn on disk performance usage</p><p></font><font face="Times New Roman" style="font-size:10pt"></font><font face="Times New Roman" style="font-size:12pt">PerMon or SysMon </p><p>DBCC MEMUSAGE</p><p>DBCC SQLPERF(WAITSTATS).</p><p></font><font face="Arial" style="font-size:12pt"></font><font face="Arial" style="font-size:10pt">netstat -ao | findstr 1100  - to see who is using the ports</p><p></p><p>tracert - tracing route</p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Win7<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Windows 7 </p><p>sfc /scannow  - checks the sytem for any issues - can be run when the windows is unstable due to weired state</p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">systeminfo<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Bootup Time or Last Reboot, Last Restart</p><p></p><p></p><p>systeminfo | find &quot;System Boot Time&quot;</p><p>winver</p><p>wmic</p><p></p><p>Hotfix Patches</p><p></p><p></font><font face="Arial" color="#2A2A2A" style="font-size:10pt"><b></font><font face="Segoe UI" color="#2A2A2A" style="font-size:10pt"></font><font face="Segoe UI" color="#2A2A2A" style="font-size:9pt">wmic qfe list full /format:htable &gt; hotfixes.htm</font><font face="Segoe UI" color="#000000" style="font-size:9pt"></b></font><font face="Arial" color="#000000" style="font-size:9pt"></font><font face="Arial" color="#000000" style="font-size:10pt"></p></font><dt><br><dt style="margin-left:72;font: normal normal normal 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">thread<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Health Check<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">SFC Tools checks for corrupted file</p><p></p><p><A HREF="http://support.microsoft.com/kb/929833">http://support.microsoft.com/kb/929833</A></p><p></p><p>sfc /scannow</p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">uptime<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">System Up Time</p><p>The following steps describes how to find these events and their time and date:</p><p></p><p>Right-click on a My Computer icon and select Manage from the context menu. The Computer Management console should appear within seconds.</p><p>From the left pane, expand the System Tools node (if it is not already expanded), then expand the Event Viewer node.</p><p>Under the Event Viewer node, select System. The right pane should display the entire System log. This log is probably vast and you probably dont like scrolling through it to find what you need. You need to filter the log to see only what you need.</p><p>From the View menu, select FilterÖ System Properties dialog box should pop up.</p><p>From the Event source drop-down list, select eventlog.</p><p>Click OK. System Properties dialog box should disappear and the right pane of Computer Management console should show only what we need: Event Log services start and stop events.</p><p>Look at the numbers in Event column. 6006 represents a stop (corresponding to a system shutdown.) 6005 and 6009 represent a start (corresponding to a system startup.) Then look at the Date and Time column of each entry to find out when they happened.</p><p></p><p></p><p>Information	6/14/2013 3:12:00 PM	EventLog	6005	None</p><p>Information	1/30/2012 5:56:46 PM	EventLog	6005	None</p><p>Information	2/22/2011 11:50:41 AM	EventLog	6005	None</p><p>Information	3/21/2011 1:18:15 AM	EventLog	6005	None</p><p>Information	8/20/2011 8:26:37 PM	EventLog	6005	None</p><p>Information	8/20/2011 8:11:10 PM	EventLog	6005	None</p><p></p><p></p><p>Information	6/14/2013 3:08:41 PM	EventLog	6006	None</p><p>Information	1/30/2012 5:53:43 PM	EventLog	6006	None</p><p>Information	3/21/2011 1:07:38 AM	EventLog	6006	None</p><p>Information	8/20/2011 8:16:40 PM	EventLog	6006	None</p><p>Information	8/20/2011 7:33:06 PM	EventLog	6006	None</p><p></p><p></p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">netstat<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">netstat -ano</p><p></p><p></p></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">UNIX<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"></p><p>Manual <A HREF="http://www.redhat.com/docs/manuals/enterprise/RHEL-3-Manual/">http://www.redhat.com/docs/manuals/enterprise/RHEL-3-Manual/</A></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Version<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Unix Version   uname -a</p><p></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">VI<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">   - i insert character</p><p>   - :wq quit and save</p><p>   - :q! quite and no save</p><p>   - :ab usa replace with united states of america</p><p>   - Ctrl-b -&gt; one page up</p><p>   - Ctrl-f -&gt; one page down</p><p>   - G - end of file</p><p></p><p>n yy -&gt; copy(yank) n lines</p><p>p -&gt; past n lines</p><p></p><p>set nu</p><p>co rowfrom,rowto rowin</p><p></p><p>Press Esc to goto control mode</p><p>Undo : press u</p><p>Redo : Ctrl-r </p><p>Search : see search</p><p></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">VNC<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">My Laptop Dell Ultrabook --1366x768</p><p><b></p><p></p><p>Setting up VNC</p><p></b></p><p>ps -eF | grep 'vnc' see list of servers already running</p><p></p><p>Install RealVNC Viewer on Windows Client  and Server on UNIX</p><p></p><p>Run Command on UNIX to start server: <b>vncserver :20 -geometry 1500x1000</b></p><p>  - Specify some password to login from viewer</p><p>Run VNC Viewer on Windows and connect to the server port 20 + password specified on UNIX: </p><p></p><p></p><p><b>For starting vnc though script</b></p><p></p><p>#!/bin/bash</p><p># Start an Xvnc server</p><p>. ~/.bashrc</p><p>cd</p><p>vncserver -depth 16 -geometry &quot;1680x1050&quot; :xx sleep 20 export DISPLAY=&quot;:xx&quot;</p><p>nohup vncconfig -nowin &gt;/dev/null &amp; </p><p></p><p></p><p>vncviewer </p><p>vncconfig</p><p></p><p><b>To Run Better Windows interface when you login to VNC</b></p><p></font><font face="Times New Roman" style="font-size:10pt"></font><font face="Times New Roman" style="font-size:12pt">$HOME/.vnc/xstartup file remove all the lines and put exec /usr/bin/gnome-session</p><p><b></font><font face="Arial" style="font-size:12pt"></font><font face="Arial" style="font-size:10pt"></p><p>OR</p><p></b></p><p>run: startkde in vnc</p><p></p><p><b>OR</b></p><p></p><p></font><font face="Times New Roman" style="font-size:10pt"></font><font face="Times New Roman" style="font-size:12pt">change $HOME/.vnc/xstartup file to</p><p></font><font face="Arial" style="font-size:12pt"></font><font face="Arial" style="font-size:10pt"></p><p></p><p>#!/bin/sh</p><p># Uncomment the following two lines for normal desktop:</p><p>unset SESSION_MANAGER</p><p>exec /etc/X11/xinit/xinitrc</p><p>[ -x /etc/vnc/xstartup ] &amp;&amp; exec /etc/vnc/xstartup</p><p>[ -r $HOME/.Xresources ] &amp;&amp; xrdb $HOME/.Xresources</p><p>xsetroot -solid grey</p><p>vncconfig -iconic &amp;</p><p>xterm -geometry 1680x1050+10+10 -ls -title &quot;$VNCDESKTOP Desktop&quot; &amp;</p><p>startkde &amp;</p><p></p><p></p><p><b>XWindows Knowledge Base</p><p></b></p><p></font><font face="Calibri" style="font-size:10pt"></font><font face="Calibri" style="font-size:11pt">X-Windows only runs in Run-Level 5</font><font face="Calibri" style="font-size:10pt"></p><p></p><p></font><font face="Calibri" color="#1F497D" style="font-size:10pt"></font><font face="Calibri" color="#1F497D" style="font-size:10pt"></font><font face="Calibri" color="#1F497D" style="font-size:11pt">[DO NOT DO THIS IN PRODUCTION]Type init 5 at the command line to change to run level 5, you can do this in putty.</p><p></p><p>Edit /etc/init.d to change the run level for good</font><font face="Calibri" color="#000000" style="font-size:11pt"></font><font face="Arial" color="#000000" style="font-size:11pt"></font><font face="Arial" color="#000000" style="font-size:10pt"></p><p></p><p>xserver runs on the port specified but vnc always run 100 less than the 600 + port you specified</p><p></p><p>exporting display</p><p>============</p><p>running client from server other than server running vncserver</p><p>set DISPLAY=machineowningvnc:itsport</p><p>export DISPLAY</p><p></p><p>(use proper ip address, especially if the box has two nics)</p><p></p><p><b>typical scenario</b></p><p>run vncserver on cashmoney at port 20</p><p>connect vncclient to cashmoney</p><p>ssh to hendrix</p><p>run DISPLAY=cashmoney:20</p><p>run export DISPLAY</p><p>start client</p><p></p><p>xhost       -&gt;displays x server settings</p><p>xhost -     -&gt;disables x server settings allowing anyone to connect to this host</p><p>xhost +    -&gt;enables x server settings allowing anyone to connect to this host</p><p>xhost + machinename  -&gt; adds machine to be able to run any x-window applications</p><p>xterm      -&gt; test x server connections are allowed</p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Auth<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><b><font face="Arial" style="font-size:10pt">Current User</b></p><p></p><p>$ xauth list $DISPLAY</p><p>You'll get the cookie as something like</p><p></p><p><b>somehost.somedomain:10 mit-magic-cookie-1 4d22408a71a55b41ccd1657d377923ae</b></p><p></p><p><b>Change User : </b>after having done su, tell the new user what the cookie is:</p><p></p><p>$ xauth add &lt;cookie displayed above&gt;</p><p></p><p>(just copy and paste the output of the above 'xauth list' onto 'xauth add') That's it. Now, you should be able to start any X application.</p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">COMMANDS<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">==========================</p><p>ps, uname, kill, ipcs, ipcrm, netstat, ifconfig, nslookup, ping, traceroute, arp, lsof, iostat, vmstat, strings, df, du, route </p><p>cat - concatenate two files</p><p>gzip</p><p>tar</p><p>zip</p><p>compress</p><p>pack</p><p>gzcat</p><p>vi </p><p>du</p><p>df</p><p></p><p></p><p></p><p></p><p></p><p></p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">SEARCH<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><b><font face="Arial" style="font-size:10pt">Replace bob with BOB</p><p></p><p>:%s/bob/BOB/</p><p></p><p>Search a file in the disk : </b></font><font face="Arial" style="font-size:10pt">locate filename</p><p></font><font face="Arial" style="font-size:10pt">remove ^M character in unix files  :%s [Ctrl - VM ]\\</p><p></p><p>Search : /stringtosearch</p><p></font><font face="Arial" style="font-size:10pt">n for next search</p><p>p for previous search</p><p></p><p></p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon7.gif">FILE<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">file:\\D:\PrivateWorkspace\techguide\os\unix\scripts</p><p></p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">GREP<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">$ grep - grepping logs, finding strings</p><p></p><p>grep '10037=[3-9]'</p><p></p><p>TO MATCH LINES THAT ... 	 USE THIS REGEXP</p><p>contain nine zeroes in a row 	0\{9\}</p><p>are exactly four characters long 	^....$ or ^.\{4\}$</p><p>are exactly seventy characters long 	^.\{70\}$</p><p>begin with an asterisk character 	^\*</p><p>begin with `tow' and end with `ing' 	^tow.*ing$</p><p>contain a number 	[0-9]</p><p>do not contain a number 	^[^0-9]*$</p><p>contain a year from 1991 through 1995 	199[1-5]</p><p>contain a year from 1957 through 1969 	\(195[7-9]\)\|\(196[0-9]\)</p><p>contain either `.txt' or `.text' 	\.te\?xt</p><p>contain `cat' then `gory' in the same word 	cat\.\+gory</p><p>contain `cat' then `gory' in the same line 	cat\.\+\?gory</p><p>contain a `q' not followed by a `u' 	q[^u]</p><p>contain any ftp, gopher, or `http' URLs 	\(ftp\|gopher\|http\|\)://.*\..*</p></font><dt><br><dt style="margin-left:108;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">With Context <dt><br><dt style="margin-left:140;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><b><font face="Consolas" style="font-size:12pt"></font><font face="Consolas" style="font-size:12pt">Output Context Data</p><p></b></font><font face="Lucida Console" style="font-size:12pt"></font><font face="Lucida Console" style="font-size:9pt"></p><p>-------------------------------------</p><p>B -&gt; Print 3 lines Before the match</p><p>A -&gt; Print 3 lines After the macth </p><p>-------------------------------------</p><p></p><p></font><font face="Lucida Console" style="font-size:9pt">---------------------------------------</p><p> grep -B 3 -A 5 &quot;Exception&quot; client.log</p><p>----------------------------------------</p><p></p><p></font><font face="Arial" style="font-size:9pt"></font><font face="Arial" style="font-size:10pt"></p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">KILL<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Kill -9 pid - Shutdown immediately</p><p>Kill -1 pid - Kill with core dump</p><p></p><p>pkill</p><p>killall</p><p></p><p>kill -9 $(pidof java)</p><p></p><p>gcore - can take thread dump too</p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">ZIP<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">==================================</p><p></p><p>-f force -d decompress -v verbose</p><p></p><p>use unzip for dos compressed files</p><p>====================================</p><p></p><p>TAR</p><p></p><p>gzip [ -acdfhlLnNrtvV19 ]</p><p></p><p><b>Decompressing</b></p><p>gzip -fd</p><p>tar -xvf foo.tar</p><p>tar -xvf file.tar.bz2</p><p>unzip filename.zip</p><p></p><p></p><p><b>Compressing</p><p></b>gzip file-to-zip</p><p>tar -cvf foo.tar foo/</p><p>tar -cjf foo.tar.bz2 foo/</p><p></p><p>zip -r filename.zip files</p><p>tar -cvf filename.tar files/directories</p><p></p><p><b>View content of the file without unzipping</b></p><p>tar -ztvf file.tar.gz</p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">CRONTAB<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">cronjob =&gt; min    hour    day    mon    dow    command    #comment</p><p>======================</p><p>crontab -e     Edit your crontab file, or create one if it doesn't already exist. </p><p>crontab -l      Display your crontab file. </p><p>crontab -r      Remove your crontab file. </p><p>crontab -v      Display the last time you edited your crontab file</p><p></p><p></p><p>&gt; file -&gt; To null log file </p><p></p><p>crontab -e</p><p></p><p>.---------------- minute (0 - 59) </p><p> |   .------------- hour (0 - 23)</p><p> |   |   .---------- day of month (1 - 31)</p><p> |   |   |   .------- month (1 - 12) OR jan,feb,mar,apr ... </p><p> |   |   |   |  .----- day of week (0 - 6) (Sunday=0 or 7)  OR sun,mon,tue,wed,thu,fri,sat </p><p> |   |   |   |  |</p><p> *   *   *   *  *  command to be executed</p><p></p><p>#### CRON Service</p><p></p><p>service crond start</p><p>service crond status</p><p></p><p>/etc/init.d/cron restart</p><p></p><p>create dir under /etc/cron.d</p><p></p><p>log files are under /var/log/cron</p><p></p><p>script logs goes to mail log file which is under /var/spool/mail/&lt;user&gt;   &lt;user&gt; is login user</p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">DOS2UNIX<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">dos2unix filename -&gt; convert dos formatted files to unix formatted</p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">CHMOD<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">chmod 777 filename -&gt; execute permission to file</p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">SUDO<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">sudo su -username to change logged in user to different user</p><p></p><p>if the user is given root access then just type</p><p></p><p>sudo su - and the password of the user</p><p></p><p></p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">DISK<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><u><font face="Arial" style="font-size:10pt">Disk Usage for a folder</p><p></u></p><p>du -sh data_file/</p><p></p><p></p><p>du -hk human format in 1024 blocks</p><p></p><p>df -bh Disk free information in K/M/G</p><p></p><p>free</p><p></p><p><u><b>Checks to see if there are disk errors,  </u>       </b> /sbin/fsck -n /dev/sda7</p><p>where /dev/sda7 is the hard disk - Note -n option will not correct disk errors</p><p></p><p>To correct disk errors run :   </p><p></p><p></p><p>----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------</p><p></font><font face="Arial" color="#29303B" style="font-size:10pt"><b></font><font face="Verdana" color="#29303B" style="font-size:10pt"></font><font face="Verdana" color="#29303B" style="font-size:9pt">du -h / | grep ^[0-9.]*G</p><p></b></p><p>This will list all directories that contain at least 1 Gig of data. Yes the data is way deep in the file structure then it will show up in all the parent directories, but by changing the slash to a sub directory (e.g. replace / with /var) you can quickly see what directory is the problem. Once we have the directory finding the offending files should be much easier.</font><font face="Verdana" color="#000000" style="font-size:9pt"></font><font face="Arial" color="#000000" style="font-size:9pt"></font><font face="Arial" color="#000000" style="font-size:10pt"></p><p>----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------</p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">passwd<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">change password</p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">SymLink<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><b><font face="Arial" style="font-size:10pt">ln -sf filename linkname</b></p><p></p><p>ln -sf /opt/actrader/jboss/server/actrader252 actrader</p><p></p><p>To resolve symbolic link in pwd use -P option</p><p><b>pwd -P</b></p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Copy<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Copy files and directories recursively without overwriting (n)</p><p></p><p>cp -vnpPR  .</p><p>cp -vnpPR  dir  (without / at the end)</p></font><dt><br><dt style="margin-left:90;font: normal normal normal 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">CPU<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">USER<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">### Switch User</p><p></p><p></p><p>useradd -g group username - add user to group</p><p></p><p>groupadd actrader</p><p></p><p>/etc/passwd, /etc/shadow and /etc/group files to store user information</p><p></p><p>chown actrader:actrader actrader to change owner and group of directory actrader to actrader</p><p></p><p>id actrader - will tell user info</p><p></p><p>usermod example - Add a existing user to existing group</p><p></p><p>usermod -a -G ftp tony</p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">PS<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">PSEXE</p></font><dt><br><dt style="margin-left:108;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Usefull commands<dt><br><dt style="margin-left:140;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">To See Threads ( LWP and NLWP)</p><p></p><p># ps -AlFH</p><p></p><p>To See Threads After Processes</p><p></p><p># ps -AlLm</p><p></p><p>Print All Process On The Server</p><p></p><p># ps ax</p><p># ps axu</p><p></p><p>Print A Process Tree</p><p></p><p># ps -ejH</p><p># ps axjf</p><p># pstree</p><p></p><p>Print Security Information</p><p></p><p># ps -eo euser,ruser,suser,fuser,f,comm,label</p><p># ps axZ</p><p># ps -eM</p><p></p><p>See Every Process Running As User Vivek</p><p></p><p># ps -U vivek -u vivek u</p><p></p><p>Set Output In a User-Defined Format</p><p></p><p># ps -eo pid,tid,class,rtprio,ni,pri,psr,pcpu,stat,wchan:14,comm</p><p># ps axo stat,euid,ruid,tty,tpgid,sess,pgrp,ppid,pid,pcpu,comm</p><p># ps -eopid,tt,user,fname,tmout,f,wchan</p><p></p><p>Display Only The Process IDs of Lighttpd</p><p></p><p># ps -C lighttpd -o pid=</p><p></p><p>OR</p><p># pgrep lighttpd</p><p></p><p>OR</p><p># pgrep -u vivek php-cgi</p><p></p><p>Display The Name of PID 55977</p><p></p><p># ps -p 55977 -o comm=</p><p></p><p>Find Out The Top 10 Memory Consuming Process</p><p></p><p># ps -auxf | sort -nr -k 4 | head -10</p><p></p><p>Find Out top 10 CPU Consuming Process</p><p></p><p># ps -auxf | sort -nr -k 3 | head -10</p><p></p><p></p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">watch<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><b><font face="Arial" style="font-size:10pt">watch script  - Periodically execute the task</p><p></b></p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">DIFF<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">diff can be used to compare two long strings or files or directories</p><p></p><p>diff  &lt;(echo &quot;f070b470de2dbdf44d4e7f28a2d67e93&quot; ) &lt;(echo &quot;f070b470de2dbdf44d4e7f28a2d67e93&quot;)</p></font><dt><br><dt style="margin-left:90;font: normal normal normal 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">ftp<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">curl<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">## Curl with password</p><p>curl -u username:password url</p><p></p><p></p><p>curl -O url</p><p></p><p></p><p>Proxy support.</p><p>User authentication.</p><p>FTP upload.</p><p>HTTP post.</p><p>SSL connections.</p><p>Cookies.</p><p>File transfer resume and more</p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">wget<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">wget url</p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Timezone<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Ubuntu: dpkg-reconfigure tzdata</p><p>Redhat: redhat-config-date</p><p>CentOS/Fedora: system-config-date</p><p>FreeBSD/Slackware: tzselect</p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">NC<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">netcat - simple tcp client/server</p><p></p><p>### Client</p><p>nc -l host port</p><p></p><p>### Server</p><p>nc host port</p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">reset<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">if your console gets jumbled up with characters then run command &quot;reset&quot;</p><p></p><p>clear</p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">html<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">view html in text mode</p><p></p><p>links - centos</p><p>lynx</p><p>w3m</p><p>html2txt </p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">nmap<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"></p><p>Port Scanning</p><p></p><p>nmap 172.26.1.106 -p 9200</p></font><dt><br><dt style="margin-left:72;font: normal normal normal 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">LESS<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">TOP<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">$ top - will list processes</p><p></p><p>top and press c for details about the  processes</p><p></p><p></p><p></font><font face="Arial" color="#1F497D" style="font-size:10pt"></font><font face="Calibri" color="#1F497D" style="font-size:10pt"></font><font face="Calibri" color="#1F497D" style="font-size:11pt">top -b -d 5 | head -n 10</font><font face="Calibri" color="#000000" style="font-size:11pt"></font><font face="Arial" color="#000000" style="font-size:11pt"></font><font face="Arial" color="#000000" style="font-size:10pt"></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">CLEARTOOL<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">cleartool lsview | grep sramak*</p><p>cleartool setview viewname</p><p>cleartool co</p><p>cleartool unco</p><p></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">PATH<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">export EDITOR=vi</p><p></p><p></p><p>PATH=$PATH:/data/myscripts</p><p>export PATH</p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">PERMISSIONS<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">g_gts group members can sudo su - to him</p><p>(10:43:00 AM) G-Unit: anyone in the g_gts group can become him using sudo</p><p>(10:43:12 AM) G-Unit: sudo -l will show you the commands you are allowed to run</p><p>(10:43:44 AM) G-Unit: the /opt/gts ownership has been changed on all three boxes</p><p>sudo is located under /usr/local/bin</p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Troubleshooting<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Times New Roman" style="font-size:12pt"></font><font face="Times New Roman" style="font-size:12pt">/usr/bin/sar utility (read man pages) - Windows Performance Monitor in Linux </p><p></font><font face="Arial" style="font-size:12pt"></font><font face="Arial" style="font-size:10pt"></p><p>pstats</p><p>prsinfo</p><p></p><p>top</p><p>pstop</p><p>prun</p><p>pargs</p><p></p><p><b></font><font face="LiberationSans" style="font-size:10pt">lspci </b></font><font face="LiberationSans" style="font-size:12pt">- list the devices on pci, indepth driver flags</p><p><b></font><font face="LiberationSans" style="font-size:10pt">oprofile </b>- system level profiling, kernel/driver code</p><p><b>modinfo </b>- list information about drivers, version, options</p><p></font><font face="LiberationSans" style="font-size:10pt">iptraf, wireshark, etc</p><p><b></font><font face="Arial" style="font-size:10pt"></p><p>cat /proc/swaps  </b>or free</p><p></p><p>who is doing what?</p><p></p><p>w &lt;username&gt;</p><p>uptime</p><p></p><p> ps -AlF - To turn on extra full mode (it will show command line arguments passed to process):</p><p></p><p>free</p><p>vmstat</p><p>iostat</p><p>mpstat - Multiprocessor Usage</p><p>mpstat -P ALL</p><p>lsof - list of files open</p><p>Tcpdump </p><p>htop - additional tool</p><p>lotop - 3rd party</p><p>IPTraf - Real Time IP LAN Monitoring</p><p>Psacct or Acct - Monitor User Activity</p><p>Monit - Linux Process and Services Monitoring</p><p>NetHogs is an open source nice small program</p><p>iftop - Network Bandwidth Monitoring</p><p>Monitorix - System and Network Monitoring</p><p>pmap command displays the memory map of a given process</p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Proc<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">18. /proc</p><p></p><p>/proc is a virtual file system. For example, if you do ls -l /proc/stat, youll notice that it has a size of 0 bytes, but if you do cat /proc/stat, youll see some content inside the file.</p><p></p><p>Do a ls -l /proc, and youll see lot of directories with just numbers. These numbers represents the process ids, the files inside this numbered directory corresponds to the process with that particular PID.</p><p></p><p>The following are the important files located under each numbered directory (for each process):</p><p></p><p>cmdline  command line of the command.</p><p>environ  environment variables.</p><p>fd  Contains the file descriptors which is linked to the appropriate files.</p><p>limits  Contains the information about the specific limits to the process.</p><p>mounts  mount related information</p><p>The following are the important links under each numbered directory (for each process):</p><p></p><p>cwd  Link to current working directory of the process.</p><p>exe  Link to executable of the process.</p><p>root  Link to the root directory of the process.</p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Tuning<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="LiberationSans" color="#000000" style="font-size:12pt"></font><font face="LiberationSans" color="#000000" style="font-size:12pt"></font><font face="LiberationSans" color="#000000" style="font-size:12pt">Tuning tools</p><p></font><font face="LiberationSans" color="#666666" style="font-size:12pt"></font><font face="OpenSymbol" color="#666666" style="font-size:12pt">Åú </font><font face="OpenSymbol" color="#000000" style="font-size:12pt"></font><font face="LiberationSans" color="#000000" style="font-size:12pt">ethtool - View and change Ethernet card settings</p><p></font><font face="LiberationSans" color="#666666" style="font-size:12pt"></font><font face="OpenSymbol" color="#666666" style="font-size:12pt">Åú </font><font face="OpenSymbol" color="#000000" style="font-size:12pt"></font><font face="LiberationSans" color="#000000" style="font-size:12pt">sysctl - View and set <i></font><font face="LiberationSans-Italic" color="#000000" style="font-size:12pt">/proc/sys </i></font><font face="LiberationSans" color="#000000" style="font-size:12pt">settings</p><p></font><font face="LiberationSans" color="#666666" style="font-size:12pt"></font><font face="OpenSymbol" color="#666666" style="font-size:12pt">Åú </font><font face="OpenSymbol" color="#000000" style="font-size:12pt"></font><font face="LiberationSans" color="#000000" style="font-size:12pt">ifconfig - View and set ethX variables</p><p></font><font face="LiberationSans" color="#666666" style="font-size:12pt"></font><font face="OpenSymbol" color="#666666" style="font-size:12pt">Åú </font><font face="OpenSymbol" color="#000000" style="font-size:12pt"></font><font face="LiberationSans" color="#000000" style="font-size:12pt">setpci - View and set pci bus params for device</p><p></font><font face="LiberationSans" color="#666666" style="font-size:12pt"></font><font face="OpenSymbol" color="#666666" style="font-size:12pt">Åú </font><font face="OpenSymbol" color="#000000" style="font-size:12pt"></font><font face="LiberationSans" color="#000000" style="font-size:12pt">netperf - Can run a bunch of different network tests</p><p></font><font face="LiberationSans" color="#666666" style="font-size:12pt"></font><font face="OpenSymbol" color="#666666" style="font-size:12pt">Åú </font><font face="OpenSymbol" color="#000000" style="font-size:12pt"></font><font face="LiberationSans" color="#000000" style="font-size:12pt">/proc - OS info, place for changing device tunables</p><p></p><p></font><font face="LiberationSans" color="#666666" style="font-size:12pt"></font><font face="OpenSymbol" color="#666666" style="font-size:12pt">Åú </font><font face="OpenSymbol" color="#000000" style="font-size:12pt"><b></font><font face="Arial" color="#000000" style="font-size:12pt"></font><font face="Arial" color="#000000" style="font-size:10pt">vmstat</p><p></b></p><p> procs                      memory    swap          io     system         cpu</p><p> r  b  w   swpd   free   buff  cache  si  so    bi    bo   in    cs  us  sy  id</p><p></p><p></font><font face="Arial" color="#666666" style="font-size:10pt"></font><font face="OpenSymbol" color="#666666" style="font-size:10pt"></font><font face="OpenSymbol" color="#666666" style="font-size:12pt">Åú </font><font face="OpenSymbol" color="#000000" style="font-size:12pt"><b></font><font face="Arial" color="#000000" style="font-size:12pt"></font><font face="Arial" color="#000000" style="font-size:10pt">iostat</b></p><p></p><p>The iostat command at its most basic provides an overview of CPU and disk I/O statistics</p><p></p><p></font><font face="Arial" color="#666666" style="font-size:10pt"></font><font face="OpenSymbol" color="#666666" style="font-size:10pt"></font><font face="OpenSymbol" color="#666666" style="font-size:12pt">Åú </font><font face="OpenSymbol" color="#000000" style="font-size:12pt"><b></font><font face="Arial" color="#000000" style="font-size:12pt"></font><font face="Arial" color="#000000" style="font-size:10pt">mpstat</p><p></b></p><p>he mpstat command at first appears no different from the CPU utilization report produced by iostat</p><p>With the exception of an additional column showing the interrupts per second being handled by the CPU, there is no real difference. However, the situation changes if mpstat's -P ALL option is used:</p><p></p><p></p><p></font><font face="Arial" color="#666666" style="font-size:10pt"></font><font face="OpenSymbol" color="#666666" style="font-size:10pt"></font><font face="OpenSymbol" color="#666666" style="font-size:12pt">Åú </font><font face="OpenSymbol" color="#000000" style="font-size:12pt"><b></font><font face="Arial" color="#000000" style="font-size:12pt"></font><font face="Arial" color="#000000" style="font-size:10pt">sadc</p><p></b></p><p>the sadc command collects system utilization data and writes it to a file for later analysis</p><p></p><p></font><font face="Arial" color="#666666" style="font-size:10pt"></font><font face="OpenSymbol" color="#666666" style="font-size:10pt"></font><font face="OpenSymbol" color="#666666" style="font-size:12pt">Åú </font><font face="OpenSymbol" color="#000000" style="font-size:12pt"><b></font><font face="Arial" color="#000000" style="font-size:12pt"></font><font face="Arial" color="#000000" style="font-size:10pt">sar</p><p></b></p><p>The sar command produces system utilization reports based on the data collected by sadc</p><p></p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">CPU<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Top command output </p><p></p><p>/etc/toprc and ~/.toprc</p><p></p><p>Cpu(s):  0.4%us,  0.7%sy,  0.0%ni, 77.7%id, 20.0%wa,  0.0%hi,  1.2%si,  0.0%st</p><p></p><p>us - used</p><p>wa - cpu waiting for something</p><p></p><p></p><p>To view a process CPU affinity try</p><p></p><p>taskset -p PID</p></font><dt><br><dt style="margin-left:108;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Interrupt Details<dt><br><dt style="margin-left:140;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">watch -tdn1 cat /proc/interrupts</p><p></p><p>Sample Output</p><p></p><p>          CPU0       CPU1       CPU2       CPU3       CPU4       CPU5       CPU6       CPU7</p><p>  0: 2777766043          0          0          0          0          0          0          0    IO-APIC-edge  timer</p><p>  1:          3          0          0          0          0          0          0          0    IO-APIC-edge  i8042</p><p>  4:        388          0          2          0        101          0          4          0    IO-APIC-edge  serial</p><p>  8:          1          0          0          0          0          0          0          0    IO-APIC-edge  rtc</p><p>  9:          0          0          0          0          0          0          0          0   IO-APIC-level  acpi</p><p> 12:          4          0          0          0          0          0          0          0    IO-APIC-edge  i8042</p><p> 51:    8246592  275995060   34244831  184963204   34926350  199925857   48149432 2165454060       PCI-MSI-X  eth0</p><p> 75:   18387978  143109672  199438903  229140871  230835702   21003878  155859080   29112608   IO-APIC-level  ipmi_si</p><p> 90:      29417   41110022    2624875   63758572    4727836    8303534    4011877    9663804   IO-APIC-level  ehci_hcd:usb1, uhci_hcd:usb2</p><p> 98:          0          0          0          0          0          0          0          0   IO-APIC-level  uhci_hcd:usb3, uhci_hcd:usb5</p><p>106:         36          0          0          0          0          0          0          0   IO-APIC-level  uhci_hcd:usb4, uhci_hcd:usb6</p><p>138:     432345 1673905745  707653694  637910075  278719387   41170574  179713302   51669219       PCI-MSI-X  cciss0</p><p>178:    6786390  223627990   55559891  211428060   82107117   44838858   87672804   49706027   IO-APIC-level  lpfc</p><p>186:    6358978  223142195   54383083  207098174   84456632   45578810   88716407   52224885   IO-APIC-level  lpfc</p><p>194:        589  154954072   15655297  236030770  133840287 3407795599  181808196  622615064       PCI-MSI-X  eth0</p><p>202:    8832537  124530499   34915544  380773304   31429336  596069754   57147719 3459162781       PCI-MSI-X  eth0</p><p>210:    7797428  167722579   33466753  417062542   33151364   21278873   49649015  865875827       PCI-MSI-X  eth0</p><p>218:    8701339  219266320   34744261  301180307   30910453  340827690   58646226 3366000584       PCI-MSI-X  eth0</p><p>226:    7726986  273774399   34510238  434301585   31071835   46256678   54319817 1933612074       PCI-MSI-X  eth0</p><p>234:    8921483   90601939   34089937  321715591   30546902   87402713   67597530 1653507236       PCI-MSI-X  eth0</p><p>NMI:    8002488    6665610    7813999    8303559    6608003    7640375    8421032    9462447</p><p>LOC: 2777765983 2777766256 2777766342 2777766198 2777766311 2777766287 2777766152 2777765795</p><p>ERR:          0</p><p>MIS:          0</p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">vmstat<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"></p><p></p><p align=center></p><p></p><p align=center></font><font face="Arial" color="#800000" style="font-size:10pt"><span style="background-color: #00FFFF"></font><font face="Arial" color="#800000" style="font-size:14pt">       vmstat - Report virtual memory statistics</p><p></font><font face="Arial" color="#000000" style="font-size:14pt"></span><span style="background-color: #FFFFFF"></font><font face="Arial" color="#000000" style="font-size:10pt"></p><p></p><p><u>Disk Activity, IO Activity, Swap Activity, Thread Context Switching</p><p></u></p><p></p><p>SYNOPSIS</p><p></p><p>       vmstat [-a] [-n] [delay [ count]]</p><p>       vmstat [-f] [-s] [-m]</p><p>       vmstat [-S unit]</p><p>       vmstat [-d]</p><p>       vmstat [-p disk partition]</p><p>       vmstat [-V]</p><p></p><p></p><p>DESCRIPTION</p><p></p><p>       vmstat  reports  information about processes, memory, paging, block IO,</p><p>       traps, and cpu activity.</p><p></p><p>       The first report produced gives averages since the last reboot.   Addi-</p><p>       tional  reports  give information on a sampling period of length delay.</p><p>       The process and memory reports are instantaneous in either case.</p><p></p><p></p><p>   Options</p><p>       The -a switch displays active/inactive memory, given a 2.5.41 kernel or</p><p>       better.</p><p></p><p>       The  -f  switch displays the number of forks since boot.  This includes</p><p>       the fork, vfork, and clone system calls, and is equivalent to the total</p><p>       number  of  tasks  created.  Each process is represented by one or more</p><p>       tasks, depending on thread usage.  This display does not repeat.</p><p></p><p>       The -m displays slabinfo.</p><p></p><p>       The -n switch causes the header to be displayed only once  rather  than</p><p>       periodically.</p><p></p><p>       The  -s  switch  displays  a table of various event counters and memory</p><p>       statistics. This display does not repeat.</p><p></p><p>       delay is the delay between updates in seconds.  If no delay  is  speci-</p><p>       fied, only one report is printed with the average values since boot.</p><p></p><p>       count  is the number of updates.  If no count is specified and delay is</p><p>       defined, count defaults to infinity.</p><p></p><p>       The -d reports disk statistics (2.5.70 or above required)</p><p></p><p>       The -p followed by some partition name for detailed statistics  (2.5.70</p><p>       or above required)</p><p></p><p>       The  -S  followed  by  k  or K or m or M switches outputs between 1000,</p><p>       1024, 1000000, or 1048576 bytes</p><p></p><p>       The -V switch results in displaying version information.</p><p></p><p></p><p></p><p>FIELD DESCRIPTION FOR VM MODE</p><p></p><p>   Procs</p><p>       r: The number of processes waiting for run time.</p><p>       b: The number of processes in uninterruptible sleep.</p><p></p><p></p><p>   Memory</p><p>       swpd: the amount of virtual memory used.</p><p>       free: the amount of idle memory.</p><p>       buff: the amount of memory used as buffers.</p><p>       cache: the amount of memory used as cache.</p><p>       inact: the amount of inactive memory. (-a option)</p><p>       active: the amount of active memory. (-a option)</p><p></p><p></p><p>   Swap</p><p>       si: Amount of memory swapped in from disk (/s).</p><p>       so: Amount of memory swapped to disk (/s).</p><p></p><p></p><p>   IO</p><p>       bi: Blocks received from a block device (blocks/s).</p><p>       bo: Blocks sent to a block device (blocks/s).</p><p></p><p></p><p>   System</p><p>       in: The number of interrupts per second, including the clock.</p><p>       cs: The number of context switches per second.</p><p></p><p>   CPU</p><p>       These are percentages of total CPU time.</p><p>       us: Time spent running non-kernel code. (user time, including nice time)</p><p>       sy: Time spent running kernel code. (system time)</p><p>       id: Time spent idle. Prior to Linux 2.5.41, this includes IO-wait time.</p><p>       wa: Time spent waiting for IO. Prior to Linux 2.5.41, shown as zero.</p><p></p><p></p><p></p><p></p><p>FIELD DESCRIPTION FOR DISK MODE</p><p></p><p>   Reads</p><p>       total: Total reads completed successfully</p><p>       merged: grouped reads (resulting in one I/O)</p><p>       sectors: Sectors read successfully</p><p>       ms: milliseconds spent reading</p><p></p><p></p><p>   Writes</p><p>       total: Total writes completed successfully</p><p>       merged: grouped writes (resulting in one I/O)</p><p>       sectors: Sectors written successfully</p><p>       ms: milliseconds spent writing</p><p></p><p></p><p>   IO</p><p>       cur: I/O in progress</p><p>       s: seconds spent for I/O</p><p></p><p></p><p></p><p></p><p>FIELD DESCRIPTION FOR DISK PARTITION MODE</p><p></p><p>       reads: Total number of reads issued to this partition</p><p>       read sectors: Total read sectors for partition</p><p>       writes : Total number of writes issued to this partition</p><p>       requested writes: Total number of write requests made for partition</p><p></p><p></p><p></p><p></p><p></p><p>FIELD DESCRIPTION FOR SLAB MODE</p><p></p><p>       cache: Cache name</p><p>       num: Number of currently active objects</p><p>       total: Total number of available objects</p><p>       size: Size of each object</p><p>       pages: Number of pages with at least one active object</p><p>       totpages: Total number of allocated pages</p><p>       pslab: Number of pages per slab</p><p></p><p></p><p></p><p>NOTES</p><p></p><p>       vmstat does not require special permissions.</p><p></p><p>       These reports are intended to help identify system bottlenecks.   Linux</p><p>       vmstat does not count itself as a running process.</p><p></p><p>       All  linux  blocks  are  currently  1024  bytes. Old kernels may report</p><p>       blocks as 512 bytes, 2048 bytes, or 4096 bytes.</p><p></p><p>       Since procps 3.1.9, vmstat lets you choose units (k, K, m,  M)  default</p><p>       is K (1024 bytes) in the default mode</p><p></p><p>       vmstat uses slabinfo 1.1    FIXME</p><p></p><p></p><p>FILES</p><p></p><p>       /proc/meminfo</p><p>       /proc/stat</p><p>       /proc/*/stat</p><p></p><p></p><p></p><p>SEE ALSO</p><p></p><p>       iostat(1), sar(1), mpstat(1), ps(1), top(1), free(1)</p><p></p><p></p><p></p><p>BUGS</p><p></p><p>       Does not tabulate the block io per device or count the number of system</p><p>       calls.</p><p></p><p></p><p>AUTHORS</p><p></p><p>       Written by Henry Ware <A HREF="mailto:al172@yfn.ysu.edu&gt">&lt;al172@yfn.ysu.edu&gt;.</A></p><p>       Fabian FrÈdÈrick <A HREF="mailto:ffrederick@users.sourceforge.net&gt">&lt;ffrederick@users.sourceforge.net&gt;</A> (diskstat, slab, partitions...)</p><p></p><p></p><p></p><p>Throatwobbler Ginkgo Labs        27 July 1994                        VMSTAT(8)</p><p>Man(1) output converted with man2html</p></font></span><dt><br><dt style="margin-left:108;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Key Info<dt><br><dt style="margin-left:140;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">procs</p><p>r - Number of processes waiting for CPU (Normal 2 * CPU)  </p><p></p><p>memory</p><p>swpd - virutual/swapped memory</p><p>free - </p><p>buff - i-nodes and data from raw block device</p><p>cache - physical memory used for cache</p><p></p><p></p><p>swap</p><p>si rate at which memory swap from disk to ram - in kb</p><p>so rate swap out to disk from ram - in kb</p><p></p><p>io</p><p></p><p>bi - data from block device - io blocks/sec - 1 block = 1024 bytes</p><p>bo - data to block io - blocks/sec</p><p></p><p>system info</p><p>in - interrupts per second</p><p>cs - context switching</p><p></p><p>cpu </p><p></p><p>us- user/application/database processes</p><p>Sy - system process root/kernel</p><p>wa - io wait</p><p>us + sy +id =100</p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Logs<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">/var/log/messages -&gt; System level errormessages</p><p>/var/log/mail   -&gt; Mail errors</p><p>/var/log/cron -&gt; cron errors</p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">port<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" color="#800000" style="font-size:12pt"><b></font><font face="Arial" color="#800000" style="font-size:12pt">Usage: netstat -alnp</p><p></font><font face="Arial" color="#000000" style="font-size:12pt"></b></font><font face="Arial" color="#000000" style="font-size:10pt">Description: to see the port and the program being used</font><font face="Arial" color="#800000" style="font-size:10pt"><b></font><font face="Arial" color="#800000" style="font-size:12pt"></p><p></font><font face="Arial" color="#000000" style="font-size:12pt"></font><font face="Arial" color="#000000" style="font-size:10pt"></p><p>unix  3      [ ]         STREAM     CONNECTED     7131   2371/hcid</b></p><p></p><p></font><font face="Arial" color="#800000" style="font-size:10pt"><b><i></font><font face="Arial" color="#800000" style="font-size:12pt">nc -vz IP_Address Port</p><p></font><font face="Arial" color="#000000" style="font-size:12pt"></b></i></font><font face="Arial" color="#000000" style="font-size:10pt"></p><p><b>NOTE: netstat -a will not return sockets in listening  mode so use netstat -an as shown in example below</p><p></b></p><p><A HREF="mailto:root@msus-vmpernddb3">[root@msus-vmpernddb3</A> program]# netstat -a | grep &quot;8100&quot;</p><p><A HREF="mailto:root@msus-vmpernddb3">[root@msus-vmpernddb3</A> program]# netstat -an | grep &quot;8100&quot;</p><p>tcp        0      0 0.0.0.0:8100                0.0.0.0:*                   LISTEN</p><p></p><p></p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Swap Space Problem<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Swap space in Linux is used when the amount of physical memory (RAM) is full. If the system needs more memory resources and the RAM is full, inactive pages in memory are moved to the swap space. While swap space can help machines with a small amount of RAM, it should not be considered a replacement for more RAM. Swap space is located on hard drives, which have a slower access time than physical memory.</p><p></p><p>For example, within LinuxÆ, you can adjust the swappiness of the system when using the 2.6 kernel by setting the <b>vm.swappiness </b>value in <b>/etc/sysctl.conf</b>. Higher values lead to more pages being swapped and lower values lead to more applications being kept in memory, even if they are idle</p><p></p><p>Many people follow an old rule of thumb that your swap partition should be twice the size of your main system RAM. This rule is nonsense. On a modern system, that's a LOT of swap, most people prefer that their systems never swap. You don't want your system to ever run out of RAM+swap, but you usually would rather have enough RAM in the system so it doesn't need to swap</p><p></p><p></p><p><b>Great Articles</b></p><p><A HREF="http://www.ibm.com/developerworks/aix/library/au-satswapspace.html">http://www.ibm.com/developerworks/aix/library/au-satswapspace.html</A></p><p><A HREF="http://unix.stackexchange.com/questions/88693/why-is-swappiness-set-to-60-by-default">http://unix.stackexchange.com/questions/88693/why-is-swappiness-set-to-60-by-default</A></p><p><u><A HREF="https://help.ubuntu.com/community/SwapFaq">https://help.ubuntu.com/community/SwapFaq</A></p><p></u><A HREF="http://askubuntu.com/questions/103242/is-it-safe-to-turn-swap-off-permanently">http://askubuntu.com/questions/103242/is-it-safe-to-turn-swap-off-permanently</A></p><p></p><p></p><p><u><b>With Respect to Oracle</b></p><p></p><p><A HREF="http://www.oracle-base.com/articles/linux/configuring-huge-pages-for-oracle-on-linux-64.php">http://www.oracle-base.com/articles/linux/configuring-huge-pages-for-oracle-on-linux-64.php</A></p><p></p><p></p><p></u></p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">iostat<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><b><font face="Arial" style="font-size:10pt">RAID Info - <A HREF="http://www.thomas-krenn.com/en/wiki/RAID_Controller_and_Hard_Disk_Cache_Settings#Operating_System_Cache">http://www.thomas-krenn.com/en/wiki/RAID_Controller_and_Hard_Disk_Cache_Settings#Operating_System_Cache</A></p><p></p><p>iostat -xn 30</p><p></b></p><p><b>iostat -dcmxt /dev/sdX 2</p><p></p><p></p><p></p><p></b>Disk I/O can be investigated to find out whether it is primarily random or sequential. If sar -d reports that (blks/s)/(r+w/s) &lt; 16Kb (~32 blocks), the I/O is predominantly random. If the ratio is &gt; 128Kb (~256 blocks), it is predominantly sequential. This analysis may be useful when examining alternative disk configurations<b></p><p></b></p><p>Before doing iostat -   Find the device mapping using following command</p><p></p><p>ls -l /dev/mapper/* </p><p></p><p>==========OS AND ORACLE BINARIES ================</p><p></p><p>crw-rw---- 1 root root 10, 58 Nov 14 20:44 /dev/mapper/control</p><p>lrwxrwxrwx 1 root root      7 Nov 14 20:44 /dev/mapper/VG_Root-LogVol04 -&gt; ../dm-0</p><p>lrwxrwxrwx 1 root root      7 Nov 14 20:44 /dev/mapper/VG_Root-LogVol00 -&gt; ../dm-1</p><p>lrwxrwxrwx 1 root root      7 Nov 14 20:44 /dev/mapper/VG_Root-LogVol05 -&gt; ../dm-7</p><p>lrwxrwxrwx 1 root root      7 Nov 14 20:44 /dev/mapper/VG_Root-LogVol01 -&gt; ../dm-8</p><p>lrwxrwxrwx 1 root root      7 Nov 14 20:44 /dev/mapper/VG_Root-LogVol03 -&gt; ../dm-9</p><p>lrwxrwxrwx 1 root root      8 Nov 14 20:44 /dev/mapper/VG_Root-LogVol02 -&gt; ../dm-10</p><p></p><p>============== ORACLE DATA FILES</p><p></p><p>lrwxrwxrwx 1 root root      7 Nov 14 20:44 /dev/mapper/VG_Data-LogVol01 -&gt; ../dm-2</p><p>lrwxrwxrwx 1 root root      7 Nov 14 20:44 /dev/mapper/VG_Data-LogVol02 -&gt; ../dm-3</p><p>lrwxrwxrwx 1 root root      7 Nov 14 20:44 /dev/mapper/VG_Data-LogVol03 -&gt; ../dm-4</p><p>lrwxrwxrwx 1 root root      7 Nov 14 20:44 /dev/mapper/VG_Data-LogVol04 -&gt; ../dm-5</p><p>lrwxrwxrwx 1 root root      7 Nov 14 20:44 /dev/mapper/VG_Data-LogVol05 -&gt; ../dm-6</p><p>lrwxrwxrwx 1 root root      8 Nov 14 20:56 /dev/mapper/VG_Data-LogVol06 -&gt; ../dm-11</p><p></p><p>==============================================================</p><p>df -h</p><p></p><p>/dev/mapper/VG_Root-LogVol00                       20G  402M   18G   3% /</p><p>tmpfs                  16G  4.8G   11G  31% /dev/shm</p><p>/dev/sda1             388M   38M  330M  11% /boot</p><p>/dev/mapper/VG_Root-LogVol05                      385G   26G  340G   7% /data01</p><p>/dev/mapper/VG_Root-LogVol03                       29G  4.7G   23G  18% /home</p><p>/dev/mapper/VG_Root-LogVol01                       20G  2.5G   16G  14% /usr</p><p>/dev/mapper/VG_Root-LogVol02                       29G  283M   28G   2% /var</p><p></p><p>/dev/mapper/VG_Data-LogVol01                      296G   61G  221G  22% /data02</p><p>/dev/mapper/VG_Data-LogVol02                      493G  155G  313G  34% /data03</p><p>/dev/mapper/VG_Data-LogVol03                      690G  340G  315G  52% /data04</p><p>/dev/mapper/VG_Data-LogVol04                      985G  874G   62G  94% /data05</p><p>/dev/mapper/VG_Data-LogVol05                      394G  104G  271G  28% /data06</p><p>/dev/mapper/VG_Data-LogVol06                      394G   45G  329G  13% /backup</p><p></p><p>==============================================================</p><p></p><p>iostat 2 10</p><p></p><p>avg-cpu:  %user   %nice %system %iowait  %steal   %idle</p><p>           3.14    0.00    0.23    0.69    0.00   95.94</p><p></p><p>Device:            tps   Blk_read/s   Blk_wrtn/s   Blk_read   Blk_wrtn</p><p>sda               7.47        55.81      1179.76   17433188  368506564</p><p>sdb             313.06     31257.03     22978.62 9763345924 7177525968</p><p>sdc               0.06         0.49         0.48     153798     148704</p><p>sdd              28.13      3592.90         0.42 1122266638     131256</p><p>dm-0              0.09         0.13         0.58      40896     182448</p><p>dm-1              1.06         3.65         7.80    1139378    2436264</p><p>dm-2            103.25      1240.93       776.78  387614186  242631392</p><p>dm-3            200.62      1511.49      1528.49  472125530  477434672</p><p>dm-4            819.20      7964.19      6195.23 2487668306 1935121992</p><p>dm-5           1627.52     19246.77     12109.56 6011858042 3782501544</p><p>dm-6             94.46      1293.57       697.62  404055610  217905144</p><p>dm-7            145.02        19.48      1152.93    6083178  360125232</p><p>dm-8              0.26         3.53         0.84    1103274     263672</p><p>dm-9              2.09        27.56        15.67    8607714    4895752</p><p>dm-10             0.28         1.39         1.93     434834     603168</p><p>dm-11           208.94         0.05      1671.43      16850  522083536</p><p></p><p>====================================================</p><p></p><p></p><p></p><p>Device:            tps   Blk_read/s   Blk_wrtn/s   Blk_read   Blk_wrtn</p><p>sda               5.50        12.00        76.00         24        152</p><p>sdb            1118.00     39632.00    137492.00      79264     274984</p><p>sdc               0.00         0.00         0.00          0          0</p><p>sdd               0.00         0.00         0.00          0          0</p><p></p><p></p><p>dm-0              0.00         0.00         0.00          0          0</p><p>dm-1              0.00         0.00         0.00          0          0</p><p>dm-7             11.50        12.00        76.00         24        152</p><p>dm-8              0.00         0.00         0.00          0          0</p><p>dm-9              0.00         0.00         0.00          0          0</p><p>dm-10             0.00         0.00         0.00          0          0</p><p></p><p></p><p>dm-2              0.00         0.00         0.00          0          0</p><p>dm-3           9870.50         0.00     78904.00          0     157808</p><p>dm-4            179.00         0.00      1392.00          0       2784</p><p>dm-5           7610.50     39536.00     56952.00      79072     113904</p><p>dm-6             35.00         0.00       244.00          0        488</p><p>dm-11             0.00         0.00         0.00          0          0</p><p></p><p>avg-cpu:  %user   %nice %system %iowait  %steal   %idle</p><p>           0.98    0.00    0.31    2.00    0.00   96.70</p><p></p><p>Device:            tps   Blk_read/s   Blk_wrtn/s   Blk_read   Blk_wrtn</p><p>sda               0.00         0.00         0.00          0          0</p><p>sdb             672.50     51288.00     19108.00     102576      38216</p><p>sdc               0.00         0.00         0.00          0          0</p><p>sdd               0.00         0.00         0.00          0          0</p><p>dm-7              0.00         0.00         0.00          0          0</p><p>dm-8              0.00         0.00         0.00          0          0</p><p>dm-9              0.00         0.00         0.00          0          0</p><p>dm-10             0.00         0.00         0.00          0          0</p><p></p><p></p><p></p><p>dm-0              0.00         0.00         0.00          0          0</p><p>dm-1              0.00         0.00         0.00          0          0</p><p>dm-2              0.00         0.00         0.00          0          0</p><p>dm-3             48.00         0.00       364.00          0        728</p><p>dm-4              3.50         0.00        24.00          0         48</p><p>dm-5           2881.00     51288.00     18792.00     102576      37584</p><p>dm-6              0.00         0.00         0.00          0          0</p><p>dm-11             0.00         0.00         0.00          0          0</p><p></p><p>===================================================================</p><p>dm-3           3614.00         0.00     20960.00          0      41920</p><p>dm-4            106.00         0.00       608.00          0       1216</p><p>dm-5           4796.50     28592.00     35180.00      57184      70360</p><p>dm-6            106.50      6400.00         0.00      12800          0</p><p>======================================================</p><p></p><p></p></font><dt><br><dt style="margin-left:90;font: normal normal normal 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">nmon<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">SAR<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><b><font face="Arial" style="font-size:10pt">Generate readable report from sar output collected by the system</p><p></p><p>sar -P ALL -f /var/log/sa/sa23</p><p></p><p><A HREF="http://linuxadministrative.blogspot.com/p/linux-sar-command-examples.html">http://linuxadministrative.blogspot.com/p/linux-sar-command-examples.html</A></p><p></p><p>Overall I/O Activities (sar -b)</p><p></b></p><p></p><p>Use Tool to read sar report stored in </font><font face="Arial" style="font-size:9pt">/var/log/sa/</font><font face="Arial" style="font-size:10pt"></p><p></p><p><A HREF="http://sourceforge.net/p/sarface/wiki/Home/">http://sourceforge.net/p/sarface/wiki/Home/</A></p><p></p><p></p><p></p></font><dt><br><dt style="margin-left:108;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Overall Disk IO<dt><br><dt style="margin-left:140;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><b><font face="Arial" style="font-size:10pt">Overall I/O Activities (sar -b)</p><p></b></p><p>This reports I/O statistics. 1 3? reports for every 1 seconds a total of 3 times.</p><p></p><p>Following fields are displays in the example below.</p><p></p><p>tps  Transactions per second (this includes both read and write)</p><p>rtps  Read transactions per second</p><p>wtps  Write transactions per second</p><p>bread/s  Bytes read per second</p><p>bwrtn/s  Bytes written per second</p></font><dt><br><dt style="margin-left:108;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Setup<dt><br><dt style="margin-left:140;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><b><font face="Arial" style="font-size:10pt">Setup Reporting of Metrics (CPU, Memory, Disk, Network)</p><p></b></p><p><b>Default Cron Job is at /etc/cron.d/sysstat</p><p></b></p><p></font><font face="Courrier New" style="font-size:10pt"></font><font face="Courrier New" style="font-size:9pt"># Run system activity accounting tool every 10 minutes</p><p>*/10 * * * * root /usr/lib64/sa/sa1 1 1</p><p># 0 * * * * root /usr/lib64/sa/sa1 600 6 &amp;</p><p># Generate a daily summary of process accounting at 23:53</p><p>53 23 * * * root /usr/lib64/sa/sa2 -A</p><p></font><font face="Arial" style="font-size:9pt"></font><font face="Arial" style="font-size:10pt"></p><p></p><p><b>Confg file for keeping history</p><p></b>vi /etc/sysconfig/sysstat</p><p># the default is 7</p><p>HISTORY=7</p><p></p><p></p><p><b>Update it as follows to log all disk stats (the -d option force to log stats for each block device and the -I option force report statistics for all system interrupts)</p><p></b></p><p>*/10 * * * * root /usr/lib64/sa/sa1 -I -d 1 1</p><p># generate a daily summary of process accounting at 23:53</p><p>53 23 * * * root /usr/lib64/sa/sa2 -A</p><p></p><p><b>Save and close the file. Turn on the service</p><p></b># chkconfig sysstat on</p><p># service sysstat start</p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Paging<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">/proc/sys/vm/dirty_expire_centisecs</p><p> cat /proc/sys/vm/dirty_background_ratio</p><p>cat /proc/sys/vm/dirty_ratio</p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">iops Story<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"><A HREF="http://serverfault.com/questions/558523/relation-between-disk-iops-and-sar-tps">http://serverfault.com/questions/558523/relation-between-disk-iops-and-sar-tps</A></p><p></p><p>Get read and write iops/tps,  iops increases when you have cache</p><p></p><p>Note: </p><p></p><p>client-connection: If the network is Gigabit you will never have more than 100 MB/s input</p><p>disk-controller: If this is a 3 Gb controller you will never have more than 300 MB/s throughput</p><p></p><p>iostat -x </p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">iostat<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"> grep -A 1 &quot;iowait&quot; iostat.out | grep -v &quot;iowait&quot; | sed 's/\s\s*/ /g' | cut -d' ' -f 2,5</p><p></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">NETWORK<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">D:\PrivateWorkspace\techguide\os\unix</p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Storage<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Disk Model, Mapping, Size Etc</p><p></p><p>parted</p><p>print all</p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Example<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><b><font face="Arial" style="font-size:10pt">Example for adding Partion to Linux VM</b></p><p></p><p></p><p><A HREF="mailto:root@msus-vmpernddb3">[root@msus-vmpernddb3</A> ~]# fdisk /dev/sdb</p><p>Device contains neither a valid DOS partition table, nor Sun, SGI or OSF disklab                                                                                        el</p><p>Building a new DOS disklabel. Changes will remain in memory only,</p><p>until you decide to write them. After that, of course, the previous</p><p>content won't be recoverable.</p><p></p><p></p><p>The number of cylinders for this disk is set to 3916.</p><p>There is nothing wrong with that, but this is larger than 1024,</p><p>and could in certain setups cause problems with:</p><p>1) software that runs at boot time (e.g., old versions of LILO)</p><p>2) booting and partitioning software from other OSs</p><p>   (e.g., DOS FDISK, OS/2 FDISK)</p><p>Warning: invalid flag 0x0000 of partition table 4 will be corrected by w(rite)</p><p></p><p>Command (m for help): m</p><p>Command action</p><p>   a   toggle a bootable flag</p><p>   b   edit bsd disklabel</p><p>   c   toggle the dos compatibility flag</p><p>   d   delete a partition</p><p>   l   list known partition types</p><p>   m   print this menu</p><p>   n   add a new partition</p><p>   o   create a new empty DOS partition table</p><p>   p   print the partition table</p><p>   q   quit without saving changes</p><p>   s   create a new empty Sun disklabel</p><p>   t   change a partition's system id</p><p>   u   change display/entry units</p><p>   v   verify the partition table</p><p>   w   write table to disk and exit</p><p>   x   extra functionality (experts only)</p><p></p><p>Command (m for help): n</p><p>Command action</p><p>   e   extended</p><p>   p   primary partition (1-4)</p><p><b>p</p><p>Partition number (1-4): 1</p><p>First cylinder (1-3916, default 1): 1</p><p>Last cylinder or +size or +sizeM or +sizeK (1-3916, default 3916):</p><p>Using default value 3916</b></p><p></p><p><b>Command (m for help): p</p><p></b></p><p>Disk /dev/sdb: 32.2 GB, 32212254720 bytes</p><p>255 heads, 63 sectors/track, 3916 cylinders</p><p>Units = cylinders of 16065 * 512 = 8225280 bytes</p><p></p><p>   Device Boot      Start         End      Blocks   Id  System</p><p>/dev/sdb1               1        3916    31455238+  83  Linux</p><p></p><p><b>Command (m for help): w</p><p></b>The partition table has been altered!</p><p></p><p>Calling ioctl() to re-read partition table.</p><p>Syncing disks.</p><p></p><p><b><A HREF="mailto:root@msus-vmpernddb3">[root@msus-vmpernddb3</A> ~]# mkfs -t ext3 /dev/sdb1</p><p></b>mke2fs 1.39 (29-May-2006)</p><p>Filesystem label=</p><p>OS type: Linux</p><p>Block size=4096 (log=2)</p><p>Fragment size=4096 (log=2)</p><p>3932160 inodes, 7863809 blocks</p><p>393190 blocks (5.00%) reserved for the super user</p><p>First data block=0</p><p>Maximum filesystem blocks=4294967296</p><p>240 block groups</p><p>32768 blocks per group, 32768 fragments per group</p><p>16384 inodes per group</p><p>Superblock backups stored on blocks:</p><p>        32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632, 2654208,</p><p>        4096000</p><p></p><p>Writing inode tables: done</p><p>Creating journal (32768 blocks): done</p><p>Writing superblocks and filesystem accounting information: done</p><p></p><p>This filesystem will be automatically checked every 33 mounts or</p><p>180 days, whichever comes first.  Use tune2fs -c or -i to override.</p><p></p><p></p><p><b><A HREF="mailto:root@msus-vmpernddb3">[root@msus-vmpernddb3</A> ~]# vi /etc/fstab</p><p></b></p><p><A HREF="mailto:root@msus-vmpernddb3">[root@msus-vmpernddb3</A> ~]# cd /disk2/</p><p><A HREF="mailto:root@msus-vmpernddb3">[[root@msus-vmpernddb3</A> ~]# df -h</p><p>Filesystem            Size  Used Avail Use% Mounted on</p><p>/dev/mapper/VolGroup00-LogVol00</p><p>                      6.7G  3.3G  3.1G  52% /</p><p>/dev/sda1              99M   13M   82M  14% /boot</p><p>tmpfs                1006M     0 1006M   0% /dev/shm</p><p><b></p><p></p><p><A HREF="mailto:root@msus-vmpernddb3">[root@msus-vmpernddb3</A> ~]# mount -t ext3 /dev/sdb1 /disk2</p><p></p><p></p><p></b><A HREF="mailto:root@msus-vmpernddb3">[root@msus-vmpernddb3</A> ~]# df -k</p><p>Filesystem           1K-blocks      Used Available Use% Mounted on</p><p>/dev/mapper/VolGroup00-LogVol00</p><p>                       6983168   3395216   3227504  52% /</p><p>/dev/sda1               101086     12625     83242  14% /boot</p><p>tmpfs                  1029816         0   1029816   0% /dev/shm</p><p>/dev/sdb1             30961664    176200  29212704   1% /disk2</p><p><A HREF="mailto:root@msus-vmpernddb3">[root@msus-vmpernddb3</A> ~]#</p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aoflag8.gif"><img src="aoicon0.gif">Adding Space to VM<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><b><font face="Arial" style="font-size:10pt">D:\PrivateWorkspace\techguide\virtualization</p><p></p></b></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Info<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Volume Information</p><p></p><p>cat /proc/mdstat</p><p></p><p></p><p>Creating RAID</p><p></p><p>  492  mdadm -D /dev/mdxx</p><p></p><p>  494  lshw -short -c disk</p><p></p><p>  495  fdisk -l | grep disk</p><p>  496  /sbin/fdisk -l</p><p>  497  fdisk -l</p><p>  498  /sbin/fdisk -l</p><p>  499  lvs</p><p>  500  pvs</p><p>  501  lvs</p><p>  502  mount</p><p>  503  iostat 1</p><p>  504  hdparm -t /dev/sdb</p><p>  505  hdparm /dev/sdb</p><p>  506  lshw</p><p>  507  man -k hardware</p><p>  508  uname -a</p><p>  509  yum search lshw</p><p>  510  yum install lshw</p><p>  511  lshw</p><p>  512  lshw | less</p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">USB Mounting<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Device List Mapping</p><p><A HREF="https://www.kernel.org/pub/linux/docs/lanana/device-list/devices-2.6.txt">https://www.kernel.org/pub/linux/docs/lanana/device-list/devices-2.6.txt</A></p><p></p><p></p><p>### list the files on the server</p><p></p><p>- lsusb</p><p></p><p>### List all block devices</p><p></p><p>- fdisk -l</p><p>- Choose the disk from listed results</p><p></p><p>### Use parted to list the devices</p><p></p><p>- parted /dev/sdc1</p><p></p><p>#### Print the unmounted disks</p><p></p><p>- (parted) p  </p><p></p><p>### Mount the Drive</p><p></p><p>mount /dev/sdc1</p><p></p><p>### Un Mount the Drive</p><p></p><p>umount /dev/sdc1</p><p></p><p>### Know More about the disk type</p><p></p><p> parted /dev/sdc</p><p></p><p></p><p>Note: If you mount the disk to an existing directory the directory gets overlayed (masked) after the mount.  Your directory is still safe and you will get it back when you unmount the</p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">FileSystem<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">man hier  - to find all filesystem directory information</p><p></p><p>/bin - executable</p><p>/usr/bin - executable</p><p>/etc - configuration</p><p>/lib - shared libraries</p><p>/usr - most sofware</p><p>/var - files that change</p><p></p><p></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">awk<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Calibri" style="font-size:12pt"></font><font face="Calibri" style="font-size:12pt"># Get Minute count of form submission</p><p>#grep &quot;2014:09&quot; access_2014-01-14-13_36_50.log | grep &quot;Pushproxy&quot; | cut -d[ -f2 | cut -d] -f1 | awk -F: '{print $2&quot;:&quot;$3}' | sort -nk1 -nk2 | uniq -c | awk '{ if ($1 &gt;= 10) print $0}'</p><p></p><p># Get Minute count of form open</p><p>#grep &quot;2014:09&quot; access_2014-01-14-13_36_50.log | grep &quot;GET /ms/systemi/Fastform&quot; | cut -d[ -f2 | cut -d] -f1 | awk -F: '{print $2&quot;:&quot;$3}' | sort -nk1 -nk2 | uniq -c | awk '{ if ($1 &gt;= 10) print $0}'</p><p></p><p># Get Minute count of report open</p><p>#grep &quot;2014:09&quot; access_2014-01-14-13_36_50.log | grep &quot;GET /ms/systemi/Reportsstart&quot; | cut -d[ -f2 | cut -d] -f1 | awk -F: '{print $2&quot;:&quot;$3}' | sort -nk1 -nk2 | uniq -c | awk '{ if ($1 &gt;= 1) print $0}'</font><font face="Calibri" style="font-size:10pt"></p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Apache Log Analysis<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"><A HREF="http://www.inmotionhosting.com/support/website/server-usage/view-level-of-traffic-with-apache-access-log">http://www.inmotionhosting.com/support/website/server-usage/view-level-of-traffic-with-apache-access-log</A></p><p></p><p>### Process Apache Log file to extract time</p><p></p><p></font><font face="Lucida Console" style="font-size:10pt"></font><font face="Lucida Console" style="font-size:9pt">grep &quot;2014:09&quot; access_2014-01-14-13_36_50.log | grep &quot;GET /ms/systemi/Reportsstart&quot; | cut -d[ -f2 | cut -d] -f1 | awk -F: '{print $2&quot;:&quot;$3}' | sort -nk1 -nk2 | uniq -c | awk '{ if ($1 &gt; 3) print $0}'</p><p></p><p></p><p>162.95.159.23 - - [14/Jan/2014:09:59:54 -0500] &quot;GET /ms/systemi/Reportsstart?REPORT_ID=104714&amp;source=Infocenterview%3Finfocenid%3D140300 HTTP/1.1&quot; 200 7531 &quot;https://wpp.ms.com/ms/systemi/Infocenterview?infocenid=140300&amp;Userid=226755&amp;backId=-1&amp;screenwidth=1280&amp;screenwidth=1280&quot; &quot;Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; WOW64; Trident/4.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; .NET CLR 1.1.4322; .NET4.0C; .NET4.0E; InfoPath.3; MS-RTC LM 8)&quot;</p><p></font><font face="Arial" style="font-size:9pt"></font><font face="Arial" style="font-size:10pt"></p><p></p><p>Step 1  - Delimiter [,  Extract field 2 after parsing</p><p></font><font face="Lucida Console" style="font-size:10pt"></font><font face="Lucida Console" style="font-size:9pt">cut -d[ -f2</font><font face="Lucida Console" style="font-size:10pt"></p><p></p><p></font><font face="Lucida Console" style="font-size:10pt"></font><font face="Lucida Console" style="font-size:9pt">14/Jan/2014:09:59:54 -0500] &quot;GET /ms/systemi/Reportsstart?REPORT_ID=104714&amp;source=Infocenterview%3Finfocenid%3D140300 HTTP/1.1&quot; 200 7531 &quot;https://wpp.ms.com/ms/systemi/Infocenterview?infocenid=140300&amp;Userid=226755&amp;backId=-1&amp;screenwidth=1280&amp;screenwidth=1280&quot; &quot;Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; WOW64; Trident/4.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; .NET CLR 1.1.4322; .NET4.0C; .NET4.0E; InfoPath.3; MS-RTC LM 8)&quot;</p><p></font><font face="Arial" style="font-size:9pt"></font><font face="Arial" style="font-size:10pt"></p><p></p><p>### Extract Field before ]</p><p></p><p></font><font face="Lucida Console" style="font-size:10pt"></font><font face="Lucida Console" style="font-size:9pt">cut -d] -f1</p><p>14/Jan/2014:09:59:54 -0500</font><font face="Lucida Console" style="font-size:10pt"></p><p></p><p>### Split the time by delimiter colon (-F:)</p><p></p><p></font><font face="Lucida Console" style="font-size:10pt"></font><font face="Lucida Console" style="font-size:9pt">awk -F: '{print $2&quot;:&quot;$3}'</p><p>09:59</p><p></p><p></font><font face="Lucida Console" style="font-size:9pt">### Sort them</p><p>sort -nk1 -nk2</p><p></p><p></font><font face="Lucida Console" style="font-size:9pt">### Count Unique Values (Grouping)</p><p>uniq -c</p><p></p><p></font><font face="Lucida Console" style="font-size:9pt">### Print only if the Count is Greater than three (print $0 prints everything, print $1 prints count, print $2 prints time)</p><p>awk '{ if ($1 &gt; 3) print $0}'</p><p></p><p></font><font face="Arial" style="font-size:9pt"></font><font face="Arial" style="font-size:10pt"></p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Remove Double Quoted String<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"></p><p>&gt;&gt; echo &quot;abc \&quot;do not process = this\&quot; def=10 \&quot;do not process this = either\&quot;&quot; | sed 's/&quot;[^&quot;]*&quot;//g'</p><p></p><p>Prints </p><p>abc def=10</p><p></p><p>This command will replace the text within double quotes with empty space and eliminates it</p><p>sed 's/&quot;[^&quot;]*&quot;//g'</p><p></p><p></p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Extract Multiple Fields<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">-- Extract field using space delimitor using cut/awk</p><p></p><p></p><p> cut -d' ' -f 7,8,9,10,11</p><p></p><p>awk -F&quot; &quot; '{print $1}'</p></font><dt><br><dt style="margin-left:90;font: normal normal normal 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Split by Space<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Collapse multiple space to single space<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">sed 's/\s\s*/ /g'</p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Find Duplidate Words<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">store names with comma separated  </p><p>Example test.txt: hello world,how are  </p><p></p><p>grep &quot;,&quot; test.txt | awk '{split($0, array, &quot;,&quot;)} END {for (a in array) print array[a]}' | uniq -c | wc -l</p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">SUM<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"></p><p></p><p>extract numbers and pipe to - awk '{s+=$1} END {print s}' </p></font><dt><br><dt style="margin-left:72;font: normal normal normal 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Shell Programming<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Pass arguments to shell<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">test.sh 1</p><p></p><p>#!bin/csh</p><p>  </p><p>echo $0</p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Arguments<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Calibri" style="font-size:12pt"></font><font face="Calibri" style="font-size:12pt"># <A HREF="http://www.inmotionhosting.com/support/website/server-usage/view-level-of-traffic-with-apache-access-log">http://www.inmotionhosting.com/support/website/server-usage/view-level-of-traffic-with-apache-access-log</A></p><p>#!/bin/csh -f</p><p>echo The $0 command is called $#argv</p><p>echo log file: $1</p><p>grep &quot;2014:09&quot; $1 | wc -l</p><p></p><p></font><font face="Arial" style="font-size:12pt"></font><font face="Arial" style="font-size:10pt"></p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Date in Scripts<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"><A HREF="http://www.linuxjournal.com/article/1299">http://www.linuxjournal.com/article/1299</A></p><p></p><p></p><p>#Get Date for FILE</p><p>TODAY=$(date +%Y%m%d)</p><p></p><p></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Password Generation<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"></p><p>Generate 96 character password</p><p></p><p>pwgen -s 96</p><p></p><p>echo -n yourpassword | shasum -a 256</p><p></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">RPM<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">D:\PrivateWorkspace\techguide\scripts\s_rpm.sh</p></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">telnet<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"></p><p>To exit session - CTRL+]</p><p>Type quit to close</p></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">VM Setup<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"></p><p><b>Download ISO OS</p><p></b></p><p>Network - Setup as Bridge Network to get it's own ip  OR NAT to setup port forwarding</p><p></p><p>### Sometimes network interface doesn't come up so use this command (CentOS)</p><p>ifup eth0</p><p></p><p>## File Transfer Between VMs</p><p></p><p>Source</p><p>Setup Port Forwarding -  SSH TCP Host Port: 5500 (random valid open port) - Guest Port: 22</p><p></p><p></p><p>Target</p><p>Setup Port Forwarding -  SSH TCP Host Port: 4500 (random valid open port) - Guest Port: 22</p><p>(Guest/Host IP can be empty)</p><p></p><p>From Target  : </p><p></p><p>scp -p 5500 <A HREF="mailto:root@source">root@source:file</A> . </p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Vagrant<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">vagrant package --base SPECIFIC_NAME_FOR_VM --output /yourfolder/OUTPUT_BOX_NAME.box</p><p></p><p></p></font><dt><br><dt style="margin-left:36;font: normal normal normal 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">DATABASE<dt><br><dt style="margin-left:68;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Oracle<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Oracle KnowledgeBase</p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Startup/Shutdown<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">startup</p><p>startup nomount;</p><p>startup mount;</p><p>startup restricted</p><p></p><p>startup with pfile</p><p></p><p></p><p>shutdown normal;</p><p>shutdown immedidate;</p><p>#allow transactions to complete</p><p>SHUTDOWN TRANSACTIONAL</p><p>SHUTDOWN ABORT </p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">TNSListener<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"></p><p>Status Check</p><p>tnspng host</p><p></p><p>Start Datbase Server</p><p>lstrctl start - to start database server</p><p></p><p>lsnrctl status</p><p></p><p>Start Database Instance</p><p>sqlplus SYS AS SYSDBA</p><p>startup - to start the databases</p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Linux Setup<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Calibri" style="font-size:12pt"></font><font face="Calibri" style="font-size:11pt">Very Good Documentation</p><p><A HREF="http://www.tecmint.com/oracle-database-11g-release-2-installation-in-linux/">http://www.tecmint.com/oracle-database-11g-release-2-installation-in-linux/</A></p><p></p><p></p><p>Oracle on Linux</p><p></p><p style="margin-left:52"></font><font face="Symbol" style="font-size:11pt">∑	</font><font face="Calibri" style="font-size:11pt">Create dba user group (groupadd  dba)</p><p style="margin-left:52"></font><font face="Symbol" style="font-size:11pt">∑	</font><font face="Calibri" style="font-size:11pt">Create oracle user and add him to dba usergroup (useradd oracle -G dba)</p><p style="margin-left:124"></font><font face="Courier New" style="font-size:11pt">o	</font><font face="Calibri" style="font-size:11pt">Change Password:  su - oracle</p><p style="margin-left:124"></font><font face="Courier New" style="font-size:11pt">o	</font><font face="Calibri" style="font-size:11pt">Passwd - to change the password</p><p style="margin-left:52"></font><font face="Symbol" style="font-size:11pt">∑	</font><font face="Calibri" style="font-size:11pt">Create install directory (/disk2/oracle/product/11.2.0/db2)</p><p style="margin-left:52"></font><font face="Symbol" style="font-size:11pt">∑	</font><font face="Calibri" style="font-size:11pt">Connect VNC Client (Any other xwindows client) and also Make sure VNC Server is running on the Unix Machine</p><p style="margin-left:124"></font><font face="Courier New" style="font-size:11pt">o	</font><font face="Calibri" style="font-size:11pt">Note - If you are installing from the console you need to type the following <u>as root</u>, before logging in to the oracle account: <br># <b>xhost +</b><br>If you are installing from a remote sessions:<br><b>ssh -X <A HREF="mailto:oracle@server_ip_address">oracle@server_ip_address</A></b>. <br>Alternatively, if you are installing from the console by opening a terminal window as root, you can also use &quot;ssh -X <A HREF="mailto:oracle@localhost&quot">oracle@localhost&quot;,</A> in which you do not need to use the xhost command. <br>NOTE: When you use SSH with X-Forwarding, do not set any DISPLAY environment variable because SSH does it for you. When using SSH, you cannot login as root and do &quot;su - oracle&quot; since it will break X-forwarding.<br></p><p style="margin-left:124"><b>Possible Exception</b></p><p style="margin-left:124"></p><p style="margin-left:124"><i>To test if X-Forwarding works, simply type &quot;xclock&quot;, which will show a clock on your desktop.</p><p style="margin-left:124"></p><p style="margin-left:124">Checking Temp space: must be greater than 120 MB.   Actual 2783 MB    Passed</p><p style="margin-left:124">Checking swap space: must be greater than 150 MB.   Actual 1023 MB    Passed</p><p style="margin-left:124">Checking monitor: must be configured to display at least 256 colors</p><p style="margin-left:124">    &gt;&gt;&gt; Could not execute auto check for display colors using command /usr/bin/x</p><p style="margin-left:124">dpyinfo. Check if the DISPLAY variable is set.    Failed &lt;&lt;&lt;&lt;</p><p style="margin-left:124"></p><p style="margin-left:124">Some requirement checks failed. You must fulfill these requirements before</p><p style="margin-left:124"></p><p style="margin-left:124">continuing with the installation,</p><p style="margin-left:124"></p><p style="margin-left:124">Continue? (y/n) [n] y</p><p style="margin-left:124"></p><p style="margin-left:124"></p><p style="margin-left:124">&gt;&gt;&gt; Ignoring required pre-requisite failures. Continuing...</p><p style="margin-left:124">Preparing to launch Oracle Universal Installer from /tmp/OraInstall2013-05-17_03</p><p style="margin-left:124">-00-58AM. Please wait <A HREF="mailto:oracle@msus-vmpernddb3">...[oracle@msus-vmpernddb3</A> database]$ Xlib: connection to &quot;:1.0&quot; refused by server</p><p style="margin-left:124">Xlib: No protocol specified</p><p style="margin-left:124"></p><p style="margin-left:124">Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError</p><p style="margin-left:124">        at java.lang.Class.forName0(Native Method)</p><p style="margin-left:124">        at java.lang.Class.forName(Class.java:164)</p><p style="margin-left:124">        at java.awt.Toolkit$2.run(Toolkit.java:821)</p><p style="margin-left:124">        at java.security.AccessController.doPrivileged(Native Method</p><p style="margin-left:124"></i></p><p style="margin-left:124"></p><p style="margin-left:52"></font><font face="Symbol" style="font-size:11pt">∑	</font><font face="Calibri" style="font-size:11pt">Install Oracle Database with Software Only Option (Do not create database) - Run (./runInstaller -ignoresysPrereqs)</p><li><p style="margin-left:132">Oracle base /disk2/oracle</p><li><p style="margin-left:132">Software Location /disk2/oracle/product/11.2.0/db3</p></ul><p style="margin-left:124"></font><font face="Courier New" style="font-size:11pt">o	</font><font face="Calibri" style="font-size:11pt">Choose Global SID: (eg. PEDB)</p><p style="margin-left:124"></font><font face="Courier New" style="font-size:11pt">o	</font><font face="Calibri" style="font-size:11pt"> Manually create directory for the oradata: (Eg. /disk2/oracle/oradata/PEDB)</p><p style="margin-left:52"></font><font face="Symbol" style="font-size:11pt">∑	</font><font face="Calibri" style="font-size:11pt">TNS Listener Configuration (Choose default configuration)</p><p style="margin-left:124"></font><font face="Courier New" style="font-size:11pt">o	</font><font face="Calibri" style="font-size:11pt">.&lt;Oracle Home&gt;/bin/netca</p><p style="margin-left:52"></font><font face="Symbol" style="font-size:11pt">∑	</font><font face="Calibri" style="font-size:11pt">DB Configuration - Create New Database (Choose character set UTF-8 for both default and national )</p><p style="margin-left:124"></font><font face="Courier New" style="font-size:11pt">o	</font><font face="Calibri" style="font-size:11pt">.&lt;Oracle Home&gt;/bin/dbca</p><p style="margin-left:52"></font><font face="Symbol" style="font-size:11pt">∑	</font><font face="Calibri" style="font-size:11pt">Import DB</p><li><p style="margin-left:116">Create user and tablespace</p></ul><p style="margin-left:124"></font><font face="Courier New" style="font-size:11pt">o	</font><font face="Calibri" style="font-size:11pt">Check the directory where the dump exists belongs to oracle group</p><p style="margin-left:124"></font><font face="Courier New" style="font-size:11pt">o	</font><font face="Calibri" style="font-size:11pt">. oraenv  (. space oraenv)</p><p style="margin-left:124"></font><font face="Courier New" style="font-size:11pt">o	</font><font face="Calibri" style="font-size:11pt">sqlplus as oracle user</p><p style="margin-left:124"></font><font face="Courier New" style="font-size:11pt">o	</font><font face="Calibri" style="font-size:11pt">CREATE OR REPLACE DIRECTORY EXP_DUMPS AS &lt;unix path to dump file&gt;</p><p style="margin-left:124"></font><font face="Courier New" style="font-size:11pt">o	</font><font face="Calibri" style="font-size:11pt">Change the param file appropriately</p><p style="margin-left:124"></font><font face="Courier New" style="font-size:11pt">o	</font><font face="Calibri" style="font-size:11pt">impdp REFCERT/refcert parfile=impdp.par</p><p style="margin-left:124"></p><p></p><p><b>To start sqlplu  (Login As root and Switch to oracle or login as oracle user directly)</p><p style="margin-left:52">&gt;su - oracle</p><p style="margin-left:52">setup environment variables</p><p style="margin-left:52">&gt;. oraenv</b></p><p></font><font face="Arial" style="font-size:11pt"></font><font face="Arial" style="font-size:10pt"></p><p></p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">shmmax - sga<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"><A HREF="http://padmavyuha.blogspot.com/2010/12/configuring-shmmax-and-shmall-for.html">http://padmavyuha.blogspot.com/2010/12/configuring-shmmax-and-shmall-for.html</A></p><p></p><p><b>Whats the optimal value for SHMALL?</p><p></b></p><p></p><p>As SHMALL is the total size of <b>Shard Memory Segments System wide</b>, it should always be less than the Physical Memory on the System and should be greater than sum of SGAs of all the oracle databases on the server. Once this value (sum of SGAs) hit the limit, i.e. the value of shmall, then any attempt to start a new database (or even an existing database with a resized SGA) will result in an out of memory error (below). This is because there wont be any more shared memory segments that Linux can allocate for SGA.</p><p></p><p></p><p>ORA-27102: out of memory</p><p></p><p>Linux-x86_64 Error: 28: No space left on device.</p><p></p><p><u><b><i>The key thing to note here is the value of SHMMAX is set in &quot;bytes&quot; but the value of SHMMALL is set in &quot;pages&quot;</u></b></i></p><p></p><p><b>Whats the optimal value for SHMMAX?</p><p></b></p><p>Oracle makes use of one of the 3 memory management models to create the SGA during database startup and it does this in following sequence. First Oracle attempts to use the one-segment model and if this fails, it proceeds with the next one which's the contiguous multi-segment model and if that fails too, it goes with the last option which is the non-contiguous multi-segment model.</p><p></p><p>So during startup it looks for shmmax parameter and compares it with the initialization parameter *.sga_target. If shmmax &gt; *.sga_target, then oracle goes with one-segment model approach where the entire SGA is created within a single shared memory segment.</p><p></p><p>But the above attempt (one-segment) fails if SGA size otherwise *.sga_target  &gt; shmmax, then Oracle proceeds with the 2nd option  contiguous multi-segment model. Contiguous allocations, as the name indicates are a set of shared memory segments which are contiguous within the memory and if it can find such a set of segments then entire SGA is created to fit in within this set. </p><p></p><p></p><p>But if cannot find a set of contiguous allocations then last of the 3 options is chosen  non-contiguous multi-segment allocation and in this Oracle has to grab the free memory segments fragmented between used spaces.</p><p></p><p><u>SGA Query</u></p><p></p><p>select sga_size, sga_size_factor, estd_db_time, estd_db_time_factor, estd_physical_reads </p><p>from v$sga_target_advice;</p><p>  </p><p>  show parameter sga_target;</p><p>  select component, current_size from v$sga_dynamic_components;  </p><p>  select sum(value)/1024/1024 &quot;Megabytes&quot; from v$sga;</p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">DBScripts/CheatSheet<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Scripts for Database</p><p></p><p>### Look here for Oracle Provided Scripts</p><p></p><p>/disk2/oracle/product/11.2.0/db2/rdbms/admin</p></font><dt><br><dt style="margin-left:90;font: normal normal normal 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">DDL<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><dt><br><dt style="margin-left:108;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Create Sequence<dt><br><dt style="margin-left:140;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">CREATE SEQUENCE  &quot;SCHEMA&quot;.&quot;SI_PROCESS_INSTANCE_ID_S&quot;  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 88401 CACHE 20 NOORDER  NOCYCLE ;</p></font><dt><br><dt style="margin-left:108;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Create Tablespace<dt><br><dt style="margin-left:140;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"></p><p>CREATE TABLESPACE REFIMP_DATA DATAFILE </p><p>'C:\APP\ADMINISTRATOR\ORADATA\REFIMPUP\REFIMP_DATA.DBF' SIZE </p><p>512M AUTOEXTEND ON NEXT 512M MAXSIZE UNLIMITED </p><p>LOGGING ONLINE PERMANENT EXTENT MANAGEMENT LOCAL </p><p>AUTOALLOCATE BLOCKSIZE 8K SEGMENT SPACE MANAGEMENT </p><p>AUTO FLASHBACK ON;</p><p></p><p></p><p>  CREATE TABLESPACE &quot;RND1_DATA&quot; DATAFILE </p><p>  'D:\APP\SURESH.R\ORADATA\RND\RND1_DATA' SIZE 536870912</p><p>  AUTOEXTEND ON NEXT 26214400 MAXSIZE 1073741824</p><p>  LOGGING ONLINE PERMANENT BLOCKSIZE 8192</p><p>  EXTENT MANAGEMENT LOCAL AUTOALLOCATE DEFAULT NOCOMPRESS  SEGMENT SPACE MANAGEMENT AUTO;</p><p></p><p>  CREATE TABLESPACE &quot;RND1_IDX&quot; DATAFILE </p><p>  'D:\APP\SURESH.R\ORADATA\RND\RND1_IDX' SIZE 536870912</p><p>  AUTOEXTEND ON NEXT 26214400 MAXSIZE 1073741824</p><p>  LOGGING ONLINE PERMANENT BLOCKSIZE 8192</p><p>  EXTENT MANAGEMENT LOCAL AUTOALLOCATE DEFAULT NOCOMPRESS  SEGMENT SPACE MANAGEMENT AUTO;</p><p></p><p>  CREATE TEMPORARY TABLESPACE &quot;RND1_TEMP&quot; TEMPFILE </p><p>  'D:\APP\SURESH.R\ORADATA\RND\RND1_TEMP' SIZE 1073741824</p><p>  EXTENT MANAGEMENT LOCAL UNIFORM SIZE 536870912;</p><p></p><p>Tablespace size</p><p></p><p>select b.tablespace_name, tbs_size SizeMb, a.free_space FreeMb</p><p></p><p>from  (select tablespace_name, round(sum(bytes)/1024/1024 ,2) as free_space</p><p></p><p>       from dba_free_space</p><p></p><p>       group by tablespace_name) a,</p><p></p><p>      (select tablespace_name, sum(bytes)/1024/1024 as tbs_size</p><p></p><p>       from dba_data_files</p><p></p><p>       group by tablespace_name) b</p><p></p><p>where a.tablespace_name(+)=b.tablespace_name;</p></font><dt><br><dt style="margin-left:108;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Create View<dt><br><dt style="margin-left:140;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"></p><p>  CREATE OR REPLACE FORCE VIEW &quot;SCHEMA_USER&quot;.&quot;SI_ACTIONS_V&quot; (&quot;ACTION_ID&quot;, &quot;ACTION_NAME&quot;, &quot;DESCRIPTION&quot;, &quot;ACTION_TYPE&quot;) AS </p><p>  SELECT a.action_id,</p><p>		           a.action_name,</p><p>                           a.description,</p><p>                           meaning</p><p>		    FROM si_actions a, si_lookups b</p><p>	            WHERE</p><p>			a.action_type = b.lookup_code and</p><p>		        lookup_type = 'ACTION_TYPE'</p><p>                    order by a.creation_date desc;</p></font><dt><br><dt style="margin-left:108;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Create Package<dt><br><dt style="margin-left:140;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Create Package - See Header and Body subsection</p><p></p></font><dt><br><dt style="margin-left:126;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Header<dt><br><dt style="margin-left:158;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">create or replace </p><p>PACKAGE SI_UTILITIES_SV as</p><p></p><p>PROCEDURE cleanup_on_req_rep_results(x_error_code	IN OUT NUMBER,</p><p>				     x_error_message  IN OUT VARCHAR2);</p><p></p><p>/*===========================================================================</p><p>  PROCEDURE NAME:		cleanup_on_request_results</p><p></p><p>  DESCRIPTION:    	Truncates metric results tables for metrics that</p><p>				are on-request</p><p></p><p>  PARAMETERS:		None</p><p></p><p>  DESIGN REFERENCES:</p><p></p><p>  ALGORITHM:</p><p></p><p>  NOTES:</p><p></p><p>  OPEN ISSUES:</p><p></p><p>  CLOSED ISSUES:</p><p></p><p>  CHANGE HISTORY:	Peter Chow		Created		05/23/2002</p><p>===========================================================================*/</p><p>PROCEDURE cleanup_on_request_results;</p><p></p><p>/*===========================================================================</p><p>  PROCEDURE NAME:	check_pf_looping</p><p></p><p>  DESCRIPTION:    	Check for the possible looping within a PF Designer</p><p>                        for a selected Process Flow</p><p></p><p>  PARAMETERS:		x_process_flow_id   IN       Number</p><p>                        x_error_message     IN OUT   Varchar2</p><p>                        x_error_code        IN OUT   Varchar2</p><p>                                             0 Success (No Error)</p><p>                                           &gt; 0 Application Error (Looping, etc)</p><p>                                           &lt; 0 Oracle Error</p><p></p><p>  DESIGN REFERENCES:</p><p></p><p>  ALGORITHM:		 Takes each object which is an ALERT, ACTION and looks</p><p>                         for a possible looping because of the wire behavior</p><p></p><p>  NOTES:</p><p></p><p>  OPEN ISSUES:</p><p></p><p>  CLOSED ISSUES:</p><p></p><p>  CHANGE HISTORY:	Bala		   Created		06/21/2004</p><p>===========================================================================*/</p><p>PROCEDURE check_pf_looping (x_process_flow_id    IN        NUMBER,</p><p>                            x_error_code         IN OUT    VARCHAR2,</p><p>                            x_error_message      IN OUT    VARCHAR2);</p><p>/*===========================================================================</p><p>  PROCEDURE NAME:	check_implicit_loop</p><p></p><p>  DESCRIPTION:    	Check for the possible implicit looping within a PF Designer</p><p>                        for a selected Process Flow</p><p></p><p>  PARAMETERS:		x_process_flow_id   IN       Number</p><p>                        x_error_message     IN OUT   Varchar2</p><p>                        x_error_code        IN OUT   Varchar2</p><p>                                             0 Success (No Error)</p><p>                                           &gt; 0 Application Error (Looping, etc)</p><p>                                           &lt; 0 Oracle Error</p><p></p><p>  DESIGN REFERENCES:</p><p></p><p>  ALGORITHM:		   Looks at Si_Alert_Actions for mappings between</p><p>                           an Action and multiple Rules</p><p></p><p>  NOTES:</p><p></p><p>  OPEN ISSUES:</p><p></p><p>  CLOSED ISSUES:</p><p></p><p>  CHANGE HISTORY:	Bala		   Created		06/21/2004</p><p>===========================================================================*/</p><p>PROCEDURE check_implicit_loop  (x_process_flow_id    IN       NUMBER,</p><p>                                x_error_code         IN OUT   VARCHAR2,</p><p>                                x_error_message      IN OUT   VARCHAR2);</p><p></p><p>/*===========================================================================</p><p>  PROCEDURE NAME:	clean_up_infolet_results</p><p></p><p>  DESCRIPTION:    	The data from the infolet results table will be backed up</p><p>                        and deleted prior to specified date</p><p></p><p></p><p>  PARAMETERS:		x_metric_date       IN       Date</p><p>                        x_file_name         IN       Number</p><p>                        x_error_message     IN OUT   Varchar2</p><p>                        x_error_code        IN OUT   Varchar2</p><p>                                             0 Success (No Error)</p><p>                                           &gt; 0 Application Error</p><p>                                           &lt; 0 Oracle Error</p><p></p><p>  DESIGN REFERENCES:</p><p></p><p>  ALGORITHM:		 Looks for SI_nnn_T tables based on x_infolet_date, back up data</p><p>  			 and delete records from that</p><p></p><p>  NOTES:</p><p></p><p>  OPEN ISSUES:</p><p></p><p>  CLOSED ISSUES:</p><p></p><p>  CHANGE HISTORY:	Bala		   Created		08/05/2004</p><p>===========================================================================*/</p><p>PROCEDURE clean_up_infolet_results (x_metric_date        IN        DATE,</p><p>                                    x_error_code         IN OUT    VARCHAR2,</p><p>                                    x_error_message      IN OUT    VARCHAR2);</p><p>/*===========================================================================</p><p>  PROCEDURE NAME:	drop_backup_tables</p><p></p><p>  DESCRIPTION:    	This drop will all the backup tables starting</p><p>                        with 'TMP_100%'</p><p></p><p></p><p>  PARAMETERS:		x_error_code        IN OUT  VARCHAR2</p><p>                        x_error_message     IN OUT  VARCHAR2</p><p></p><p>  DESIGN REFERENCES:</p><p></p><p>  ALGORITHM:</p><p></p><p>  NOTES:</p><p></p><p>  OPEN ISSUES:</p><p></p><p>  CLOSED ISSUES:</p><p></p><p>  CHANGE HISTORY:	Bala		   Created		08/06/2004</p><p>===========================================================================*/</p><p>PROCEDURE  drop_backup_tables( x_error_code     IN  OUT VARCHAR2,</p><p>                               x_error_message  IN  OUT VARCHAR2);</p><p>/*===========================================================================</p><p>  PROCEDURE NAME:		update_user_guide_table</p><p></p><p>  DESCRIPTION:    	inserting the entry in to the SI_USER_GUIDE_T table</p><p></p><p>  PARAMETERS:		 x_application_name in varchar2,</p><p>                     x_user_guide_file_name in varchar2,</p><p>                     x_label_name in varchar2,</p><p>                     x_enabled_flag in varchar2</p><p></p><p>  DESIGN REFERENCES:</p><p></p><p>  ALGORITHM:</p><p></p><p>  NOTES:</p><p></p><p>  OPEN ISSUES:</p><p></p><p>  CLOSED ISSUES:</p><p></p><p>  CHANGE HISTORY:	G P Raju		Created		10/11/2011</p><p>===========================================================================*/</p><p>PROCEDURE update_user_guide_table(</p><p>         x_application_name in varchar2,</p><p>         x_user_guide_file_name in varchar2,</p><p>         x_label_name in varchar2,</p><p>         x_enabled_flag in varchar2);</p><p></p><p>END SI_UTILITIES_SV;</p></font><dt><br><dt style="margin-left:126;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Body<dt><br><dt style="margin-left:158;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">create or replace </p><p>PACKAGE BODY SI_UTILITIES_SV as</p><p>/*$Id: siutlb.pls,v 1.13.8.1 2007-12-07 08:06:09 praveen Exp $*/</p><p></p><p>/*===========================================================================</p><p></p><p>  PROCEDURE NAME:		cleanup_on_req_rep_results</p><p></p><p>===========================================================================*/</p><p>PROCEDURE cleanup_on_req_rep_results(x_error_code	IN OUT NUMBER,</p><p>						 x_error_message  IN OUT VARCHAR2) IS</p><p></p><p>  e_proc_exception exception;</p><p>  x_progress varchar2(3) := '010';</p><p>  x_metric_id number;</p><p>  x_metric_name varchar2(500);</p><p>  x_count number;</p><p>  x_sql_stmt varchar2(1000);</p><p></p><p>  CURSOR c1 is SELECT metric_id,metric_name FROM si_metrics a</p><p>	       WHERE metric_type != 10 AND nvl(threshold_id,0)=0</p><p>	       AND metric_run_mode = 1</p><p>	       AND EXISTS (SELECT 1 FROM si_reports b WHERE a.metric_id = b.metric_id);</p><p></p><p>BEGIN</p><p></p><p>  OPEN c1;</p><p>  LOOP</p><p>    FETCH c1 INTO x_metric_id, x_metric_name;</p><p>    EXIT WHEN c1%notfound;</p><p></p><p>    x_sql_stmt := 'SELECT count(*) FROM si_' || x_metric_id || '_t';</p><p></p><p>    BEGIN</p><p>      EXECUTE IMMEDIATE x_sql_stmt into x_count;</p><p>    EXCEPTION</p><p>      WHEN others THEN x_count := 0;</p><p>    END;</p><p></p><p>    IF x_count &gt; 0 THEN</p><p>      x_sql_stmt := 'TRUNCATE TABLE si_' || x_metric_id || '_t';</p><p>      EXECUTE IMMEDIATE x_sql_stmt;</p><p>    END IF;</p><p></p><p>  END LOOP;</p><p></p><p>  CLOSE c1;</p><p></p><p>  x_error_code := 0;</p><p></p><p>EXCEPTION</p><p>  WHEN e_proc_exception THEN</p><p>    x_error_message := x_error_message || ' - ' ||  'SI_UTILITIES_SV.cleanup_on_req_rep_results('||x_progress||')';</p><p></p><p>  WHEN OTHERS THEN</p><p>    x_error_code := -1;</p><p>    x_error_message := 'SI_UTILITIES_SV.cleanup_on_req_rep_results(' || x_progress || ')' || ' - ' || substr(sqlerrm, 1, 255);</p><p></p><p>END cleanup_on_req_rep_results;</p><p></p><p>/*===========================================================================</p><p></p><p>  PROCEDURE NAME:		cleanup_on_request_results</p><p></p><p>===========================================================================*/</p><p>PROCEDURE cleanup_on_request_results IS</p><p></p><p>  e_proc_exception exception;</p><p>  x_progress varchar2(3) := '010';</p><p>  x_metric_id number;</p><p>  x_metric_name varchar2(500);</p><p>  x_count number;</p><p>  x_sql_stmt varchar2(1000);</p><p>  x_error_code number;</p><p>  x_error_message varchar2(500);</p><p></p><p>  CURSOR c1 is SELECT metric_id,metric_name FROM si_metrics a</p><p>	       WHERE metric_type != 10 AND nvl(threshold_id,0)=0</p><p>	       AND metric_run_mode = 1;</p><p></p><p>BEGIN</p><p></p><p>  OPEN c1;</p><p>  LOOP</p><p>    FETCH c1 into x_metric_id, x_metric_name;</p><p>    EXIT WHEN c1%notfound;</p><p></p><p>    x_sql_stmt := 'SELECT count(*) FROM si_' || x_metric_id || '_t';</p><p></p><p>    BEGIN</p><p>      EXECUTE IMMEDIATE x_sql_stmt INTO x_count;</p><p>    EXCEPTION</p><p>      WHEN OTHERS then x_count := 0;</p><p>    END;</p><p></p><p>    IF x_count &gt; 0 THEN</p><p>      x_sql_stmt := 'TRUNCATE TABLE si_' || x_metric_id || '_t';</p><p>      EXECUTE IMMEDIATE x_sql_stmt;</p><p>    END IF;</p><p></p><p>  END LOOP;</p><p></p><p>  CLOSE c1;</p><p></p><p>  x_error_code := 0;</p><p></p><p>EXCEPTION</p><p>  WHEN e_proc_exception THEN</p><p>    x_error_message := x_error_message || ' - ' ||  'SI_UTILITIES_SV.cleanup_on_request_results('||x_progress||')';</p><p></p><p>  WHEN OTHERS THEN</p><p>    x_error_code := -1;</p><p>    x_error_message := 'SI_UTILITIES_SV.cleanup_on_request_results(' || x_progress || ')' || ' - ' || substr(sqlerrm, 1, 255);</p><p></p><p>END cleanup_on_request_results;</p><p>/*===========================================================================</p><p></p><p>  PROCEDURE NAME:		check_pf_looping</p><p></p><p>===========================================================================*/</p><p>PROCEDURE check_pf_looping  (x_process_flow_id    IN       NUMBER,</p><p>                             x_error_code         IN OUT   VARCHAR2,</p><p>                             x_error_message      IN OUT   VARCHAR2)</p><p>IS</p><p></p><p>x_progress       VARCHAR2(3) := '010';</p><p>e_proc_exception EXCEPTION;</p><p>x_temp  Number;</p><p>x_temp1 number :=0;</p><p>x_oin number;</p><p>x_sql varchar2(2000);</p><p>x_check number := 0;</p><p>x_object_type number := 0;</p><p></p><p></p><p>CURSOR c_cur IS</p><p>SELECT object_id</p><p>  FROM si_process_flow_layout</p><p> WHERE object_type IN (61,62,71,78)</p><p>   AND process_flow_Id = x_process_flow_id;</p><p></p><p></p><p>BEGIN</p><p></p><p></p><p>  BEGIN</p><p>   x_progress := '020';</p><p>   SELECT 1</p><p>   INTO   x_check</p><p>   FROM   sys.dual</p><p>   WHERE NOT EXISTS (SELECT 1</p><p>                 FROM   si_process_flow_layout</p><p>                 WHERE  process_flow_id = x_process_flow_id);</p><p></p><p>   IF x_check = 1 THEN</p><p>      si_message_sv.set_message (x_error_name      =&gt; 'SI_PROCESS_FLOW_INVALID',</p><p>                                 x_error_code      =&gt; x_error_code,</p><p>                                 x_error_message   =&gt; x_error_message);</p><p>      x_error_code := 1;</p><p>      x_error_message := si_message_sv.get;</p><p>      return;</p><p>   END IF;</p><p></p><p>  EXCEPTION</p><p>    WHEN NO_DATA_FOUND THEN</p><p>     x_check := 0;</p><p>  END;</p><p></p><p>  BEGIN</p><p>    x_progress := '030';</p><p></p><p>    SELECT 1</p><p>      INTO x_check</p><p>      FROM sys.dual</p><p>     WHERE EXISTS (SELECT 1</p><p>                     FROM user_tables</p><p>                    WHERE table_name = 'TEMP_OBJECT_ID_WIRE_IN');</p><p>  EXCEPTION</p><p>      WHEN no_data_found THEN</p><p>         x_check := 0;</p><p>  END;</p><p></p><p>  IF x_check = 1 THEN</p><p>     x_sql := 'TRUNCATE TABLE TEMP_OBJECT_ID_WIRE_IN';</p><p>  ELSE</p><p>     x_sql := 'CREATE TABLE TEMP_OBJECT_ID_WIRE_IN (object_id_wire_in   number)';</p><p>  END IF;</p><p></p><p>  /* Setting NLS_CHAR_SEMANTICS to CHAR */</p><p>  execute immediate 'alter session set nls_length_semantics=char';</p><p></p><p>  EXECUTE IMMEDIATE x_sql;</p><p></p><p>  x_progress := '040';</p><p></p><p>  FOR cur_rec IN c_cur  LOOP</p><p></p><p>     x_temp := cur_rec.object_id;</p><p></p><p>     x_sql := 'INSERT INTO temp_object_id_wire_in VALUES('||cur_rec.object_id||')';</p><p>     EXECUTE IMMEDIATE x_sql;</p><p></p><p>     x_progress := '050';</p><p>     WHILE x_temp is NOT null LOOP</p><p></p><p>       x_temp1 := 0;</p><p></p><p>       x_progress := '060';</p><p>       FOR cur1_rec in (SELECT object_id_wire_in</p><p>                        FROM si_process_flow_layout</p><p>                       WHERE object_id_wire_out = x_temp) LOOP</p><p>        x_oin := cur1_rec.object_id_wire_in;</p><p></p><p>        x_progress := '070';</p><p></p><p>        SELECT object_type</p><p>          INTO x_object_type</p><p>          FROM si_process_flow_layout</p><p>         WHERE object_id = x_oin;</p><p></p><p>        IF x_object_type = 50 THEN</p><p>           x_temp1 := 0;</p><p>        ELSE</p><p>          x_temp1 := 1;</p><p>        END IF;</p><p></p><p>        x_progress := '080';</p><p>        BEGIN</p><p>           x_sql := 'SELECT count(*) FROM temp_object_id_wire_in</p><p>                      WHERE object_id_wire_in = '|| x_oin;</p><p></p><p>           EXECUTE IMMEDIATE x_sql into x_check;</p><p></p><p>        EXCEPTION</p><p>          when no_data_found then</p><p>          x_check := 0;</p><p>        END;</p><p></p><p>        IF x_check = 1 THEN</p><p>           si_message_sv.set_message (x_error_name      =&gt; 'SI_LOOP_WIRE',</p><p>                                      x_error_code      =&gt; x_error_code,</p><p>                                      x_error_message   =&gt; x_error_message);</p><p>           x_error_code := 1;</p><p>           x_error_message := si_message_sv.get;</p><p>           x_temp1 := 0;</p><p>           return;</p><p>        ELSE</p><p>            x_sql := 'INSERT INTO temp_object_id_wire_in VALUES('||x_oin||')';</p><p>	    EXECUTE IMMEDIATE x_sql;</p><p>        END IF;</p><p></p><p>        IF x_oin = cur_rec.object_id  THEN</p><p>           si_message_sv.set_message (x_error_name      =&gt; 'SI_LOOP_WIRE',</p><p>                                      x_error_code      =&gt; x_error_code,</p><p>                                      x_error_message   =&gt; x_error_message);</p><p>           x_error_code := 1;</p><p>           x_error_message := si_message_sv.get;</p><p>           x_temp1 := 0;</p><p>           return;</p><p>        END IF;</p><p>     END LOOP;   --inner for loop ends here</p><p>     IF x_temp1 != 1 THEN</p><p>        x_oin := null;</p><p>     END IF;</p><p></p><p>     IF x_oin = cur_rec.object_id THEN</p><p>        si_message_sv.set_message (x_error_name      =&gt; 'SI_LOOP_WIRE',</p><p>                                   x_error_code      =&gt; x_error_code,</p><p>                                   x_error_message   =&gt; x_error_message);</p><p>        x_error_code := 1;</p><p>        x_error_message := si_message_sv.get;</p><p>        x_temp1 := 0;</p><p>        return;</p><p>     END IF;</p><p>     x_temp := x_oin;</p><p>   END LOOP; --while loop ends here</p><p>   x_sql := 'TRUNCATE TABLE TEMP_OBJECT_ID_WIRE_IN';</p><p>   EXECUTE IMMEDIATE x_sql;</p><p> END LOOP;</p><p> x_sql := 'DROP TABLE TEMP_OBJECT_ID_WIRE_IN';</p><p> EXECUTE IMMEDIATE x_sql;</p><p></p><p> x_error_code := 0;</p><p></p><p>EXCEPTION</p><p>  WHEN e_proc_exception THEN</p><p>     x_error_message := x_error_message || ' - ' ||  'SI_UTILITIES_SV.check_pf_looping('||x_progress||')';</p><p>  WHEN OTHERS THEN</p><p>    x_error_code := -1;</p><p>    x_error_message := 'SI_UTILITIES_SV.check_pf_looping(' || x_progress || ')' || ' - ' || substr(sqlerrm, 1, 255);</p><p>END check_pf_looping;</p><p></p><p>/*===========================================================================</p><p></p><p>  PROCEDURE NAME:		check_implicit_loop</p><p></p><p>===========================================================================*/</p><p>PROCEDURE check_implicit_loop  (x_process_flow_id    IN       NUMBER,</p><p>                                x_error_code         IN OUT   VARCHAR2,</p><p>                                x_error_message      IN OUT   VARCHAR2)</p><p>IS</p><p></p><p>x_progress       VARCHAR2(3) := '010';</p><p>e_proc_exception EXCEPTION;</p><p>x_action_id Number := 0;</p><p>x_action_id_temp  Number := 0;</p><p>x_alert_id  Number := 0;</p><p>x_check  Number := 0;</p><p>x_sql varchar2(2000);</p><p>x_threshold_id number := 0;</p><p>x_threshold_name  varchar2(500);</p><p>x_metric_name varchar2(200);</p><p>x_metric_id  Number;</p><p></p><p>CURSOR c_cur IS</p><p>   SELECT b.action_id</p><p>     FROM si_actions a,</p><p>          si_alert_actions b,</p><p>          si_process_flow_layout c</p><p>    WHERE a.action_id       = b.action_id</p><p>      AND b.action_id       = c.action_id</p><p>      AND a.action_type in(1,4)</p><p>      AND c.process_flow_id = x_process_flow_id</p><p>   GROUP BY b.action_id</p><p>   HAVING count(b.action_id) &gt;1;</p><p></p><p>BEGIN</p><p></p><p>     FOR cur_rec IN c_cur LOOP</p><p></p><p>        x_action_id_temp := cur_rec.action_id;</p><p></p><p>        WHILE x_action_id != x_action_id_temp LOOP</p><p></p><p>        x_progress := '050';</p><p></p><p>        BEGIN</p><p>           SELECT metric_name, metric_id</p><p>             INTO x_metric_name, x_metric_id</p><p>             FROM si_metrics_t a</p><p>            WHERE EXISTS (SELECT 1</p><p>                            FROM si_actions b</p><p>                           WHERE b.action_id = decode(x_action_id,0,x_action_id_temp,x_action_id)</p><p>                             AND b.metric_id = a.metric_id)</p><p>              AND end_date is null;</p><p></p><p>        EXCEPTION</p><p>          WHEN no_data_found THEN</p><p>            x_metric_name := null;</p><p>            x_metric_id := 0;</p><p>        END;</p><p></p><p>        x_progress := '060';</p><p></p><p>        BEGIN</p><p></p><p>           SELECT a.threshold_name, a.threshold_id</p><p>             INTO x_threshold_name, x_threshold_id</p><p>             FROM si_thresholds a,</p><p>                  si_alert_thresholds b,</p><p>                  si_alerts c,</p><p>                  si_alert_actions d,</p><p>                  si_actions e</p><p>            WHERE a.threshold_id = b.threshold_id</p><p>              AND b.alert_id = c.alert_id</p><p>              AND c.alert_id = d.alert_id</p><p>              AND d.action_id = e.action_id</p><p>              AND e.action_id = decode(x_action_id,0,x_action_id_temp,x_action_id)</p><p>              AND a.threshold_condition like '%'||x_metric_name||'%'</p><p>              AND a.end_date is null;</p><p></p><p></p><p>        EXCEPTION</p><p>          WHEN no_data_found THEN</p><p>            x_threshold_name := null;</p><p>        END;</p><p></p><p>        x_progress := '080';</p><p></p><p>        BEGIN</p><p></p><p>           SELECT a.alert_id</p><p>             INTO x_alert_id</p><p>             FROM si_alerts a,</p><p>                  si_alert_thresholds b,</p><p>                  si_alert_actions c</p><p>            WHERE a.alert_id = b.alert_id</p><p>              ANd b.alert_id = c.alert_id</p><p>              AND b.threshold_id = x_threshold_id</p><p>              AND a.alerting_condition like '%'||x_threshold_name||'%'</p><p>              AND a.end_date is null;</p><p></p><p>        EXCEPTION</p><p>          WHEN no_data_found THEN</p><p>            x_alert_id := null;</p><p>        END;</p><p></p><p>        x_progress := '090';</p><p>        BEGIN</p><p></p><p>           SELECT action_id</p><p>             INTO x_action_id</p><p>             FROM si_alert_actions</p><p>            WHERE alert_id = x_alert_id;</p><p></p><p>        EXCEPTION</p><p>          WHEN no_data_found THEN</p><p>            x_action_id := null;</p><p>            return;</p><p>        END;</p><p></p><p>        IF x_action_id = cur_rec.action_id THEN</p><p></p><p>           si_message_sv.set_message (x_error_name      =&gt; 'SI_LOOP_ALERT_ACTION',</p><p>                                      x_error_code      =&gt; x_error_code,</p><p>                                      x_error_message   =&gt; x_error_message);</p><p></p><p>           x_error_code := 1;</p><p>           x_error_message := si_message_sv.get||': Action Id '||x_action_id||' With Alert Id '||x_alert_id;</p><p>           return;</p><p>        END IF;</p><p></p><p>      END LOOP;</p><p>   END LOOP;</p><p></p><p>  x_error_code := 0;</p><p></p><p>EXCEPTION</p><p>  WHEN e_proc_exception THEN</p><p>     x_error_message := x_error_message || ' - ' ||  'SI_UTILITIES_SV.check_implicit_loop('||x_progress||')';</p><p>  WHEN OTHERS THEN</p><p>    x_error_code := -1;</p><p>    x_error_message := 'SI_UTILITIES_SV.check_implicit_loop(' || x_progress || ')' || ' - ' || substr(sqlerrm, 1, 255);</p><p></p><p>END check_implicit_loop;</p><p></p><p>/*===========================================================================</p><p></p><p>  PROCEDURE NAME:		clean_up_infolet_results</p><p></p><p>===========================================================================*/</p><p>PROCEDURE clean_up_infolet_results (x_metric_date        IN        DATE,</p><p>                                    x_error_code         IN OUT    VARCHAR2,</p><p>                                    x_error_message      IN OUT    VARCHAR2)</p><p>IS</p><p></p><p>  e_proc_exception exception;</p><p>  x_progress varchar2(3) := '010';</p><p>  x_metric_id number;</p><p>  x_metric_name varchar2(500);</p><p>  x_temp number;</p><p>  x_count number;</p><p>  x_sql_stmt varchar2(1000);</p><p></p><p></p><p>  CURSOR c_metric IS</p><p>  SELECT metric_id</p><p>    FROM si_metrics_t</p><p>   WHERE threshold_id is null</p><p>     AND alert_id is null</p><p>     AND task_id is null</p><p>     AND metric_run_mode IN (3,1)</p><p>     AND trunc(start_date) &lt; trunc(x_metric_date) --to avoid infolets created later than x_metric_date</p><p>   ORDER BY metric_id;</p><p></p><p>BEGIN</p><p></p><p>   x_progress := 15;</p><p></p><p>    IF (x_metric_date is null) THEN</p><p>       return;</p><p>    END IF;</p><p></p><p>   BEGIN</p><p></p><p>     SELECT 1</p><p>       INTO x_count</p><p>       FROM sys.dual</p><p>      WHERE EXISTS (SELECT 1</p><p>                      FROM user_tables</p><p>                     WHERE table_name = 'TMP_REMARKS');</p><p>   EXCEPTION</p><p>      WHEN no_data_found THEN</p><p>         x_count := 0;</p><p>   END;</p><p></p><p>  IF x_count = 1 THEN</p><p></p><p>      x_sql_stmt := 'TRUNCATE TABLE TMP_REMARKS';</p><p>  ELSE</p><p>       x_sql_stmt := 'CREATE TABLE TMP_REMARKS (REMARKS   VARCHAR2(2000))';</p><p>  END IF;</p><p></p><p>  /* Setting NLS_CHAR_SEMANTICS to CHAR */</p><p>  execute immediate 'alter session set nls_length_semantics=char';</p><p></p><p>  EXECUTE IMMEDIATE x_sql_stmt;</p><p></p><p>  FOR metric_rec IN c_metric</p><p>  LOOP</p><p>    EXIT WHEN c_metric%NOTFOUND;</p><p></p><p>     x_sql_stmt := 'SELECT count(*) FROM si_' || metric_rec.metric_id ||</p><p>                    '_t WHERE trunc(creation_date) &lt; trunc(to_date('||''''||x_metric_date||''''||'))';</p><p></p><p>    BEGIN</p><p>      x_progress := 20;</p><p></p><p>      EXECUTE IMMEDIATE x_sql_stmt INTO x_count;</p><p>    EXCEPTION</p><p>      WHEN others THEN x_count := 0;</p><p>    END;</p><p></p><p></p><p>    IF x_count &gt; 0 THEN</p><p></p><p>       x_progress := 25;</p><p>       x_sql_stmt := 'INSERT INTO TMP_REMARKS VALUES (''TABLE si_'||</p><p>                       metric_rec.metric_id||'_t has '||x_count||</p><p>                       ' Records older than '||x_metric_date||' and will be deleted'')';</p><p></p><p></p><p>       EXECUTE IMMEDIATE x_sql_stmt;</p><p></p><p></p><p>       x_progress := 30;</p><p></p><p>       BEGIN</p><p></p><p>          SELECT 1</p><p>            INTO x_temp</p><p>            FROM sys.dual</p><p>           WHERE EXISTS (SELECT 1</p><p>                           FROM user_tables</p><p>                          WHERE table_name = 'TMP_'||metric_rec.metric_id||'_T_'||to_char(trunc(sysdate),'MMDDYYYY'));</p><p></p><p>          si_message_sv.set_message (x_error_name      =&gt; 'SI_TABLE_DUPLICATE',</p><p>                                     x_error_code      =&gt; x_error_code,</p><p>                                     x_error_message   =&gt; x_error_message,</p><p>                                     x_token1          =&gt; 'TABLE_NAME',</p><p>                                     x_value1          =&gt; ''''||'TMP_'||metric_rec.metric_id||'_T_'||to_char(trunc(sysdate),'MMDDYYYY')||''''</p><p>                                     );</p><p></p><p>         IF (x_error_code &gt; 0) THEN</p><p>            return;</p><p>         ELSIF (x_error_code &lt; 0) THEN</p><p>            raise e_proc_exception;</p><p>         END IF;</p><p></p><p>         x_error_code := 1;</p><p>         x_error_message := si_message_sv.get;</p><p>         return;</p><p>       EXCEPTION</p><p>            WHEN no_data_found THEN</p><p>            x_temp := null;</p><p>       END;</p><p></p><p>       x_sql_stmt := 'CREATE TABLE TMP_'||metric_rec.metric_id||'_t_'||to_char(trunc(sysdate),'MMDDYYYY')||</p><p>                      ' AS SELECT * FROM si_' || metric_rec.metric_id ||</p><p>                           '_t WHERE trunc(creation_date) &lt; trunc(to_date('||''''||x_metric_date||''''||'))';</p><p></p><p>       /* Setting NLS_CHAR_SEMANTICS to CHAR */</p><p>       execute immediate 'alter session set nls_length_semantics=char';</p><p></p><p>       EXECUTE IMMEDIATE x_sql_stmt;  -- to create the backup table</p><p></p><p>       x_progress := 35;</p><p>       x_sql_stmt := 'DELETE FROM si_' || metric_rec.metric_id ||</p><p>                      '_t WHERE trunc(creation_date) &lt; trunc(to_date('||''''||x_metric_date||''''||'))';</p><p></p><p>       EXECUTE IMMEDIATE x_sql_stmt;  -- to delete records from the resultant table</p><p></p><p>    END IF;</p><p>  END LOOP;</p><p></p><p>   x_progress := 45;</p><p>   BEGIN</p><p></p><p>     x_sql_stmt := 'SELECT count(*) FROM TMP_REMARKS';</p><p></p><p>     EXECUTE IMMEDIATE x_sql_stmt INTO x_count;</p><p>   EXCEPTION</p><p>      WHEN no_data_found THEN</p><p>         x_count := 0;</p><p>   END;</p><p></p><p>   drop_backup_tables(x_error_code, x_error_message);</p><p></p><p>   x_error_code := 0;</p><p></p><p>EXCEPTION</p><p>  WHEN e_proc_exception THEN</p><p>    x_error_message := x_error_message || ' - ' ||  'SI_UTILITIES_SV.clean_up_infolet_results('||x_progress||')';</p><p></p><p>  WHEN OTHERS THEN</p><p>    x_error_code := -1;</p><p>    x_error_message := 'SI_UTILITIES_SV.clean_up_infolet_results(' || x_progress || ')' || ' - ' || substr(sqlerrm, 1, 255);</p><p>END clean_up_infolet_results;</p><p></p><p>/*===========================================================================</p><p></p><p> PROCEDURE NAME:	    drop_backup_tables</p><p></p><p>===========================================================================*/</p><p>PROCEDURE  drop_backup_tables( x_error_code     IN  OUT VARCHAR2,</p><p>                               x_error_message  IN  OUT VARCHAR2)</p><p>IS</p><p></p><p>e_proc_exception exception;</p><p>x_progress varchar2(3) := '010';</p><p>x_sql_stmt varchar2(1000);</p><p></p><p>CURSOR c_btables IS</p><p>SELECT table_name</p><p>  FROM user_tables</p><p> WHERE table_name LIKE 'TMP_10%_T_%';</p><p></p><p>BEGIN</p><p>  FOR btables_rec  IN c_btables LOOP</p><p>    EXIT WHEN c_btables%NOTFOUND;</p><p></p><p>    x_sql_stmt := 'DROP TABLE '||btables_rec.table_name;</p><p>    EXECUTE IMMEDIATE x_sql_stmt;</p><p>  END LOOP;</p><p></p><p>  x_error_code := 0;</p><p></p><p>EXCEPTION</p><p>  WHEN e_proc_exception THEN</p><p>    x_error_message := x_error_message || ' - ' ||  'SI_UTILITIES_SV.drop_backup_tables('||x_progress||')';</p><p></p><p>  WHEN OTHERS THEN</p><p>    x_error_code := -1;</p><p>    x_error_message := 'SI_UTILITIES_SV.drop_backup_tables(' || x_progress || ')' || ' - ' || substr(sqlerrm, 1, 255);</p><p></p><p>END drop_backup_tables;</p><p></p><p>/*===========================================================================</p><p></p><p> PROCEDURE NAME:	    update_user_guide_table</p><p></p><p>===========================================================================*/</p><p>PROCEDURE update_user_guide_table(</p><p>         x_application_name in varchar2,</p><p>         x_user_guide_file_name in varchar2,</p><p>         x_label_name in varchar2,</p><p>         x_enabled_flag in varchar2)</p><p>  IS</p><p>  BEGIN</p><p>  INSERT INTO si_user_guide_t VALUES (x_application_name,x_user_guide_file_name,x_label_name,x_enabled_flag);</p><p>  END update_user_guide_table;</p><p></p><p>END SI_UTILITIES_SV;</p></font><dt><br><dt style="margin-left:108;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Create Procedure<dt><br><dt style="margin-left:140;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">create or replace </p><p>procedure DDL_Execute(stmt in varchar2 )</p><p>is</p><p>    exec_cursor     integer default dbms_sql.open_cursor;</p><p>    rows_processed  number  default 0;</p><p>begin</p><p>    dbms_sql.parse(exec_cursor, stmt, dbms_sql.native );</p><p>    rows_processed := dbms_sql.execute(exec_cursor);</p><p>    dbms_sql.close_cursor( exec_cursor );</p><p>exception</p><p>    when others then</p><p>      dbms_output.put_line( substr( stmt, 1, 200 ) );</p><p>      dbms_output.put_line( 'SQLCODE = ' || sqlcode );</p><p>      dbms_output.put_line( 'SQLERRM = ' || sqlerrm );</p><p>      if dbms_sql.is_open(exec_cursor) then</p><p>        dbms_sql.close_cursor(exec_cursor);</p><p>      end if;</p><p>      raise;</p><p>end DDL_Execute;</p></font><dt><br><dt style="margin-left:108;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Create Index<dt><br><dt style="margin-left:140;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"></p><p>  CREATE INDEX &quot;SCHEMA_USER&quot;.&quot;SI_PROCESS_FLOW_N1&quot; ON &quot;SCHEMA_USER&quot;.&quot;SI_PROCESS_FLOW_LAYOUT&quot; (&quot;PROCESS_FLOW_ID&quot;) </p><p>  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS </p><p>  STORAGE(INITIAL 24576 NEXT 24576 MINEXTENTS 1 MAXEXTENTS 2147483645</p><p>  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1</p><p>  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)</p><p>  TABLESPACE &quot;ms_IDX&quot; ;</p></font><dt><br><dt style="margin-left:108;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Create Function<dt><br><dt style="margin-left:140;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">create or replace </p><p>function run_time_analysis(metric_id in number, in_last_n_days in number, whichinfo in number)</p><p>/**whichinfo =1 gives max, =2 gives avg, =3 gives total runs, =4 gives time of run in number type of max instance **/</p><p>return number</p><p>is</p><p></p><p>x_metric_id       number := metric_id;</p><p>x_sql_stmt        varchar2(1000);</p><p>x_result     number;</p><p></p><p>begin</p><p></p><p>if whichinfo = 1</p><p>then</p><p></p><p>x_sql_stmt := 'select max((max(metric_completed_date)-min(metric_run_date))*24*60*60) max_run_duration_sec</p><p>from si_'||x_metric_id||'_t where metric_run_date&gt;sysdate-'||in_last_n_days||' group by instance_id';</p><p></p><p>elsif whichinfo = 2</p><p>then</p><p></p><p>x_sql_stmt := 'select avg((max(metric_completed_date)-min(metric_run_date))*24*60*60) avg_duration_sec</p><p>from si_'||x_metric_id||'_t where metric_run_date&gt;sysdate-'||in_last_n_days||' group by instance_id';</p><p></p><p>elsif whichinfo = 3</p><p>then</p><p></p><p>x_sql_stmt := 'select count(unique instance_id) run_count from si_'||x_metric_id||'_t where</p><p>metric_run_date&gt;sysdate-'||in_last_n_days ;</p><p></p><p>else</p><p></p><p>x_sql_stmt := 'SELECT TO_NUMBER(TO_CHAR(MAX(metric_completed_date),''yyyymmddhh24miss'')) last_instance_datetime</p><p>FROM si_'||x_metric_id||'_t</p><p>WHERE instance_id = (SELECT MAX(instance_id) FROM si_' ||x_metric_id||'_t)</p><p>AND metric_run_date&gt;SYSDATE-'||in_last_n_days ;</p><p></p><p>end if;</p><p></p><p>execute immediate(x_sql_stmt) into x_result;</p><p></p><p>return x_result;</p><p></p><p>exception</p><p>when others then</p><p>return 0;</p><p></p><p>end;        </p></font><dt><br><dt style="margin-left:108;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Create Triggers<dt><br><dt style="margin-left:140;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">create or replace </p><p>TRIGGER &quot;COVIDIEN&quot;.&quot;SI_USERS_OUT_OF_OFFICE_AT&quot;  AFTER INSERT OR DELETE OR UPDATE ON SI_USERS_OUT_OF_OFFICE FOR EACH ROW DECLARE x_type  VARCHAR2(100);BEGIN   IF UPDATING THEN x_type := 'Update';   ELSIF INSERTING THEN x_type := 'Insert';   ELSE x_type := 'Delete';   END IF;IF nvl(:old.OUT_OF_OFFICE_ID,-9999.1) != nvl(:new.OUT_OF_OFFICE_ID,-9999.1) OR nvl(:old.USER_ID,-9999.1) != nvl(:new.USER_ID,-9999.1) OR nvl(:old.START_DATE,sysdate-1234.1) != nvl(:new.START_DATE,sysdate-1234.1) OR nvl(:old.END_DATE,sysdate-1234.1) != nvl(:new.END_DATE,sysdate-1234.1) OR nvl(:old.ASSIGN_TO_USER,-9999.1) != nvl(:new.ASSIGN_TO_USER,-9999.1) OR <A HREF="mailto:'#!@'">nvl(:old.COMMENTS,'#!@')</A> != <A HREF="mailto:'#!@'">nvl(:new.COMMENTS,'#!@')</A> OR <A HREF="mailto:'#!@'">nvl(:old.XML,'#!@')</A> != <A HREF="mailto:'#!@'">nvl(:new.XML,'#!@')</A> OR nvl(:old.LAST_UPDATED,sysdate-1234.1) != nvl(:new.LAST_UPDATED,sysdate-1234.1) OR nvl(:old.LAST_UPDATED_BY,-9999.1) != nvl(:new.LAST_UPDATED_BY,-9999.1) OR nvl(:old.CREATED,sysdate-1234.1) != nvl(:new.CREATED,sysdate-1234.1) OR nvl(:old.CREATED_BY,-9999.1) != nvl(:new.CREATED_BY,-9999.1) OR 1 = 2 THEN   INSERT INTO SI_USERS_OUT_OF_OFFICE_AU VALUES(:old.OUT_OF_OFFICE_ID,:new.OUT_OF_OFFICE_ID,:old.USER_ID,:new.USER_ID,:old.START_DATE,:new.START_DATE,:old.END_DATE,:new.END_DATE,:old.ASSIGN_TO_USER,:new.ASSIGN_TO_USER,:old.COMMENTS,:new.COMMENTS,:old.XML,:new.XML,:old.LAST_UPDATED,:new.LAST_UPDATED,:old.LAST_UPDATED_BY,:new.LAST_UPDATED_BY,:old.CREATED,:new.CREATED,:old.CREATED_BY,:new.CREATED_BY,NULL,x_type); END IF; END;</p><p></p><p></p><p></p><p></p><p></p><p>create or replace </p><p>TRIGGER ms_com_complnt_note_trg</p><p>   BEFORE INSERT OR UPDATE</p><p>   ON MS_COM_COMPLAINT_NOTE_NTE</p><p>   REFERENCING NEW AS NEW OLD AS OLD</p><p>   FOR EACH ROW</p><p>BEGIN</p><p>   :NEW.NOT_DATE_NOTE_CREATED :=</p><p>                TO_DATE (:NEW.date_note_created_str, 'MM/DD/YYYY HH24:mi:ss');</p><p>   :NEW.not_date_note_updated :=</p><p>                TO_DATE (:NEW.date_note_updated_str, 'MM/DD/YYYY HH24:mi:ss');</p><p>END; </p><p></p></font><dt><br><dt style="margin-left:108;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Create Type<dt><br><dt style="margin-left:140;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">create or replace </p><p>TYPE            &quot;MS_DATE_ARRAY&quot;                                          as table of date         </p></font><dt><br><dt style="margin-left:108;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">CREATE TABLE<dt><br><dt style="margin-left:140;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">-- DROP only if no rows are present</p><p></p><p>declare</p><p>  rowcount int;</p><p>begin</p><p>  select count(1) into rowcount from customer;</p><p>  if (rowcount = 0) then</p><p>    execute immediate 'drop table customer';</p><p>  end if;</p><p>end;</p><p></p><p></p><p>create table customer_module (</p><p>  customer_code char(3),</p><p>  module_code char(3),</p><p>  constraint customer_code_fk foreign key (customer_code) references customer (customer_code),</p><p>  constraint module_code_fk foreign key (module_code) references ms_module (module_code)</p><p>);</p><p></p><p>drop table ms_module;</p><p>create table ms_module (</p><p>  module_code char(3),</p><p>  module_name varchar2(512),</p><p>  module_desc varchar2(4000),</p><p>  constraint ms_module_pk PRIMARY KEY (module_code)</p><p>);</p></font><dt><br><dt style="margin-left:108;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">DROP DATABASE SCHEMA<dt><br><dt style="margin-left:140;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:9pt">--CAUTION !!!! </p><p>drop user REFCERT cascade;</font><font face="Arial" style="font-size:10pt"></p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Tablespace Export<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"></p><p>Below script generates sql for creating tablespace</p><p></p><p>select 'create tablespace ' || df.tablespace_name || chr(10)</p><p> || ' datafile ''' || df.file_name || ''' size ' || df.bytes </p><p> || decode(autoextensible,'N',null, chr(10) || ' autoextend on maxsize ' </p><p> || maxbytes) </p><p> || chr(10) </p><p> || 'default storage ( initial ' || initial_extent </p><p> || decode (next_extent, null, null, ' next ' || next_extent )</p><p> || ' minextents ' || min_extents</p><p> || ' maxextents ' ||  decode(max_extents,'2147483645','unlimited',max_extents) </p><p> || ') ;'</p><p> from dba_data_files df, dba_tablespaces t</p><p> where df.tablespace_name=t.tablespace_name </p><p>/</p><p></p><p></p><p></p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">LOB<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"></p><p>### List all  clob columns and also maximum space occupied</p><p></p><p>select 'select count(1) from ' || table_name || ';' AS COUNTQUERY, </p><p>'select max(length(' || column_name || ')) from ' || table_name || ';' AS MAXLENGTH</p><p>from dba_tab_cols </p><p>where data_type in ('CLOB')</p><p>--and owner = 'msi_x'</p><p>and table_name like 'SI_100513_T'</p><p>order by table_name;</p></font><dt><br><dt style="margin-left:108;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">clob to string<dt><br><dt style="margin-left:140;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">dbms_lob.substr(sent_recipients, 2000, 1)</p></font><dt><br><dt style="margin-left:108;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">clob size calc<dt><br><dt style="margin-left:140;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Calibri" style="font-size:12pt"></font><font face="Calibri" style="font-size:11pt">SELECT </p><p>max(dbms_lob.getlength(REVIEWER_ATTACHMENTS)),</p><p>max(dbms_lob.getlength(REVIEWER_COMMENTS)),</p><p>max(dbms_lob.getlength(RESPONSE))</p><p>FROM SI_100755_T;</p><p></font><font face="Arial" style="font-size:11pt"></font><font face="Arial" style="font-size:10pt"></p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Sample Data Creation<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">CREATE TABLE user_data (</p><p> id          NUMBER(10)    NOT NULL,</p><p> first_name  VARCHAR2(40)  NOT NULL,</p><p> last_name   VARCHAR2(40)  NOT NULL,</p><p> gender      VARCHAR2(1),</p><p> dob         DATE</p><p>);</p><p></p><p>BEGIN</p><p>  FOR cur_rec IN 1 .. 2000 LOOP</p><p>    IF MOD(cur_rec, 2) = 0 THEN</p><p>      INSERT INTO user_data </p><p>      VALUES (cur_rec, 'John' || cur_rec, 'Doe', 'M', SYSDATE);</p><p>    ELSE</p><p>      INSERT INTO user_data </p><p>      VALUES (cur_rec, 'Jayne' || cur_rec, 'Doe', 'F', SYSDATE);</p><p>    END IF;</p><p>    COMMIT;</p><p>  END LOOP;</p><p>END;</p><p></p><p>EXEC DBMS_STATS.gather_table_stats(USER, 'user_data', cascade =&gt; TRUE);</p></font><dt><br><dt style="margin-left:90;font: normal normal normal 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">DML<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">META_DATA<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">META DATA</p><p></p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Tables<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">select owner, table_name, column_name, data_type from dba_tab_cols </p><p>where data_type in ('BLOB', 'CLOB', 'NCLOB', 'BFIELD')</p><p>and owner = 'COVIDIEN'</p><p>and table_name like 'SI_%_T'</p><p>order by table_name;</p><p></p><p></p><p>select 'select count(1) from ' || table_name || ';' AS COUNTQUERY, </p><p>'select max(length(' || column_name || ')) from ' || table_name || ';' AS MAXLENGTH</p><p>from dba_tab_cols </p><p>where data_type in ('CLOB')</p><p>and owner = 'COVIDIEN'</p><p>and table_name like 'SI_%_T'</p><p>order by table_name;</p><p></p><p>select </p><p>owner, table_name, column_name, data_type </p><p>--count(1)</p><p>from dba_tab_cols </p><p>WHERE owner = 'RND1'</p><p>order by table_name;</p><p></p><p>select </p><p>owner, table_name</p><p>--count(1)</p><p>--*</p><p>from dba_tables </p><p>WHERE owner = 'RND1'</p><p>order by table_name;</p><p></p><p>--Search fields by column name</p><p>select </p><p>owner, table_name, column_name, data_type </p><p>--count(1)</p><p>from dba_tab_cols </p><p>WHERE owner = 'RND1'</p><p>and column_name like '%DATE'</p><p>order by table_name;</p></font><dt><br><dt style="margin-left:108;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">TableSize<dt><br><dt style="margin-left:140;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">select COUNT(1) from dba_tables where owner = 'REFCERT';</p><p>select table_name, ',', num_rows, ',', avg_row_len, ',', compression from dba_tables where owner = 'REFCERT';</p><p></p><p>### Bytes Used</p><p></p><p></font><font face="Arial" color="#1F497D" style="font-size:10pt"></font><font face="Calibri" color="#1F497D" style="font-size:10pt"></font><font face="Calibri" color="#1F497D" style="font-size:11pt">SELECT owner, table_name, ROUND(sum(bytes)/1024/1024/1024, 2) GB</p><p>    FROM</p><p>    (SELECT segment_name table_name, owner, bytes</p><p>     FROM dba_segments</p><p>     WHERE segment_type IN ('TABLE', 'TABLE PARTITION', 'TABLE SUBPARTITION')</p><p>     UNION ALL</p><p>     SELECT i.table_name, i.owner, s.bytes</p><p>     FROM dba_indexes i, dba_segments s</p><p>     WHERE s.segment_name = i.index_name</p><p>     AND   s.owner = i.owner</p><p>     AND   s.segment_type IN ('INDEX', 'INDEX PARTITION', 'INDEX SUBPARTITION')</p><p>     UNION ALL</p><p>     SELECT l.table_name, l.owner, s.bytes</p><p>     FROM dba_lobs l, dba_segments s</p><p>     WHERE s.segment_name = l.segment_name</p><p>     AND   s.owner = l.owner</p><p>     AND   s.segment_type = 'LOBSEGMENT'</p><p>     UNION ALL</p><p>     SELECT l.table_name, l.owner, s.bytes</p><p>     FROM dba_lobs l, dba_segments s</p><p>     WHERE s.segment_name = l.index_name</p><p>     AND   s.owner = l.owner</p><p>     AND   s.segment_type = 'LOBINDEX')</p><p>    WHERE owner = 'MSI_x'</p><p>    GROUP BY table_name, owner</p><p>    HAVING SUM(bytes)/1024/1024 &gt; 10  /* Ignore really small tables */</p><p>    ORDER BY SUM(bytes) DESC</p><p>    ;</p><p></font><font face="Calibri" color="#000000" style="font-size:11pt"></font><font face="Arial" color="#000000" style="font-size:11pt"></font><font face="Arial" color="#000000" style="font-size:10pt"></p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Packages<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">SELECT DISTINCT Owner, Object_Type, Object_Name FROM DBA_Objects_AE</p><p>     WHERE Owner IN ('RND1')</p><p>     AND Object_Type IN ('PACKAGE', 'TYPE')</p><p>     ORDER BY Owner, Object_Type, Object_Name;</p><p></p><p></p><p>User_Objects</p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">DDL<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">SELECT DBMS_METADATA.GET_DDL(object_type, object_name, owner)</p><p>  FROM all_OBJECTS </p><p>  WHERE (OWNER = 'REFCERT');</p><p></p><p>SELECT DBMS_METADATA.GET_DDL(object_type, object_name, owner)</p><p>  FROM all_OBJECTS </p><p>  WHERE (OWNER = 'OWNER1');</p><p></p><p></p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Tablespaces<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><b><font face="Arial" style="font-size:10pt">Files that need recovery</p><p></b>select * from v$recover_file;</p><p></p><p>Datafiles</p><p>select * from v$datafile;</p><p></p><p>select * from v$tablespace;</p><p></p><p>Archived Log Path</p><p>SELECT name FROM v$archived_log;</p><p></p><p></p></font><dt><br><dt style="margin-left:108;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Size<dt><br><dt style="margin-left:140;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">dba_tablespace_usage_metrics</p><p></p><p>-- Get Tablespace information</p><p> select a.TABLESPACE_NAME &quot;TableSpace Name&quot;,</p><p>       round(a.BYTES / 1024 / 1024) &quot;MB Allocated&quot;,</p><p>       round((a.BYTES-nvl(b.BYTES, 0)) / 1024 / 1024) &quot;MB Used&quot;,</p><p>       nvl(round(b.BYTES / 1024 / 1024), 0) &quot;MB Free&quot;,</p><p>       round(((a.BYTES-nvl(b.BYTES, 0))/a.BYTES)*100,2) &quot;Pct Used&quot;,</p><p>       round((1-((a.BYTES-nvl(b.BYTES,0))/a.BYTES))*100,2) &quot;Pct Free&quot;</p><p>from   (select   TABLESPACE_NAME,</p><p>                 sum(BYTES) BYTES</p><p>        from     sys.dba_data_files</p><p>        group by TABLESPACE_NAME) a,</p><p>       (select   TABLESPACE_NAME,</p><p>                 sum(BYTES) BYTES</p><p>        from     sys.dba_free_space</p><p>        group by TABLESPACE_NAME) b</p><p>where  a.TABLESPACE_NAME = b.TABLESPACE_NAME (+)</p><p>order  by ((a.BYTES-b.BYTES)/a.BYTES) desc;</p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Extract one table<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Courrier New" style="font-size:12pt"></font><font face="Courrier New" style="font-size:9pt">select dbms_metadata.get_ddl('TABLE', 'SI_103227_T', 'REFCERT') from dual;</p><p></p><p>SQL&gt; set heading off;</p><p>SQL&gt; set echo off;</p><p>SQL&gt; set pages 999;</p><p>SQL&gt; set long 9000</p><p>SQL&gt; spool ddl_list.sql</p><p>SQL&gt; select dbms_metadata.get_ddl'TABLE','SI_103227_T', 'REFCERT') from dual;</p><p>select dbms_metadata.get_ddl'TABLE','SI_103227_T', 'REFCERT') from dual</p><p>  </font><font face="Courrier New" style="font-size:10pt"></p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Views<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">select * from user_updatable_columns</p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Database Info<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">desc v$database</p><p>select name, created, log_mode from v$database;</p><p></p><p></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">SQL Developer Dateformat<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">SELECT value$ FROM sys.props$ WHERE name = 'NLS_CHARACTERSET' ;</p><p></p><p>alter session set nls_date_format = 'MM/DD/YYYY';</p><p></p><p>      or</p><p></p><p>      alter session set nls_date_format = 'MM/DD/YYYY HH24:MI:SS';</p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Troubleshooting<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" color="#0000FF" style="font-size:12pt"></font><font face="Arial" color="#0000FF" style="font-size:10pt">Default Scripts are located in this directory</p><p></p><p></p><p>/disk2/oracle/product/11.2.0/db2/rdbms/admin</p><p></font><font face="Arial" color="#000000" style="font-size:10pt"></p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Locking<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Calibri" color="#1F497D" style="font-size:12pt"></font><font face="Calibri" color="#1F497D" style="font-size:12pt"></font><font face="Calibri" color="#1F497D" style="font-size:11pt">select oracle_username, os_user_name, locked_mode, object_name, object_type </p><p>from v$locked_object a,dba_objects b where a.object_id = b.object_id</p><p></font><font face="Calibri" color="#000000" style="font-size:11pt"></font><font face="Arial" color="#000000" style="font-size:11pt"></font><font face="Arial" color="#000000" style="font-size:10pt"></p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Restore<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Anything happens with system - recovery is very hard</p><p></p><p>Data Pump - Speed up export - Separate the query - parallelize it through multiple threads - in smaller threads</p><p></p><p>Data Pump - Transportable tablespace</p><p></p><p>After </p><p></p><p style="margin-left:52"></font><font face="Arial" color="#1F497D" style="font-size:10pt"></font><font face="Calibri" color="#1F497D" style="font-size:10pt"></font><font face="Calibri" color="#1F497D" style="font-size:11pt">1.	We copied system datafile from <b>/data03/restore</b> and tried to start. Since system datafile is not the current one we had issue during startup. We encountered ORA-600 issue. - with ORA-600 YOU END UP WITH RESTORE INTO NEW DATABASE</p><p style="margin-left:52">2.	Since DB did not open up we have used <b>_ALLOW_RESETLOGS_CORRUPTION=TRUE</b> parameter to start.</p><p style="margin-left:52">3.	DB did not started, we got error <b>ORA-01589:must use RESETLOGS or NORESETLOGS</b></p><p style="margin-left:52">4.	We have used <b>recover database</b> command to recover data from redo logs.</p><p style="margin-left:52">5.	When we started DB, we again encountered <b>Ora-600 error</b>. This error due to the SCN number mismatch between system and data tablespace.</p><p style="margin-left:52">6.	This is known outcome, we have startup db till the SCN numbers matches. We have applied startup command around 12 times and finally we were able to start the database.</p><p style="margin-left:52">7.	We have cleaned up the <b>offline undo segment</b> also and restarted the DB</p><p></font><font face="Calibri" color="#000000" style="font-size:11pt"></font><font face="Arial" color="#000000" style="font-size:11pt"></font><font face="Arial" color="#000000" style="font-size:10pt"></p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Performance<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">select pid, spid, latchwait, latchspin, program from v$process;</p><p>select * from v$session</p></font><dt><br><dt style="margin-left:108;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">long running query<dt><br><dt style="margin-left:140;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">SELECT sess.process, sess.status, sess.username, sess.schemaname, sql.sql_text</p><p>  FROM v$session sess,</p><p>       v$sql     sql</p><p> WHERE sql.sql_id(+) = sess.sql_id</p><p>   AND sess.type     = 'USER'</p><p></p><p>select sql.elapsed_time/1000000</p><p>from v$sql</p><p>where </p><p>sql.elapsed_time IS NOT NULL</p><p>order by sql.elapsed_time desc</p></font><dt><br><dt style="margin-left:108;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Background Process<dt><br><dt style="margin-left:140;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">SELECT PNAME </p><p>FROM   V$PROCESS </p><p>WHERE  PNAME IS NOT NULL </p><p>ORDER BY PNAME;</p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Tablespace<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">select file_name from dba_data_files where tablespace_name='UNDOTBS1';</p><p></p><p></p><p>* Tested - clob going into another tablespace may be slow</p></font><dt><br><dt style="margin-left:90;font: normal normal normal 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Clobs<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">AWR Report Analysis<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">### AWR Report Generation</p><p></p><p>### AWR Storage Retention</p><p></p><p>select</p><p>       extract( day from snap_interval) *24*60+</p><p>       extract( hour from snap_interval) *60+</p><p>       extract( minute from snap_interval ) &quot;Snapshot Interval&quot;,</p><p>       extract( day from retention) *24*60+</p><p>       extract( hour from retention) *60+</p><p>       extract( minute from retention ) &quot;Retention Interval&quot;</p><p>from dba_hist_wr_control;</p><p></p><p></p><p></p><p>### AWR Report List</p><p></p><p>select snap_id, end_interval_time from dba_hist_snapshot where end_interval_time &gt; trunc(sysdate-7) order by snap_id;</p><p></p><p>select snap_id, end_interval_time from dba_hist_snapshot where end_interval_time &gt; trunc(to_date('07/11/2014', 'MM/DD/YYYY') ) order by snap_id;</p><p></p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Stats<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Calibri" color="#1F497D" style="font-size:12pt"></font><font face="Calibri" color="#1F497D" style="font-size:12pt"></font><font face="Calibri" color="#1F497D" style="font-size:11pt">select 'exec dbms_stats.gather_table_stats(ownname=&gt; '''||owner||''',  tabname=&gt; '''||table_name||''', estimate_percent =&gt;dbms_stats.auto_sample_size , degree=&gt;DBMS_STATS.AUTO_DEGREE, cascade=&gt; true );'</p><p>from dba_tables a, dba_tab_statistics b</p><p>where a.owner = 'MSI_x'</p><p>and b.stale_stats = 'YES'</p><p>and a.table_name = b.table_name and a.owner = b.owner;</p><p></font><font face="Calibri" color="#000000" style="font-size:11pt"></font><font face="Arial" color="#000000" style="font-size:11pt"></font><font face="Arial" color="#000000" style="font-size:10pt"></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">RMAN<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Recovery Manager - RMAN</p><p></p><p></p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Connect to RMAN<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">rman target /</p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Command Line Execution<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">create rmancmd.txt with</p><p>show all;</p><p>report schema;</p><p></p><p></p><p>Execute from commandline - same dir as text file</p><p>rman target / cmdfile rmancmd.txt</p><p></p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Cheatsheet<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">CONNECT TARGET <A HREF="mailto:SYS@test1">SYS@test1</A></p><p></p><p>RMAN&gt; list backupset;</p><p>RMAN&gt; list backupset of database;</p><p>RMAN&gt; list backupset of database completed before '22-NOV-00';</p><p>RMAN&gt; list backupset of archivelog all;</p><p>RMAN&gt; list backupset of tablespace users;</p><p>RMAN&gt; list backupset of datafile 1;</p><p></p><p>RMAN&gt; list backup summary;</p><p>RMAN&gt; list backup;</p><p>RMAN&gt; list backup of controlfile;</p><p>RMAN&gt; list backup of tablespace SYSTEM;</p><p>RMAN&gt; list backup by file;</p><p>RMAN&gt; list backup of archivelog all ;</p><p></p><p>RMAN&gt; list copy of database;</p><p>RMAN&gt; list copy of database archivelog all;</p><p></p><p>RMAN&gt; allocate channel for maintenance type disk;</p><p>RMAN&gt; configure channel device type disk clear ;</p><p></p><p>RMAN&gt; report need backup days=2 database;</p><p>RMAN&gt; report need backup days=10 tablespace TEMP;</p><p>RMAN&gt; report need backup days=4 datafile 'D:\ORACLE\ORADATA\OR816\TEMP01.DBF';</p><p>RMAN&gt; report schema;</p><p>RMAN&gt; report obsolete;</p><p></p><p>RMAN&gt; crosscheck backup;</p><p>RMAN&gt; crosscheck backupset;</p><p>RMAN&gt; crosscheck copy;</p><p>RMAN&gt; crosscheck archivelog all;</p><p>RMAN&gt; crosscheck controlfilecopy '/ora01/oracle/admin/BACKUP/demo/demo_controlfile_bak_03-15-11_19:59:11' ;</p><p></p><p>RMAN&gt; delete noprompt expired backup ;</p><p>RMAN&gt; delete noprompt obsolete;</p><p>RMAN&gt; delete archivelog all;</p><p>RMAN&gt; delete expired archivelog all;</p><p>RMAN&gt; delete archivelog all completed before 'sysdate -1';</p><p>RMAN&gt; delete noprompt archivelog until time 'sysdate - 1';</p><p>RMAN&gt; delete archivelog all backed up 1 times to device type disk completed before 'sysdate-1';</p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">RMAN Restore status<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><u><font face="Arial" style="font-size:10pt">v$session_longops</p><p></p><p>SELECT sid, serial#, context, sofar, totalwork, round(sofar/totalwork*100,2) &quot;% Complete&quot; FROM v$session_longops WHERE opname LIKE 'RMAN%' AND opname NOT LIKE '%aggregate%' AND totalwork != 0 AND sofar &lt;&gt; totalwork;</u></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">DB Parameters<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">show parameters;</p><p>show parameter sga;</p><p>show parameter audit;</p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Table Size<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">-- NOT TESTED</p><p></p><p>SELECT</p><p>   owner, table_name, TRUNC(sum(bytes)/1024/1024) Meg</p><p>FROM</p><p>(SELECT segment_name table_name, owner, bytes</p><p> FROM dba_segments</p><p> WHERE segment_type = 'TABLE'</p><p> UNION ALL</p><p> SELECT i.table_name, i.owner, s.bytes</p><p> FROM dba_indexes i, dba_segments s</p><p> WHERE s.segment_name = i.index_name</p><p> AND   s.owner = i.owner</p><p> AND   s.segment_type = 'INDEX'</p><p> UNION ALL</p><p> SELECT l.table_name, l.owner, s.bytes</p><p> FROM dba_lobs l, dba_segments s</p><p> WHERE s.segment_name = l.segment_name</p><p> AND   s.owner = l.owner</p><p> AND   s.segment_type = 'LOBSEGMENT'</p><p> UNION ALL</p><p> SELECT l.table_name, l.owner, s.bytes</p><p> FROM dba_lobs l, dba_segments s</p><p> WHERE s.segment_name = l.index_name</p><p> AND   s.owner = l.owner</p><p> AND   s.segment_type = 'LOBINDEX')</p><p>WHERE owner in UPPER('&amp;owner')</p><p>GROUP BY table_name, owner</p><p>HAVING SUM(bytes)/1024/1024 &gt; 10  /* Ignore really small tables */</p><p>ORDER BY SUM(bytes) desc</p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">SQL_Logging<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">SELECT inst_id,sid FROM gv$session WHERE username='REFCERT';</p><p></p><p></p><p>SELECT </p><p>      s.sid</p><p>     ,s.CLIENT_INFO</p><p>     ,s.MACHINE</p><p>     ,s.PROGRAM</p><p>     ,s.TYPE</p><p>     ,s.logon_time</p><p>     ,s.osuser</p><p>     ,sq.sorts</p><p>     ,sq.DISK_READS</p><p>     ,sq.BUFFER_GETS</p><p>     ,sq.ROWS_PROCESSED</p><p>     ,sq.SQLTYPE</p><p>     ,sq.SQL_TEXT</p><p> FROM gv$session s    </p><p>    , gv$sql sq</p><p>WHERE s.SQL_HASH_VALUE = sq.HASH_VALUE</p><p>AND sq.inst_id= s.inst_id</p><p>  --AND s.inst_id=:id -- replace with ID from above</p><p>  --AND s.sid = :sid -- replace with instID from above</p><p>  AND (s.inst_id, s.sid) in ( (1, 24), (1, 32), (1,33), (1,36), (1, 47), (1, 51) );</p><p></p><p></p><p><A HREF="http://docs.oracle.com/cd/B28359_01/appdev.111/b28419/d_trace.htm#i1002104">http://docs.oracle.com/cd/B28359_01/appdev.111/b28419/d_trace.htm#i1002104</A></p><p></p><p>Dbms_trace.set_plsql_trace(dbms_trace.trace_all_calls)</p><p></p><p>Dbms_trace.set_plsql_trace(dbms_trace.trace_all_sql)</p><p></p><p>Dbms_trace.set_plsql_trace(dbms_trace.trace_all_lines)</p><p></p><p>Starting PL/SQL tracing in session (DBMS_TRACE.SET_PLSQL_TRACE).</p><p>Running an application to be traced.</p><p>Stopping PL/SQL tracing in session (DBMS_TRACE.CLEAR_PLSQL_TRACE).</p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">SQL PLUS<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Courrier New" style="font-size:12pt"></font><font face="Courrier New" style="font-size:9pt">Without SID</p><p></p><p>sqlplus <A HREF="mailto:'REFCERT/refcert@(DESCRIPTION=(ADDRESS_LIST=(ADDRESS=(PROTOCOL=TCP)(HOST=localhost.localdomain)(PORT=1521)))(CONNECT_DATA=(SERVER=DEDICATED)(SERVICE_NAME=PEDB)))'">'REFCERT/refcert@(DESCRIPTION=(ADDRESS_LIST=(ADDRESS=(PROTOCOL=TCP)(HOST=localhost.localdomain)(PORT=1521)))(CONNECT_DATA=(SERVER=DEDICATED)(SERVICE_NAME=PEDB)))'</A></p><p></p><p>sqlplus <A HREF="mailto:'SYS@(DESCRIPTION=(ADDRESS_LIST=(ADDRESS=(PROTOCOL=TCP)(HOST=localhost.localdomain)(PORT=1521)))(CONNECT_DATA=(SERVER=DEDICATED)(SERVICE_NAME=PEDB)))'">'SYS@(DESCRIPTION=(ADDRESS_LIST=(ADDRESS=(PROTOCOL=TCP)(HOST=localhost.localdomain)(PORT=1521)))(CONNECT_DATA=(SERVER=DEDICATED)(SERVICE_NAME=PEDB)))'</A></p><p></p><p>Using SID</p><p></p><p>sqlplus <A HREF="mailto:'REFCERT/refcert@(DESCRIPTION=(ADDRESS_LIST=(ADDRESS=(PROTOCOL=TCP)(HOST=localhost.localdomain)(PORT=1521)))(CONNECT_DATA=(SERVER=DEDICATED)(SERVICE_NAME=SID)))'">'REFCERT/refcert@(DESCRIPTION=(ADDRESS_LIST=(ADDRESS=(PROTOCOL=TCP)(HOST=localhost.localdomain)(PORT=1521)))(CONNECT_DATA=(SERVER=DEDICATED)(SERVICE_NAME=SID)))'</A></p><p></p><p>connected database</p><p>select name from v$database;</font><font face="Courrier New" style="font-size:10pt"></p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Remote DB Connect<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">sqlplus SYS AS <A HREF="mailto:SYSDBA@msus-vmpernddb1">SYSDBA@msus-vmpernddb1:PEDB</A></p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">SETTINGS<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">sqlplus&lt;&lt;EOF</p><p>set long 100000</p><p>set head off</p><p>set echo off</p><p>set pagesize 0</p><p>set verify off</p><p>set feedback off</p><p>set linesize 32767</p><p>spool schema.out</p><p></p><p>--Run Query</p><p></p><p>spool off</p><p>quit</p><p></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Export/Import<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">SELECT directory_path FROM dba_directories WHERE directory_name = 'DATA_PUMP_DIR';</p><p></p></font><dt><br><dt style="margin-left:72;font: normal normal normal 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">UserManagement<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Unlock User<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Logon as sysdba</p><p></p><p>ALTER USER username ACCOUNT UNLOCK;</p><p></p><p>ALTER USER username ACCOUNT LOCK;</p><p></p><p></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Data Types<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"></p><p>number(precision, scale) - precision number of digits, scale number of digits to the right of the decimal point</p><p>char(length)       - length is in bytes</p><p>varchar2(length) - length in bytes - max 4000 characters</p><p>clob</p><p></p><p></p><p>11g you can specify byte or character</p><p><A HREF="http://docs.oracle.com/cd/B28359_01/server.111/b28286/sql_elements001.htm#SQLRF50950">http://docs.oracle.com/cd/B28359_01/server.111/b28286/sql_elements001.htm#SQLRF50950</A></p><p>VARCHAR2(size [BYTE | CHAR])</p><p></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Advanced SQL<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">### Aggregate  Analytic Function</p><p></p><p>SELECT LISTAGG (ACTIVITY_NAME, ',') WITHIN GROUP (ORDER BY USER_NAME) FROM MS_SRA_ACTIVITY_MV</p><p>where ACTIVITY_NAME IN </p><p></p><p>Analytic Function List</p><p></p><p>AVG *</p><p>CORR *</p><p>COUNT *</p><p>COVAR_POP *</p><p>COVAR_SAMP *</p><p>CUME_DIST</p><p>DENSE_RANK</p><p>FIRST</p><p>FIRST_VALUE *</p><p>LAG</p><p>LAST</p><p>LAST_VALUE *</p><p>LEAD</p><p>LISTAGG</p><p>MAX *</p><p>MIN *</p><p>NTH_VALUE *</p><p>NTILE</p><p>PERCENT_RANK</p><p>PERCENTILE_CONT</p><p>PERCENTILE_DISC</p><p>RANK</p><p>RATIO_TO_REPORT</p><p>REGR_ (Linear Regression) Functions *</p><p>ROW_NUMBER</p><p>STDDEV *</p><p>STDDEV_POP *</p><p>STDDEV_SAMP *</p><p>SUM *</p><p>VAR_POP *</p><p>VAR_SAMP *</p><p>VARIANCE </p></font><dt><br><dt style="margin-left:90;font: normal normal normal 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Self Join<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><dt><br><dt style="margin-left:72;font: normal normal normal 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Functions<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Date<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">creation_date &gt; to_date('06/26/2014 06:00', 'mm/dd/yyyy hh:mi')</p><p>and creation_date &lt; to_date('06/26/2014 08:00', 'mm/dd/yyyy hh:mi');</p><p></p><p></p><p><A HREF="http://stackoverflow.com/questions/18161053/how-to-convert-time-stored-in-varchar2-to-24-hour-format-in-oracle">http://stackoverflow.com/questions/18161053/how-to-convert-time-stored-in-varchar2-to-24-hour-format-in-oracle</A></p><p></p><p>### Text to Date</p><p>to_date(&lt;text field&gt;, 'DD/MM/YYYY HH:MI:SS AM')</p><p></p><p>### Date Field to String</p><p>to_char(to_date(&lt;date field&gt;, 'DD/MM/YYYY HH:MI:SS AM'), 'DD/MM/YYYY HH24:MI:SS')</p><p></p><p>### Example</p><p></p><p>select to_date('09/08/2013 5:13:07 PM', 'DD/MM/YYYY HH:MI:SS AM'),</p><p>  to_char(to_date('09/08/2013 5:13:07 PM', 'DD/MM/YYYY HH:MI:SS AM'),</p><p>    'DD/MM/YYYY HH24:MI:SS')</p><p>from dual;</p><p></p><p></p><p></p><p></p><p></font><font face="Arial" color="#1F497D" style="font-size:10pt"></font><font face="Calibri" color="#1F497D" style="font-size:10pt"></font><font face="Calibri" color="#1F497D" style="font-size:11pt"></p><p>select distinct user_id from si_user_login_audit </p><p>where to_char(timestamp, 'MM/DD/YYYY') = '01/06/2014'</p><p>AND comments LIKE '%compatible; MSIE 10%';</p><p></font><font face="Calibri" color="#000000" style="font-size:11pt"></font><font face="Arial" color="#000000" style="font-size:11pt"></font><font face="Arial" color="#000000" style="font-size:10pt"></p><p>sysdate</p><p></p><p>SELECT TO_CHAR</p><p>    (SYSDATE, 'MM-DD-YYYY HH24:MI:SS') &quot;NOW&quot;</p><p>     FROM DUAL;</p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Length (Bytes/Characters)<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"></p><p></p><p>lengthb</p><p>legnth</p><p></p><p>example : select lengthb(column) from table</p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Date - trunc<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">The TRUNC (date) function returns date with the time portion of the day truncated to the unit specified by the format model fmt</p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Tablespace Management<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">--Shrink the space</p><p>alter tablespace RND1_TEMP shrink space keep 256M;</p><p></p><p>--Resize existing temp file</p><p>ALTER DATABASE TEMPFILE 'D:\APP\SURESH.R\ORADATA\RND\RND1_TEMP' RESIZE 1024M;</p><p></p><p>--Add another temporary data file to existing tablesspace</p><p>alter tablespace RND1_TEMP add tempfile 'D:\APP\SURESH.R\ORADATA\RND\RND1_TEMP2.DBF';</p><p></p><p>-- Create Tablespace</p><p>CREATE TEMPORARY TABLESPACE temp_insert   TEMPFILE 'temp01.dbf' SIZE 5M AUTOEXTEND ON;</p><p>ALTER DATABASE DEFAULT TEMPORARY TABLESPACE temp_insert;</p><p></p><p>ALTER DATABASE TEMPFILE 'D:\APP\SURESH.R\ORADATA\RND\RND1_TEMP' ONLINE;</p><p>ALTER DATABASE TEMPFILE 'D:\APP\SURESH.R\ORADATA\RND\RND1_TEMP' OFFLINE;</p><p></p><p>ALTER SYSTEM SET DB_CREATE_FILE_DEST = '$ORACLE_HOME\RND';</p><p></p><p>ALTER DATABASE CREATE DATAFILE 'RND1_TEMP2.DBF' AS 'RND1_TEMP2.DBF';</p><p></p><p>ALTER DATABASE RENAME FILE 'D:\APP\SURESH.R\ORADATA\RND\RND1_TEMP' TO 'D:\APP\SURESH.R\ORADATA\RND\RND1_TEMP_bk';</p><p></p><p>select * from dba_data_files;</p><p></p><p>select owner, table_name,tablespace_name   from dba_tables where tablespace_name like '%TEMP%';</p><p>select table_name ,tablespace_name from user_tables where tablespace_name='RND1_TEMP';</p><p></p><p></p><p></p><p>ALTER TABLESPACE RND1_TEMP ADD DATAFILE D:\ORACLEXE\ORADATA\XE\USERS_2.DBF SIZE 50M</p></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">POSTGRESS<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">DB Tips</p><p></p><p>select * from iceinstrumentdefinition LIMIT 1;</p><p></p><p>Registering as a windows service</p><p></p><p>pg_ctl register -N postmaster -U gtsdb -P gts$06 -D &quot;c:\Program Files\PostgreSQL\8.0\data&quot;</p><p></p><p>Username/password must be postgres username and password used during installation of postgres</p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">DBINFO<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">select * from pg_tables where tableowner = 'actrader'</p><p></p><p>select * from pg_attribute where attname = 'instrumentkey'</p><p></p><p>psql --version</p><p></p><p>pg_hba.conf and pgsql.conf for allowing ip address instead of local so that user can connect from outside</p><p></p><p></p><p></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Backup<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><u><b><i><font face="Arial" style="font-size:10pt">Backup database</u></i></p><p></b><i>pg_dump database -f filetorestoreTO.sql-o -h hostname -p 5432 -U username</p><p><b></i></p><p><u>Restore Backedup database (Delete set statements at the end of the restore file)</u></p><p></p><p></b><i>psql -h hostname -U username -d database -f filetorestoreFROM.sql<b></i></p><p></p><p>--This is how pgadmin does</p><p>pg_dump.exe -i -h 10.3.1.123 -p 5432 -U actrader -F p -a -D -v -f &quot;C:\th\projects\actrader\databasemgmt\demoscripts\clearingfirmlimit.sql&quot; -t clearingfirmlimit actglobal</p><p></b></p><p><u><i>Help</u></i></p><p><b>pg_dump --help</b></p><p></p><p><u><i>Create database</u></p><p><b></i>createdb -T template0 -h localhost -p 5432 -U gtsdbo website.restore</p><p></p><p></p><p><u></b><i>Restore database</p><p></u><b></i>psql website.restore -h localhost -p 5432 -U gtsdbo -f website.backup</p><p></p><p></p><p><u><i>Optimize after restore</p><p></u></i>vacuumdb -h localhost -p 5432 -U gtsdbo  -z -d website.restore<u><i></p><p></p><p></b>Important:  The dumps produced by pg_dump are relative to template0. This means that any languages, procedures, etc. added to template1 will also be dumped by pg_dump. As a result, when restoring, if you are using a customized template1, you must create the empty database from template0, as in the example above</p><p></p><p></p><p>Dumping large objects</p><p></u><b></i>Use -b option in pg_dump to dump large objects or use <i>pg_dumplo<u></b></p><p></i></p><p>Use compressed dumps</p><p></p><p>pg_dump dbname | gzip &gt; filename.gz</p><p></p><p>Reload with</p><p></p><p></u><b><i>createdb dbname</p><p>gunzip -c filename.gz | psql dbname</p><p></b></p><p>or</p><p></p><p>cat filename.gz | gunzip | psql dbname</p><p></p><p>Use split. The split command allows you to split the output into pieces that are acceptable in size to the underlying file system. For example, to make chunks of 1 megabyte:</p><p></p><p>pg_dump dbname | split -b 1m - filename</p><p></p><p>Reload with</p><p></p><p>createdb dbname</p><p>cat filename* | psql dbname</p><p></p><p>Use the custom dump format. If PostgreSQL was built on a system with the zlib compression library installed, the custom dump format will compress data as it writes it to the output file. This will produce dump file sizes similar to using gzip, but it has the added advantage that tables can be restored selectively. The following command dumps a database using the custom dump format:</p><p></p><p>pg_dump -Fc dbname &gt; filename</p><p></p><p>A custom-format dump is not a script for psql, but instead must be restored with pg_restore. See the pg_dump and pg_restore reference pages for details. <u></p><p></u></i></p><p></p><p></p><p></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">QueryDB<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><b><font face="Arial" style="font-size:10pt">Connecting to DB</p><p></p><p>psql -d database -h hostname/ipaddress -p port(5432) -U user -W</p><p></p><p>-W will ask for password to connect</p><p></p><p></b></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">SQL<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">select notionaltickvalue, substring(notionaltickvalue, 1, 1), tonumber(substring(notionaltickvalue, 2)), ticksize, </p><p>* from exchangeinstrumentdefinition where symbol like 'ESU7'</p><p></p><p></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Functions<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><b><font face="Arial" style="font-size:10pt">Current Time</b></p><p>current_timestamp</p><p></p><p><b>Concatinating</b></p><p>select cast(instanceid AS text) || '-' || propertyvalue from configuration where propertykey = 'LAST_USED_WORKSPACE' </p><p></p><p>update exchangeinstrumentdefinition set instrumentactivationdatetime =   textcat(instrumentactivationdatetime, '00000000') where  description = 'BMF Futures Definition,224.0.26.64,12028' </p><p></p><p>select </p><p>'insert into configuration (symbol, name, &quot;tick-size&quot;, &quot;sender-comp-id&quot;, &quot;target-comp-id&quot;, price, quantity, &quot;order-type&quot;, &quot;transport-name&quot;, &quot;ordertable-font-size&quot;, &quot;ordertable-column-width&quot;, &quot;view-distribution&quot; )</p><p> values (' </p><p>|| '\'' || instrumentkey || '\','  </p><p>|| '\'' || symbol || '\','  </p><p>|| '\'' || cast(ticksize as text) || '\','</p><p>|| '\'' || 'UI' || '\','  </p><p>|| '\'' || 'ENGINE' || '\','  </p><p>|| '\'' || cast(ticksize as text) || '\','  </p><p>|| '\'' || '100'|| '\','  </p><p>|| '\'' || '2' || '\','  </p><p>|| '\'' || '' || '\','  </p><p>|| '\'' || '10' || '\','  </p><p>|| '\'' || '85'   || '\','  </p><p>|| '\'' || '700,300'  || '\''  </p><p>|| ');'</p><p>from exchangeinstrumentdefinition</p><p>where instrumentkey like 'CME.ES%' </p><p></p><p><b>Date</b></p><p>select date_part('day', timestamp),timestamp from orderstate</p><p>where date_part('day', timestamp) = 29</p><p></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Administration<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"></p><p><b>UNIX Startup/Shutdown</b> /etc/init.d/postgresql start/stop/restart</p><p><b></p><p>Windows</p><p>Shutdown</b> -&gt; C:\Program Files (x86)\PostgreSQL\8.3\bin&gt;pg_ctl.exe stop -w -t 5 -D &quot;C:\Program Files (x86)\PostgreSQL\8.3\data&quot; -m fast</p><p><b>Startup</b> -&gt; pg_ctl.exe start -w -t 5 -D &quot;C:\Program Files (x86)\PostgreSQL\8.3\data&quot; -m fast</p><p></p><p>-w wait till stopped </p><p>-t  wait time in seconds</p><p>-D data directory</p><p>-m fast quite with proper shutdown</p><p><b></p><p>Data configuration dir </b>-&gt; /var/lib/pgsql/</p><p><b>All configurations </b>/var/lib/psql/data/ -&gt; postgressql.conf, pg_hba.conf </p><p></p><p></p><p></p><p><b>Open connections </b> -&gt; select * from pg_stat_activity order by datname  </p><p></p><p><b>Virtual memory stats</b> -&gt; vmstat 5 </p><p></p><p><b>Logging</b> - /var/log/messages</p><p></p><p></p><p><b>Describe table information from psql</b></p><p></p><p>SELECT</p><p>	a.attnum,</p><p>	a.attname AS field,</p><p>	t.typname AS type,</p><p>	a.attlen AS length,</p><p>	a.atttypmod AS lengthvar,</p><p>	a.attnotnull AS notnull</p><p>FROM</p><p>	pg_class c,</p><p>	pg_attribute a,</p><p>	pg_type t</p><p>WHERE</p><p>	c.relname like 'tablename'</p><p>	--and a.attnum &gt; 0</p><p>	and a.attrelid = c.oid</p><p>	and a.atttypid = t.oid</p><p>ORDER BY a.attnum</p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Tuning<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"><A HREF="http://wiki.postgresql.org/wiki/Tuning_Your_PostgreSQL_Server">http://wiki.postgresql.org/wiki/Tuning_Your_PostgreSQL_Server</A></p><p></p><p></p><p>max_connections= maximum client connections allowed</p><p>shared_buffers=8    1/4 of the memory available  - determines how much memory is dedicated to PostgreSQL use for caching data</p><p>32GB - 1/4 = 8GB, </p><p>effective_cache_size should be set to an estimate of how much memory is available for disk caching by the operating system and within the database itsel</p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Maintenance<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Registering As a Windows Service</p><p></p><p>Adding Windows User for postgres : </p><p></p><p>net create user postgress</p><p></p><p>pg_ctl register -N PostgresSQL8.3 -U postgres -P <A HREF="mailto:p@ssw0rd">p@ssw0rd</A> -D &quot;C:\Program Files (x86)\PostgreSQL\8.3\data&quot; -w -t 60</p></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">mysql<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Courrier New" style="font-size:12pt"></font><font face="Courrier New" style="font-size:9pt">mysql --user=testuser --password=welcome*123 bugs</p><p></p><p>show databases;</p><p></font><font face="Arial" style="font-size:9pt"></font><font face="Arial" style="font-size:10pt"></p><p></font><font face="Courrier New" style="font-size:10pt"></font><font face="Courrier New" style="font-size:9pt">use bugs;</p><p></font><font face="Arial" style="font-size:9pt"></font><font face="Arial" style="font-size:10pt"></p><p></font><font face="Courrier New" style="font-size:10pt"></font><font face="Courrier New" style="font-size:9pt">show tables;</p><p></font><font face="Arial" style="font-size:9pt"></font><font face="Arial" style="font-size:10pt"></p><p></p><p>START TRANSACTION;</p><p>SELECT <A HREF="mailto:@A:=SUM(salary)">@A:=SUM(salary)</A> FROM table1 WHERE type=1;</p><p>UPDATE table2 SET <A HREF="mailto:summary=@A">summary=@A</A> WHERE type=1;</p><p>COMMIT;</p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">output<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">csv output</p><p></p><p>SELECT order_id,product_name,qty</p><p>FROM orders</p><p>INTO OUTFILE '/tmp/orders.csv'</p><p>FIELDS TERMINATED BY ','</p><p>ENCLOSED BY '&quot;'</p><p>LINES TERMINATED BY '\n'</p><p></p><p></p><p>mysql -u user -p database -b &quot;select * from table&quot; | sed 's/\t/&quot;,&quot;/g;s/^/&quot;/;s/$/&quot;/;s/\n//g' &gt; output.csv</p><p></p><p>Basically itll convert tabs to commas, add quotation marks on the beginning and the end of a string and cut all newlines</p></font><dt><br><dt style="margin-left:54;font: normal normal normal 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">KB<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">KB-00704<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Calibri" color="#1F497D" style="font-size:12pt"><u></font><font face="Calibri" color="#1F497D" style="font-size:12pt"></font><font face="Calibri" color="#1F497D" style="font-size:11pt">Problem: Oracle System files were deleted accidentaly</p><p></u></p><p>Recovered the database by restoring old system files that was taken backup 6 hours before the database failure</p><p></p><p><u>Recovery Steps</u></p><p></p><p style="margin-left:52">1.	We copied system datafile from <b>/data03/restore</b> and tried to start. Since system datafile is not the current one we had issue during startup. We encountered ORA-600 issue.</p><p style="margin-left:52">2.	Since DB did not open up we have used <b>_ALLOW_RESETLOGS_CORRUPTION=TRUE</b> parameter to start.</p><p style="margin-left:52">3.	DB did not started, we got error <b>ORA-01589:must use RESETLOGS or NORESETLOGS</b></p><p style="margin-left:52">4.	We have used <b>recover database</b> command to recover data from redo logs.</p><p style="margin-left:52">5.	When we started DB, we again encountered <b>Ora-600 error</b>. This error due to the SCN number mismatch between system and data tablespace.</p><p style="margin-left:52">6.	This is known outcome, we have startup db till the SCN numbers matches. We have applied startup command around 12 times and finally we were able to start the database.</p><p>        7.    We have cleaned up the <b>offline undo segment</b> also and restarted the DB</p><p></p><p>Later while inserting data to one of the table we encoutered second problem</p><p></p><p><u>Problem 2: Bootsrap index error</p><p></u></p><p>java.sql.SQLException: ORA-00604: error occurred at recursive SQL level 1</font><font face="Calibri" color="#000000" style="font-size:11pt"></p><p></font><font face="Calibri" color="#1F497D" style="font-size:11pt">ORA-08102: index key not found, obj# 39, file 8, block 124453 (2)</font><font face="Calibri" color="#000000" style="font-size:11pt"></p><p></font><font face="Arial" color="#000000" style="font-size:11pt"></font><font face="Arial" color="#000000" style="font-size:10pt"></p><p></p><p><u>Recovery</p><p></p><p>Step 1: Failed</p><p></p><p></font><font face="Arial" color="#1F497D" style="font-size:10pt"></u></font><font face="Calibri" color="#1F497D" style="font-size:10pt"></font><font face="Calibri" color="#1F497D" style="font-size:11pt">1) take a backup of the database as it is now</p><p></p><p>2) startup migrate</p><p></p><p>3) set echo on</p><p>spool recreate_obj.log</p><p></p><p>4) <A HREF="mailto:@$ORACLE_HOME/rdbms/admin/utlmmig">@$ORACLE_HOME/rdbms/admin/utlmmig</A></p><p></p><p>5) after script finish and db is closed</p><p></p><p>spool off</p><p></font><font face="Calibri" color="#000000" style="font-size:11pt"><u></font><font face="Arial" color="#000000" style="font-size:11pt"></font><font face="Arial" color="#000000" style="font-size:10pt"></p><p></p><p>Step 2: Failed - Suggestion from oracle to start the database in upgrade mode and run utlmmig.sql</p><p></p><p></font><font face="Arial" color="#1F497D" style="font-size:10pt"></u></font><font face="Calibri" color="#1F497D" style="font-size:10pt"></font><font face="Calibri" color="#1F497D" style="font-size:11pt">ORA-01092: ORACLE instance terminated. Disconnection forced</p><p>ORA-00704: bootstrap process failure</p><p>ORA-39714: upgrade script utlmmig.sql failed</p><p>Process ID: 17417</p><p>Session ID: 2262 Serial number: 3</p><p></p><p></p><p><u>Solution 1</p><p></p><p></u><b>Restore from the backup to a earlier state where only problem 1 exist so that db continue to start with bootstrap index error and then export and reimport the data using expdp - for large database this would take days<u></b></p><p></p><p>Solution 2</p><p></p><p></u>Since the index error is only on system table space the solution would be to backup only the tablespace that contains data and restore it into a new database<u></p><p></p><p></p><p></u></p><p></font><font face="Calibri" color="#000000" style="font-size:11pt"></font><font face="Arial" color="#000000" style="font-size:11pt"></font><font face="Arial" color="#000000" style="font-size:10pt"></p></font><dt><br><dt style="margin-left:54;font: normal normal normal 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">MSSQL<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">profile<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p style="margin-left:7"><font face="MS Shell Dlg" color="#000000" style="font-size:12pt"></font><font face="MS Shell Dlg" color="#000000" style="font-size:12pt"></font><font face="MS Shell Dlg" color="#000000" style="font-size:12pt">set statistics profile on </p><p style="margin-left:7">go </p><p></font><font face="MS Shell Dlg" color="#000000" style="font-size:12pt"></font><font face="Arial" color="#000000" style="font-size:12pt"></font><font face="Arial" color="#000000" style="font-size:10pt">and then run query</p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">refreshdb<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:12pt"></font><font face="Arial" style="font-size:10pt">--drop table #killspids</font><font face="Arial" style="font-size:12pt"></p><p></font><font face="Arial" style="font-size:12pt"></font><font face="Arial" style="font-size:10pt">declare <A HREF="mailto:@execstring">@execstring</A> nchar(4000) </font><font face="Arial" style="font-size:12pt"></p><p></font><font face="Arial" style="font-size:12pt"></font><font face="Arial" style="font-size:10pt">create table #KILLSPIDS </font><font face="Arial" style="font-size:12pt"></p><p></font><font face="Arial" style="font-size:12pt"></font><font face="Arial" style="font-size:10pt">(execstring nchar(4000) null) </font><font face="Arial" style="font-size:12pt"></p><p></font><font face="Arial" style="font-size:12pt"></font><font face="Arial" style="font-size:10pt">insert into</font><font face="Arial" style="font-size:12pt"></p><p></font><font face="Arial" style="font-size:12pt"></font><font face="Arial" style="font-size:10pt">#killspids </font><font face="Arial" style="font-size:12pt"></p><p></font><font face="Arial" style="font-size:12pt"></font><font face="Arial" style="font-size:10pt">select 'kill ' + cast(spid as char(4)) </font><font face="Arial" style="font-size:12pt"></p><p></font><font face="Arial" style="font-size:12pt"></font><font face="Arial" style="font-size:10pt">from master..sysprocesses </font><font face="Arial" style="font-size:12pt"></p><p></font><font face="Arial" style="font-size:12pt"></font><font face="Arial" style="font-size:10pt">where dbid = (select d.dbid </font><font face="Arial" style="font-size:12pt"></p><p></font><font face="Arial" style="font-size:12pt"></font><font face="Arial" style="font-size:10pt">from master..sysdatabases d</font><font face="Arial" style="font-size:12pt"></p><p></font><font face="Arial" style="font-size:12pt"></font><font face="Arial" style="font-size:10pt">where d.name = 'jrun_insite_load1_40')</font><font face="Arial" style="font-size:12pt"></p><p></font><font face="Arial" style="font-size:12pt"></font><font face="Arial" style="font-size:10pt">declare kill_spids CURSOR FOR </font><font face="Arial" style="font-size:12pt"></p><p></font><font face="Arial" style="font-size:12pt"></font><font face="Arial" style="font-size:10pt">select execstring </font><font face="Arial" style="font-size:12pt"></p><p></font><font face="Arial" style="font-size:12pt"></font><font face="Arial" style="font-size:10pt">from #killspids</font><font face="Arial" style="font-size:12pt"></p><p></font><font face="Arial" style="font-size:12pt"></font><font face="Arial" style="font-size:10pt">open kill_spids </font><font face="Arial" style="font-size:12pt"></p><p></font><font face="Arial" style="font-size:12pt"></font><font face="Arial" style="font-size:10pt">fetch next from kill_spids into <A HREF="mailto:@execstring">@execstring</A> </font><font face="Arial" style="font-size:12pt"></p><p></font><font face="Arial" style="font-size:12pt"></font><font face="Arial" style="font-size:10pt">while <A HREF="mailto:@@fetch_status">@@fetch_status</A> = 0 </font><font face="Arial" style="font-size:12pt"></p><p></font><font face="Arial" style="font-size:12pt"></font><font face="Arial" style="font-size:10pt">begin </font><font face="Arial" style="font-size:12pt"></p><p></font><font face="Arial" style="font-size:12pt"></font><font face="Arial" style="font-size:10pt">exec <A HREF="mailto:(@execstring)">(@execstring)</A> </font><font face="Arial" style="font-size:12pt"></p><p></font><font face="Arial" style="font-size:12pt"></font><font face="Arial" style="font-size:10pt">fetch next from kill_spids</font><font face="Arial" style="font-size:12pt"></p><p></font><font face="Arial" style="font-size:12pt"></font><font face="Arial" style="font-size:10pt">into <A HREF="mailto:@execstring">@execstring</A> </font><font face="Arial" style="font-size:12pt"></p><p></font><font face="Arial" style="font-size:12pt"></font><font face="Arial" style="font-size:10pt">end </font><font face="Arial" style="font-size:12pt"></p><p></font><font face="Arial" style="font-size:12pt"></font><font face="Arial" style="font-size:10pt">close kill_spids </font><font face="Arial" style="font-size:12pt"></p><p></font><font face="Arial" style="font-size:12pt"></font><font face="Arial" style="font-size:10pt">deallocate kill_spids </font><font face="Arial" style="font-size:12pt"></p><p></font><font face="Arial" style="font-size:12pt"></font><font face="Arial" style="font-size:10pt">exec sp_restore_generic_database 'jrun_insite_load1_40', 'D:\sql\backup\jrun_insite_load1_40.bak'</font><font face="Arial" style="font-size:12pt"></p><p></font><font face="Arial" style="font-size:12pt"></font><font face="Arial" style="font-size:10pt">use jrun_insite_load1_40</font><font face="Arial" style="font-size:12pt"></p><p></font><font face="Arial" style="font-size:12pt"></font><font face="Arial" style="font-size:10pt">go</font><font face="Arial" style="font-size:12pt"></p><p></font><font face="Arial" style="font-size:12pt"></font><font face="Arial" style="font-size:10pt"></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">issues<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="MS Shell Dlg" color="#000000" style="font-size:12pt"></font><font face="MS Shell Dlg" color="#000000" style="font-size:12pt"></font><font face="MS Shell Dlg" color="#000000" style="font-size:12pt">the SQL server kills the process of your connection. You can take a look into the SQL server log to receive more info about your problem. If you have a different problem like a &quot;Read timed out&quot; the connection synchronisation can be corrupt</font><font face="MS Shell Dlg" color="#000000" style="font-size:12pt"></font><font face="Arial" color="#000000" style="font-size:12pt"></font><font face="Arial" color="#000000" style="font-size:10pt"></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">escapexml<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">&lt;![CDATA [SELECT x from person where y &lt; 2]]&gt;</p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">cacherefresh<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">dbcc freeproccache</p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Tip1<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:12pt"></font><font face="Arial" style="font-size:10pt">select so.name, si.name </font><font face="Arial" style="font-size:12pt"></p><p></font><font face="Arial" style="font-size:12pt"></font><font face="Arial" style="font-size:10pt">from sysobjects so,</font><font face="Arial" style="font-size:12pt"></p><p></font><font face="Arial" style="font-size:12pt"></font><font face="Arial" style="font-size:10pt">sysindexes si</font><font face="Arial" style="font-size:12pt"></p><p></font><font face="Arial" style="font-size:12pt"></font><font face="Arial" style="font-size:10pt">where si.id = so.id</font><font face="Arial" style="font-size:12pt"></p><p></font><font face="Arial" style="font-size:12pt"></font><font face="Arial" style="font-size:10pt">and si.name like '%AI%'</font><font face="Arial" style="font-size:12pt"></p><p></font><font face="Arial" style="font-size:12pt"></font><font face="Arial" style="font-size:10pt"></p></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">BENCHMARKING<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"><A HREF="http://www-css.fnal.gov/dsg/external/freeware/pgsql-vs-mysql.html">http://www-css.fnal.gov/dsg/external/freeware/pgsql-vs-mysql.html</A></p></font><dt><br><dt style="margin-left:54;font: normal normal normal 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">MongoDB<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Directory Structure<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">### UNIX</p><p></p><p>####  Initi Script</p><p></p><p>/etc/rc.d/init.d/mongod</p><p></p><p>#### Data Files</p><p></p><p>       /var/lib/mongo</p><p></p><p>#### Logging</p><p></p><p>     /var/log/mongo</p><p></p><p></p><p>### Windows</p><p></p><p>Port 27017</p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Startup<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">MongoDB README</p><p></p><p>Welcome to MongoDB!</p><p></p><p>COMPONENTS</p><p></p><p>  bin/mongod - The database process.</p><p>  bin/mongos - Sharding controller.</p><p>  bin/mongo  - The database shell (uses interactive javascript).</p><p></p><p>UTILITIES</p><p></p><p>  bin/mongodump         - MongoDB dump tool - for backups, snapshots, etc..</p><p>  bin/mongorestore      - MongoDB restore a dump</p><p>  bin/mongoexport       - Export a single collection to test (JSON, CSV)</p><p>  bin/mongoimport       - Import from JSON or CSV</p><p>  bin/mongofiles        - Utility for putting and getting files from MongoDB GridFS</p><p>  bin/mongostat         - Show performance statistics</p><p></p><p>RUNNING</p><p></p><p>  For command line options invoke:</p><p></p><p>    $ ./mongod --help</p><p></p><p>  To run a single server database:</p><p></p><p>    $ mkdir /data/db</p><p>    $ ./mongod</p><p>    $</p><p>    $ # The mongo javascript shell connects to localhost and test database by default:</p><p>    $ ./mongo </p><p>    &gt; help</p><p></p><p>SERVICE</p><p></p><p>   service mongod start</p><p>   service mongod stop</p><p></p><p></p><p>DRIVERS</p><p></p><p>  Client drivers for most programming languages are available at mongodb.org.  Use the </p><p>  shell (&quot;mongo&quot;) for administrative tasks.</p><p></p><p>DOCUMENTATION</p><p></p><p>  <A HREF="http://www.mongodb.org/">http://www.mongodb.org/</A></p><p></p><p>MAIL LISTS AND IRC</p><p></p><p>  <A HREF="http://dochub.mongodb.org/core/community">http://dochub.mongodb.org/core/community</A></p><p></p><p>32 BIT BUILD NOTES</p><p></p><p>  MongoDB uses memory mapped files.  If built as a 32 bit executable, you will</p><p>  not be able to work with large (multi-gigabyte) databases.  However, 32 bit</p><p>  builds work fine with small development databases.</p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Example<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"></p><p>#Start mongodb on database bugzilla </p><p>bin\mongod.exe -dbpath=D:\Software\mongodb-win32-x86_64-2.4.5\data\bugzilla &gt; mongo_bugzilla.log</p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Shutdown<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Connect to admin database</p><p></p><p>&gt;&gt;&gt; mongo admin</p><p></p><p>Issues shutdown command (Note: it's a script)</p><p></p><p>&gt;&gt;&gt; </font><font face="Arial" style="font-size:9pt">db.shutdownServer({timeoutSecs: 60});</font><font face="Arial" style="font-size:10pt"></p></font><dt><br><dt style="margin-left:72;font: normal normal normal 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Programming<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">CHEATSHEET<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Technology folder</p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Export Data to CSV<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">#Connect to bugzilla database using mongo client</p><p>mongo bugzilla </p><p></p><p>#Create a js file with following code to loop through all the tickets and print bug_id </p><p>db.tickets.find().forEach(function(ticket) {</p><p>  print(ticket.bug_id)</p><p>});</p><p></p><p>#Output to text file</p><p>mongodb-win32-x86_64-2.4.5&gt;bin\mongo bugzilla export.js &gt; bug_ids.txt</p><p></p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">UPDATE<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">#update field creator_group for a specific reporter</p><p></p><p>db.tickets.update(</p><p>{ reporter: 'email' },</p><p>{ $set: { creator_group : &quot;Production Engineering&quot;} },</p><p>{ multi: true }</p><p>)</p><p></p><p>db.tickets.update(</p><p>{ reporter: { $in : <A HREF="mailto:test@test.com&quot">[&quot;test@test.com&quot;,</A> <A HREF="mailto:test2@test.com&quot">&quot;test2@test.com&quot;]</A>  } },</p><p>{ $set: { creator_group : &quot;Production Engineering&quot;} },</p><p>{ multi: true }</p><p>)</p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Pymongo<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">API Guide - <A HREF="http://api.mongodb.org/python/current/api/index.html">http://api.mongodb.org/python/current/api/index.html</A></p><p></p><p></p><p>import pymongo</p><p>client = pymongo.MongoClient(&quot;localhost&quot;, 27017)</p><p></p><p># What databases are available</p><p>client.database_names()</p><p></p><p>#What collections available</p><p>db.collection_names()</p><p></p><p>#Select Database</p><p>db = client.bugzilla</p><p></p><p>#Find One record</p><p>db.tickets.find_one()</p><p></p><p>#Print database name</p><p>db.name </p><p></p><p></p><p>#Include bug_id field and exclude _id field</p><p>for doc in db.tickets.find(fields={'bug_id':True, '_id':False}):</p><p> doc</p><p></p><p>#Limit</p><p>for doc in db.tickets.find(fields={'bug_id':True, '_id':False}).limit(2):</p><p> doc</p><p></p><p>#Update</p><p>db.tickets.update({&quot;bug_id&quot; : &quot;74308&quot;}, {&quot;$set&quot; : {&quot;resolution&quot;: &quot;INVAL&quot;}})</p><p></p><p></p><p>Aggregate</p><p>collection.count()</p><p></p><p></p><p>===========</p><p>import pymongo</p><p></p><p># Connection to Mongo DB</p><p>try:</p><p>    conn=pymongo.MongoClient()</p><p>    print &quot;Connected successfully!!!&quot;</p><p>except pymongo.errors.ConnectionFailure, e:</p><p>   print &quot;Could not connect to MongoDB: %s&quot; % e </p><p>conn</p><p>==============</p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Query<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><b><font face="Arial" style="font-size:10pt">### Finding Your Data</b></p><p></p><p>PyMongo provides two functions for finding your data: </p><li><p>find_one(), which finds a single document in your collection that matches specified criteria; </p><li><p>find() -  find multiple documents</p><li><p>find(parameters) - find documents matching filters</p></ul><p></p><p><b>### Finding a Single Document - Example</p><p></b></p><p>&gt;&gt;&gt; collection.find_one()</p><p>  </p><p>- By default, this function will return the first document in your collection </p><p>- The function is similar to the findOne() function in the MongoDB shell.</p><p>-  <i>uMike instead of Mike is that PyMongo decodes each BSON string to a Python unicode string, not a regular str</p><p></p><p></i></p><p>You can specify additional parameters to ensure that the first document returned matches your query.</p><p></p><p>Every parameter used with the find() function can also be used for find_one() as well, although the limit parameter will be ignored. </p><p>The query parameters need to be written just as they would if you were defining them in the shell; that is, you need to specify a key and its value (or a number of values). For instance, assume you want to find a document for which an ItemNumber has the value of 3456TFS, and you dont want to return the documents _id. </p><p>The following query accomplishes that, returning the output as shown:</p><p></p><p>&gt;&gt;&gt; collection.find_one({&quot;ItemNumber&quot; : &quot;3456TFS&quot;} ,fields={'_id' : False})</p><p>{</p><p>    u'Status': u'In use',</p><p>    u'Tags': [u'Laptop', u'Development', u'In Use'],</p><p>    u'ItemNumber': u'3456TFS',</p><p>    u'Location': {</p><p>        u'Department': u'Development',</p><p>        u'Building': u'2B',</p><p>        u'Floor': 12,</p><p>        u'Owner': u'Walker, Jan',</p><p>        u'Desk': 120103</p><p>    },</p><p>    u'Type': u'Laptop'</p><p>}</p><p></font><font face="Symbol" color="#000000" style="font-size:10pt"><b>image Note  Python is case-sensitive. Therefore, true and false are not the same as True and False.</p><p></font><font face="Symbol" color="#000000" style="font-size:10pt"></b></p><p>If the search criteria are relatively common for a document, you can also specify additional query operators. For example, imagine querying for {&quot;Department&quot; : &quot;Development&quot;}, which would return more than one result. Well look at such an example momentarily; however, first lets determine how to return multiple documents, rather than just one. This may be a little different than you suspect.</p><p>Finding Multiple Documents</p><p>You need to use the find() function to return more than a single document. Youve probably used this command in MongoDB many times by this point in the book, so youre probably feeling rather comfortable with it. The concept is the same in Python: you specify the query parameters between the brackets to find the specified information.</p><p>Getting the results back to your screen, however, works a little differently. Just as when working with PHP and in the shell, querying for a set of documents will return a cursor instance to you. Unlike when typing in the shell, however, you cant simply type in db.items.find() to have all results presented to you. Instead, you need to retrieve all documents using the cursor. The following example shows how to display all documents from the items collection (note that you previously defined collection to match the collections name; the results are left out for the sake of clarity):</p><p>&gt;&gt;&gt; for doc in collection.find():</p><p>...             doc</p><p>...</p><p>Pay close attention to the indentation before the word doc. If this indentation is not used, then an error message will be displayed, stating that an expected indented block didnt occur. Its one of Pythons strengths that it uses such an indentation method for block delimiters because this approach keeps the code well ordered. Rest assured, youll get used to this Pythonic coding convention relatively quickly. If you do happen to forget about the indentation, however, youll see an error message that looks something like this:</p><p>File &quot;&lt;stdin&gt;&quot;, line 2</p><p>    doc</p><p>      ^</p><p>IndentationError: expected an indented block</p><p>Next, lets look at how to specify a query operator using the find() function. The methods used for this are identical to the ones seen previously in the book:</p><p>&gt;&gt;&gt; for doc in collection.find({&quot;Location.Owner&quot; : &quot;Walker, Jan&quot;}):</p><p>...             doc</p><p>...</p><p>{</p><p>    u'Status': u'In use',</p><p>    u'Tags': [u'Laptop', u'Development', u'In Use'],</p><p>    u'ItemNumber': u'3456TFS',</p><p>    u'Location': {</p><p>        u'Department': u'Development',</p><p>        u'Building': u'2B',</p><p>        u'Floor': 12,</p><p>        u'Owner': u'Walker, Jan',</p><p>        u'Desk': 120103</p><p>    },</p><p>    u'_id': ObjectId('4c57234c4abffe0e0c000002'),</p><p>    u'Type': u'Laptop'</p><p>}</p><p>Using Dot Notation</p><p>Dot notation is used to search for matching elements in an embedded object. The preceding snippet shows an example of how to do this. When using this technique, you simply specify the key name for an item within the embedded object to search for it, as in the following example:</p><p>&gt;&gt;&gt; for doc in collection.find({&quot;Location.Department&quot; : &quot;Development&quot;}):</p><p>...             doc</p><p>...</p><p>This example returns any document that has the Development department set. When searching for information in a simple array (for instance, the tags applied), you just need to fill in any of the matching tags:</p><p>&gt;&gt;&gt; for doc in collection.find({&quot;Tags&quot; : &quot;Laptop&quot;}):</p><p>...             doc</p><p>...</p><p>Returning Fields</p><p>If your documents are relatively large, and you do not want to return all key/value information stored in a document, you can include an additional parameter in the find() function to specify that only a certain set of fields need to be returned using True, or kept hidden using False. You do this by providing the fields parameter, followed by a list of field names after the search criteria. Note that outside of the _id field, you cannot mix True and False in a query.</p><p>The following example returns only the current owners name, the item number, and the object ID (this will always be returned, unless you explicitly tell MongoDB not to return it):</p><p>&gt;&gt;&gt; for doc in collection.find({'Status' : 'In use'}, fields={'ItemNumber' : True, 'Location.Owner' : True}):</p><p>...             doc</p><p>...</p><p>{</p><p>        u'ItemNumber': u'1234EXD',</p><p>        u'_id': ObjectId('4c57207b4abffe0e0c000000'),</p><p>        u'Location': {</p><p>                u'Owner': u'Anderson, Thomas'</p><p>        }</p><p>}</p><p>{</p><p>        u'ItemNumber': u'2345FDX',</p><p>        u'_id': ObjectId('4c57234c4abffe0e0c000001'),</p><p>        u'Location': {</p><p>                u'Owner': u'Smith, Simon'</p><p>        }</p><p>}</p><p>{</p><p>        u'ItemNumber': u'3456TFS',</p><p>        u'_id': ObjectId('4c57234c4abffe0e0c000002'),</p><p>        u'Location': {</p><p>                u'Owner': u'Walker, Jan'</p><p>        }</p><p>}</p><p>I suspect youll agree that this approach to specifying criteria is quite handy.</p><p>Simplifying Queries with sort(), limit(), and skip()</p><p>The sort(), limit(), and skip() functions make implementing your queries much easier. Individually, each of these functions has its uses, but combining them makes them even better and more powerful. You can use the sort() function to sort the results by a specific key; the limit() function to limit the total number of results returned; and the skip() function to skip the first n items found before returning the remainder of the documents that match your query.</p><p>Lets look at a set of individual examples, beginning with the sort() function. To save some space, the following example includes another parameter to ensure that only a few fields are returned:</p><p>&gt;&gt;&gt; for doc in collection.find ({'Status' : 'In use'},</p><p>...      fields={'ItemNumber' : True, 'Location.Owner' : True}).sort(ItemNumber):</p><p>...             doc</p><p>...</p><p>{</p><p>        u'ItemNumber': u'1234EXD',</p><p>        u'_id': ObjectId('4c57207b4abffe0e0c000000'),</p><p>        u'Location': {</p><p>                u'Owner': u'Anderson, Thomas'</p><p>        }</p><p>}</p><p>{</p><p>        u'ItemNumber': u'2345FDX',</p><p>        u'_id': ObjectId('4c57234c4abffe0e0c000001'),</p><p>        u'Location': {</p><p>                u'Owner': u'Smith, Simon'</p><p>        }</p><p>}</p><p>{</p><p>        u'ItemNumber': u'3456TFS',</p><p>        u'_id': ObjectId('4c57234c4abffe0e0c000002'),</p><p>        u'Location': {</p><p>                u'Owner': u'Walker, Jan'</p><p>        }</p><p>}</p><p>Next, lets look at the limit() function in action. In this case, you tell the function to return only the ItemNumber from the first two items it finds in the collection (note that no search criteria are specified in this example):</p><p>&gt;&gt;&gt; for doc in collection.find({}, {&quot;ItemNumber&quot; : &quot;true&quot;}).limit(2):</p><p>...             doc</p><p>...</p><p>{u'ItemNumber': u'1234EXD', u'_id': ObjectId('4c57207b4abffe0e0c000000')}</p><p>{u'ItemNumber': u'2345FDX', u'_id': ObjectId('4c57234c4abffe0e0c000001')}</p><p>You can use the skip() function to skip a few items before returning a set of documents, as in the following example:</p><p>&gt;&gt;&gt; for doc in collection.find({}, {&quot;ItemNumber&quot; : &quot;true&quot;}).skip(2):</p><p>...     doc</p><p>...</p><p>{u'ItemNumber': u'3456TFS', u'_id': ObjectId('4c57234c4abffe0e0c000002')}</p><p>You can also combine the three functions to select only a certain number of items found, while simultaneously specifying a specific number of items to skip and sorting them:</p><p>&gt;&gt;&gt; for doc in collection.find( {'Status' : 'In use'},</p><p>...     fields={'ItemNumber' : True, 'Location.Owner' : True}).limit(2).skip(1).sort 'ItemNumber'):</p><p>...             doc</p><p>...</p><p>{</p><p>        u'ItemNumber': u'2345FDX',</p><p>        u'_id': ObjectId('4c57234c4abffe0e0c000001'),</p><p>        u'Location': {</p><p>                u'Owner': u'Smith, Simon'</p><p>        }</p><p>}</p><p>{</p><p>        u'ItemNumber': u'3456TFS',</p><p>        u'_id': ObjectId('4c57234c4abffe0e0c000002'),</p><p>        u'Location': {</p><p>                u'Owner': u'Walker, Jan'</p><p>        }</p><p>}</p><p>What you just did-limiting the results returned and skipping a certain number of items-is generally known as paging. You can accomplish this in a slightly more simplistic way with the $slice operator, which will be covered later in this chapter.</p><p>Aggregating Queries</p><p>As previously noted, MongoDB comes with a powerful set of aggregation tools (see Chapter 4 for more information on these tools). You can use all these tools with the Python driver. These tools make it possible to using the count() function to perform a count on your data; using the distinct() function to get a list of distinct values with no duplicates; and, last but not least, use the map_reduce() function to group your data and batch-manipulate the results or simply to perform counts.</p><p>This set of commands, used separately or together, enables you to query effectively for the information you need to know-and nothing else.</p><p>Apart from these basic aggregation commands, the PyMongo driver also includes the aggregation framework. This powerful feature will allow you to calculate aggregated values without needing to use the-often overly complex-map/reduce (or MapReduce) framework.</p><p>Counting Items with count()</p><p>You can use the count() function if all you want is to count the total number of items matching your criteria. The function doesnt return all the information the way the find() function does; instead, it returns an integer value with the total of items found.</p><p>Lets look at some simple examples. We can begin by returning the total number of documents in the entire collection, without specifying any criteria:</p><p>&gt;&gt;&gt; collection.count()</p><p>3</p><p>You can also specify these count queries more precisely, as in this example:</p><p>&gt;&gt;&gt; collection.find({&quot;Status&quot; : &quot;In use&quot;, &quot;Location.Owner&quot; : &quot;Walker, Jan&quot;}).count()</p><p>1</p><p>The count() function can be great when all you need is a quick count of the total number of documents that match your criteria.</p><p>Counting Unique Items with distinct()</p><p>The count() function is a great way to get the total number of items returned. However, sometimes you might accidentally add duplicates to your collection because you simply forget to remove or change an old document, and you want to get an accurate count that shows no duplicates. This is where the distinct() function can help you out. This function ensures that only unique items will be returned. Lets set up an example by adding another item to the collection, but with an ItemNumber used previously:</p><p>&gt;&gt;&gt; dup = ( {</p><p>    &quot;ItemNumber&quot; : &quot;2345FDX&quot;,</p><p>    &quot;Status&quot; : &quot;Not used&quot;,</p><p>    &quot;Type&quot; : &quot;Laptop&quot;,</p><p>    &quot;Location&quot; : {</p><p>        &quot;Department&quot; : &quot;Storage&quot;,</p><p>        &quot;Building&quot; : &quot;1A&quot;</p><p>    },</p><p>    &quot;Tags&quot; : [&quot;Not used&quot;,&quot;Laptop&quot;,&quot;Storage&quot;]</p><p>} )</p><p>&gt;&gt;&gt; collection.insert(dup)</p><p>ObjectId('4c592eb84abffe0e0c000004')</p><p>When you use the count() function at this juncture, the number of unique items wont be correct:</p><p>&gt;&gt;&gt; collection.find({}).count()</p><p>4</p><p>Instead, you can use the distinct() function to ensure that any duplicates are ignored:</p><p>&gt;&gt;&gt; collection.distinct(&quot;ItemNumber&quot;)</p><p>[u'1234EXD', u'2345FDX', u'3456TFS']</p><p>Grouping Data with the Aggregation Framework</p><p>The aggregation framework is a great tool for calculating aggregated values without needing to use MapReduce. Although MapReduce is very powerful-and available to the PyMongo driver-the aggregation framework can get most jobs done just as well, with better performance. To demonstrate this, one of the aggregate() functions most powerful pipeline operators, $group, will be used to group the previously added documents by their tags, and perform a count on it using the $sum aggregation expression. Lets look at an example:</p><p>&gt;&gt;&gt; collection.aggregate([</p><p>...     {'$unwind' : '$Tags'},</p><p>...     {'$group' : {'_id' : '$Tags', 'Totals' : {'$sum' : 1}}}</p><p>... ])</p><p>First, the aggregate() function creates a stream of tag documents from the documents'$Tags' array (note the mandatory $ in its name) using the $unwind pipeline operator. Next, the $group pipeline operator is called, creating a separate row for every unique tag using its value as its '_id' and the total count-using the $groups $sum expression to calculate the 'Totals' value. The resulting output looks like this:</p><p>{</p><p>  u'ok': 1.0,</p><p>  u'result': [</p><p>    {u'_id': u'Laptop', u'Totals': 4},</p><p>    {u'_id': u'In Use', u'Totals': 3},</p><p>    {u'_id': u'Development', u'Totals': 3},</p><p>    {u'_id': u'Storage', u'Totals': 1},</p><p>    {u'_id': u'Not used', u'Totals': 1}</p><p>  ]</p><p>}</p><p>The output returns exactly the information that was requested. However, what if we wish to sort the output by its 'Totals'? This can be achieved by simply adding another pipeline operator, $sort. Before doing so, however, we need to import the SON module:</p><p>&gt;&gt;&gt; from bson.son import SON</p><p>Now we can sort the results in descending order (-1) based on the 'Totals' value as shown here:</p><p>&gt;&gt;&gt; collection.aggregate([</p><p>...     {'$unwind' : '$Tags'},</p><p>...     {'$group' : {'_id' : '$Tags', 'Totals' : {'$sum' : 1}}},</p><p>...     {'$sort' : SON([('Totals', -1)])}</p><p>... ])</p><p>This returns the following results, neatly presented in descending order:</p><p>{</p><p>  u'ok': 1.0,</p><p>  u'result': [</p><p>    {u'_id': u'Laptop', u'Totals': 4},</p><p>    {u'_id': u'In Use', u'Totals': 3},</p><p>    {u'_id': u'Development', u'Totals': 3},</p><p>    {u'_id': u'Storage', u'Totals': 1},</p><p>    {u'_id': u'Not used', u'Totals': 1}</p><p>  ]</p><p>}</p><p>In addition to the $sum pipeline expression, the $group pipeline operator also supports various others, some of which are listed below:</p><p>$push: Creates and returns an array of all the values found in its group.</p><p>$addToSet: Creates and returns an array of all the unique values found in its group.</p><p>$first: Returns only the first value found in its group.</p><p>$last: Returns only the last value found in its group.</p><p>$max: Returns the highest value found in its group.</p><p>$min: Returns the lowest value found in its group.</p><p>$avg: Returns the average value found in its group.</p><p>In this example youve looked at the $group, $unwind, and $sort pipeline operators, but many more powerful pipeline operators exist, such, as the $geoNear operator. The aggregation framework and its operators are discussed in more detail in Chapters 4, 6, and 8.</p><p>Specifying an Index with hint()</p><p>You can use the hint() function to specify which index should be used when querying for data. Using this function can help you improve the querys performance. In Python, the hint() function also executes on the cursor. However, you should keep in mind that the hint name you specify in Python needs to be the same as the one you passed to the create_index() function.</p><p>In the next example, you will create an index first, and then search for the data that specifies the index. Before you can sort in ascending order, however, you will need to use the import() function to import the ASCENDING method. Finally, you need to execute the create_index() function:</p><p>&gt;&gt;&gt; from pymongo import ASCENDING</p><p>&gt;&gt;&gt; collection.create_index([(&quot;ItemNumber&quot;, ASCENDING)])</p><p>u'ItemNumber_1'</p><p> </p><p>&gt;&gt;&gt; for doc in collection.find({&quot;Location.Owner&quot; : &quot;Walker, Jan&quot;}) .hint([(&quot;ItemNumber&quot;, ASCENDING)]):</p><p>...             doc</p><p>...</p><p>{</p><p>    u'Status': u'In use',</p><p>    u'Tags': [u'Laptop', u'Development', u'In Use'],</p><p>    u'ItemNumber': u'3456TFS',</p><p>    u'Location': {</p><p>        u'Department': u'Development',</p><p>        u'Building': u'2B',</p><p>        u'Floor': 12,</p><p>        u'Owner': u'Walker, Jan',</p><p>        u'Desk': 120103</p><p>    },</p><p>    u'_id': ObjectId('4c57234c4abffe0e0c000002'),</p><p>    u'Type': u'Laptop'</p><p>}</p><p>Using indexes can help you significantly increase performance speed when the size of your collections keeps growing (see Chapter 10 for more details on performance tuning).</p><p>Refining Queries with Conditional Operators</p><p>You can use conditional operators to refine your query. MongoDB includes more than half a dozen conditional operators accessible through PyMongo; these are identical to the conditional operators youve seen in the previous chapters. The following sections walk you through the conditional operators available in Python, as well as how you can use them to refine your MongoDB queries in Python.</p><p>Using the $lt, $gt, $lte, and $gte Operators</p><p>Lets begin by looking at the $lt, $gt, $lte, and $gte conditional operators. You can use the $lt operator to search for any numerical information that is less than n. The operator takes only one parameter: the number n, which specifies the limit. The following example finds any entries that have a desk number lower than 120102. Note that the comparison value itself is not included:</p><p>&gt;&gt;&gt; for doc in collection.find({&quot;Location.Desk&quot; : {&quot;$lt&quot; : 120102} }):</p><p>...             doc</p><p>...</p><p>{</p><p>    u'Status': u'In use',</p><p>    u'Tags': [u'Laptop', u'Development', u'In Use'],</p><p>    u'ItemNumber': u'1234EXD',</p><p>    u'Location': {</p><p>        u'Department': u'Development',</p><p>        u'Building': u'2B',</p><p>        u'Floor': 12,</p><p>        u'Owner': u'Anderson, Thomas',</p><p>        u'Desk': 120101</p><p>    },</p><p>    u'_id': ObjectId('4c57207b4abffe0e0c000000'),</p><p>    u'Type': u'Laptop'</p><p>}</p><p>In a similar vein, you can use the $gt operator to find any items with a value higher than a provided comparison value. Again, note that the comparison value itself is not included:</p><p>&gt;&gt;&gt; for doc in collection.find({&quot;Location.Desk&quot; : {&quot;$gt&quot; : 120102} }):</p><p>...             doc</p><p>...</p><p>{</p><p>    u'Status': u'In use',</p><p>    u'Tags': [u'Laptop', u'Development', u'In Use'],</p><p>    u'ItemNumber': u'3456TFS',</p><p>    u'Location': {</p><p>        u'Department': u'Development',</p><p>        u'Building': u'2B',</p><p>        u'Floor': 12,</p><p>        u'Owner': u'Walker, Jan',</p><p>        u'Desk': 120103</p><p>    },</p><p>    u'_id': ObjectId('4c57234c4abffe0e0c000002'),</p><p>    u'Type': u'Laptop'</p><p>}</p><p>If you want to include the comparison value in your results, then you can use either the $lte or $gte operators to find any values less than or equal to n or greater than or equal to n, respectively. The following examples illustrate how to use these operators:</p><p>&gt;&gt;&gt; for doc in collection.find({&quot;Location.Desk&quot; : {&quot;$lte&quot; : 120102} }):</p><p>...             doc</p><p>...</p><p>{</p><p>    u'Status': u'In use',</p><p>    u'Tags': [u'Laptop', u'Development', u'In Use'],</p><p>    u'ItemNumber': u'1234EXD',</p><p>    u'Location': {</p><p>        u'Department': u'Development',</p><p>        u'Building': u'2B',</p><p>        u'Floor': 12,</p><p>        u'Owner': u'Anderson, Thomas',</p><p>        u'Desk': 120101</p><p>    },</p><p>    u'_id': ObjectId('4c57207b4abffe0e0c000000'),</p><p>    u'Type': u'Laptop'</p><p>}</p><p>{</p><p>    u'Status': u'In use',</p><p>    u'Tags': [u'Laptop', u'Development', u'In Use'],</p><p>    u'ItemNumber': u'2345FDX',</p><p>    u'Location': {</p><p>        u'Department': u'Development',</p><p>        u'Building': u'2B',</p><p>        u'Floor': 12,</p><p>        u'Owner': u'Smith, Simon',</p><p>        u'Desk': 120102</p><p>    },</p><p>    u'_id': ObjectId('4c57234c4abffe0e0c000001'),</p><p>    u'Type': u'Laptop'</p><p>}</p><p> </p><p>&gt;&gt;&gt; for doc in collection.find({&quot;Location.Desk&quot; : {&quot;$gte&quot; : 120102} }):</p><p>...             doc</p><p>...</p><p>{</p><p>    u'Status': u'In use',</p><p>    u'Tags': [u'Laptop', u'Development', u'In Use'],</p><p>    u'ItemNumber': u'2345FDX',</p><p>    u'Location': {</p><p>        u'Department': u'Development',</p><p>        u'Building': u'2B',</p><p>        u'Floor': 12,</p><p>        u'Owner': u'Smith, Simon',</p><p>        u'Desk': 120102</p><p>    },</p><p>    u'_id': ObjectId('4c57234c4abffe0e0c000001'),</p><p>    u'Type': u'Laptop'</p><p>}</p><p>{</p><p>    u'Status': u'In use',</p><p>    u'Tags': [u'Laptop', u'Development', u'In Use'],</p><p>    u'ItemNumber': u'3456TFS',</p><p>    u'Location': {</p><p>        u'Department': u'Development',</p><p>        u'Building': u'2B',</p><p>        u'Floor': 12,</p><p>        u'Owner': u'Walker, Jan',</p><p>        u'Desk': 120103</p><p>    },</p><p>    u'_id': ObjectId('4c57234c4abffe0e0c000002'),</p><p>    u'Type': u'Laptop'</p><p>}</p><p>Searching for Non-Matching Values with $ne</p><p>You can use the $ne (not equals) operator to search for any documents in a collection that do not match specified criteria. This operator requires one parameter, the key and value information that a document should not have for the result to return a match:</p><p>&gt;&gt;&gt; collection.find({&quot;Status&quot; : {&quot;$ne&quot; : &quot;In use&quot;}}).count()</p><p>1</p><p>Specifying an Array of Matches with $in</p><p>The $in operator lets you specify an array of possible matches.</p><p>For instance, assume youre looking for only two kinds of development computers: not used or with Development. Also assume that you want to limit the results to two items, returning only the ItemNumber:</p><p>&gt;&gt;&gt; for doc in collection.find({&quot;Tags&quot; : {&quot;$in&quot; : [&quot;Not used&quot;,&quot;Development&quot;]}} , fields={&quot;ItemNumber&quot;:&quot;true&quot;}).limit(2):</p><p>...             doc</p><p>...</p><p>{u'ItemNumber': u'1234EXD', u'_id': ObjectId('4c57207b4abffe0e0c000000')}</p><p>{u'ItemNumber': u'2345FDX', u'_id': ObjectId('4c57234c4abffe0e0c000001')}</p><p>Specifying Against an Array of Matches with $nin</p><p>You use the $nin operator exactly as you use the $in operator; the difference is that this operator excludes any documents that match any of the values specified in the given array. For example, the following query finds any items that are currently not used in the Development department:</p><p>&gt;&gt;&gt; for doc in collection.find({&quot;Tags&quot; : {&quot;$nin&quot; : [&quot;Development&quot;]}}, fields={&quot;ItemNumber&quot;: True}):</p><p>...             doc</p><p>...</p><p>{u'ItemNumber': u'2345FDX', u'_id': ObjectId('4c592eb84abffe0e0c000004')}</p><p>Finding Documents that Match an Arrays Values</p><p>Whereas the $in operator can be used to find any document that matches any of the values specified in an array, the $all operator lets you find any document that matches all of the values specified in an array. The syntax to accomplish this looks exactly the same:</p><p>&gt;&gt;&gt; for doc in collection.find({&quot;Tags&quot; : {&quot;$all&quot; : [&quot;Storage&quot;,&quot;Not used&quot;]}}, fields={&quot;ItemNumber&quot;:&quot;true&quot;}):</p><p>...             doc</p><p>...</p><p>{u'ItemNumber': u'2345FDX', u'_id': ObjectId('4c592eb84abffe0e0c000004')}</p><p>Specifying Multiple Expressions to Match with $or</p><p>You can use the $or operator to specify multiple values that a document can have, of which at least one must be true, to qualify as a match. This is roughly similar to the $in operator; the difference is that the $or operator lets you specify the key as well as the value. You can also combine the $or operator with another key/value pair. Lets look at a few examples.</p><p>This example returns all documents that have either the location set to Storage or the owner set, to Anderson, Thomas:</p><p>&gt;&gt;&gt; for doc in collection.find({&quot;$or&quot; : [ { &quot;Location.Department&quot; : &quot;Storage&quot; },</p><p>...     { &quot;Location.Owner&quot; : &quot;Anderson, Thomas&quot;} ] } ):</p><p>...             doc</p><p>...</p><p>You can also combine the preceding code with another key/value pair, as in this example:</p><p>&gt;&gt;&gt; for doc in collection.find({ &quot;Location.Building&quot; : &quot;2B&quot;, &quot;$or&quot; : [ { &quot;Location.Department&quot; : &quot;Storage&quot; },</p><p>...    { &quot;Location.Owner&quot; : &quot;Anderson, Thomas&quot;} ] } ):</p><p>...             doc</p><p>...</p><p>The $or operator basically allows you to conduct two searches simultaneously and combine the resulting output, even if the individual searches have nothing in common with each other. Also, the $or clauses are executed in parallel, and each clause may use a different index.</p><p>Retrieving Items from an Array with $slice</p><p>You can use the $slice operator to retrieve a certain number of items from a given array in your document. This operator provides functionality similar to the skip() and limit() functions; the difference is that those two functions work on full documents, whereas the $slice operator works on an array in a single document.</p><p>Before looking at an example, lets add a new document that will enable us to take a better look at this operator. Assume that your company is maniacally obsessed with tracking its chair inventory, tracking chairs wherever they might go. Naturally, every chair has its own history of desks to which it once belonged. The $slice example operator is great for tracking that kind of inventory.</p><p>Begin by adding the following document:</p><p>&gt;&gt;&gt; chair =  ({</p><p>...     &quot;Status&quot; : &quot;Not used&quot;,</p><p>...     &quot;Tags&quot; : [&quot;Chair&quot;,&quot;Not used&quot;,&quot;Storage&quot;],</p><p>...     &quot;ItemNumber&quot; : &quot;6789SID&quot;,</p><p>...     &quot;Location&quot; : {</p><p>...     &quot;Department&quot; : &quot;Storage&quot;,</p><p>...     &quot;Building&quot; : &quot;2B&quot;</p><p>...     },</p><p>...     &quot;PreviousLocation&quot; :</p><p>...     [ &quot;120100&quot;,&quot;120101&quot;,&quot;120102&quot;,&quot;120103&quot;,&quot;120104&quot;,&quot;120105&quot;,</p><p>...     &quot;120106&quot;,&quot;120107&quot;,&quot;120108&quot;,&quot;120109&quot;,&quot;120110&quot; ]</p><p>...     })</p><p> </p><p>&gt;&gt;&gt; collection.insert(chair)</p><p>ObjectId('4c5973554abffe0e0c000005')</p><p>Now assume you want to see all the information available for the chair returned in the preceding example, with one caveat: you dont want to see all the previous location information, but only the first three desks it belonged to:</p><p>&gt;&gt;&gt; collection.find_one({'ItemNumber' : '6789SID'}, {'PreviousLocation' : {'$slice' : 3} })</p><p>{</p><p>    u'Status': u'Not used',</p><p>    u'PreviousLocation':[u'120100', u'120101', u'120102'],</p><p>    u'Tags': [u'Chair', u'Not used', u'Storage'],</p><p>    u'ItemNumber': u'6789SID',</p><p>    u'Location': {</p><p>        u'Department': u'Storage',</p><p>        u'Building': u'2B'</p><p>    },</p><p>    u'_id': ObjectId('4c5973554abffe0e0c000005')</p><p>}</p><p>Similarly, you can see its three most recent locations by making the integer value negative:</p><p>&gt;&gt;&gt; collection.find_one({'ItemNumber' : '6789SID'}, {'PreviousLocation' : {'$slice' : -3} })</p><p>{</p><p>    u'Status': u'Not used',</p><p>    u'PreviousLocation':[u'120108', u'120109', u'120110'],</p><p>    u'Tags': [u'Chair', u'Not used', u'Storage'],</p><p>    u'ItemNumber': u'6789SID',</p><p>    u'Location': {</p><p>        u'Department': u'Storage',</p><p>        u'Building': u'2B'</p><p>    },</p><p>    u'_id': ObjectId('4c5973554abffe0e0c000005')</p><p>}</p><p>Or, you could skip the first five locations for the chair and limit the number of results returned to three (pay special attention to the brackets here):</p><p>&gt;&gt;&gt; collection.find_one({'ItemNumber' : '6789SID'}, {'PreviousLocation' : {'$slice' : [5, 3] } })</p><p>{</p><p>    u'Status': u'Not used',</p><p>    u'PreviousLocation':[u'120105', u'120106', u'120107'],</p><p>    u'Tags': [u'Chair', u'Not used', u'Storage'],</p><p>    u'ItemNumber': u'6789SID',</p><p>    u'Location': {</p><p>        u'Department': u'Storage',</p><p>        u'Building': u'2B'</p><p>    },</p><p>    u'_id': ObjectId('4c5973554abffe0e0c000005')</p><p>}</p><p>You probably get the idea. This example might seem a tad unusual, but inventory control systems often veer into the unorthodox; and the $slice operator is intrinsically good at helping you account for unusual or complex circumstances. For example, the $slice operator might prove an especially effective tool for implementing the paging system for a websites Comments section.</p><p>Conducting Searches with Regular Expressions</p><p>One useful tool for conducting searches is the regular expression. The default regular expression module for Python is called re. Performing a search with the re module requires that you first load the module, as in this example:</p><p>&gt;&gt;&gt; import re</p><p>After you load the module, you can specify the regular expression query in the value field of your search criteria. The following example shows how to search for any document where ItemNumber has a value that contains a 4 (for the sake of keeping things simple, this example returns only the values in ItemNumber):</p><p>&gt;&gt;&gt; for doc in collection.find({'ItemNumber' : re.compile('4')}, {'ItemNumber' : True}):</p><p>...             doc</p><p>...</p><p>{u'ItemNumber': u'1234EXD', u'_id': ObjectId('4c57207b4abffe0e0c000000')}</p><p>{u'ItemNumber': u'2345FDX', u'_id': ObjectId('4c57234c4abffe0e0c000001')}</p><p>{u'ItemNumber': u'2345FDX', u'_id': ObjectId('4c592eb84abffe0e0c000004')}</p><p>{u'ItemNumber': u'3456TFS', u'_id': ObjectId('4c57234c4abffe0e0c000002')}</p><p>You can further define a regular expression. At this stage, your query is case-sensitive, and it will match any document that has a 4 in the value of ItemNumber, regardless of its position. However, assume you want to find a document where the value of ItemNumber ends with FS, is preceded by an unknown value, and can contain no additional data after the FS:</p><p>&gt;&gt;&gt; for doc in collection.find({'ItemNumber' : re.compile('.FS$')},fields={'ItemNumber' : True}):</p><p>...             doc</p><p>...</p><p>{u'ItemNumber': u'3456TFS', u'_id': ObjectId('4c57234c4abffe0e0c000002')}</p><p>You can also use find() to search for information in a case-insensitive way, but first you must add another function, as in this example:</p><p>&gt;&gt;&gt; for doc in collection.find({'Location.Owner' : re.compile('^anderson. ', re.IGNORECASE)},</p><p>...     fields={'ItemNumber' : True, 'Location.Owner' : True}):</p><p>...             doc</p><p>...</p><p>{</p><p>     u'ItemNumber': u'1234EXD',</p><p>     u'_id': ObjectId('4c57207b4abffe0e0c000000'),</p><p>     u'Location': {</p><p>          u'Owner': u'Anderson, Thomas'</p><p>     }</p><p>}</p><p>Regular expressions can be an extremely powerful tool, as long as you utilize them properly. For more details on how the re module works and the functions it includes, please refer to the modules official documentation at <A HREF="http://docs.python.org/library/re.html.">http://docs.python.org/library/re.html.</A></p></font><dt><br><dt style="margin-left:108;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Select Fields<dt><br><dt style="margin-left:140;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"></p><p>db.proddb.find({}, {&quot;_id&quot;: 0, &quot;Database Size&quot;: 1})</p><p></p><p>In MongoDB Shell you may not need quotes</p><p></p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Update<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Modifying the Data</p><p>So far youve learned how to use conditional operators and regular expressions in Python to query for information in your database. In the next section, well examine how to use Python to modify the existing data in your collections. We can use Python to accomplish this task in several different ways. The upcoming sections will build on the previously used query operators to find the documents that should match your modifications. In a couple of cases, you may need to skip back to earlier parts of this chapter to brush up on particular aspects of using query operators-but thats a normal part of the learning process, and it will reinforce the lessons taught so far.</p><p>Updating Your Data</p><p>The way you use Pythons update() function doesnt vary much from how you use the identically named function in the MongoDB shell or the PHP driver. In this case, you provide two mandatory parameters to update your data: arg and doc. The arg parameter specifies the key/value information used to match a document, and the doc parameter contains the updated information. You can also provide several optional parameter to specify your options. The following list covers Pythons list of options to update information, including what they do:</p><p>upsert(optional): If set to True, performs an upsert.</p><p>manipulate(optional): If set to True, indicates the document will be manipulated before performing the update using all instances of the SONManipulator. For more information, refer to the son_manipulator documentation (http://api.mongodb.org/python/current/api/pymongo/son_manipulator.html).</p><p>check_keys(optional): If set to True, update() will check whether any of the keys in the document start with the restricted characters $ or . when replacing arg.</p><p>multi(optional): If set to True, updates any matching document, rather than just the first document it finds (the default action). It is recommended that you always set this to True or False, rather than relying on the default behavior (which could always change in the future).</p><p>w (optional): If set to 0, the update operation will not be acknowledged. When working with replica sets, w can also be set to n, ensuring that the primary server acknowledges the update operation when successfully replicated to n nodes. Can also be set to majority-a reserved string-to ensure that the majority of replica nodes will acknowledge the update, or to a specific tag, ensuring that the nodes tagged will acknowledge the update. This option defaults to 1, acknowledging the update operation.</p><p>wtimeout (optional): Used to specify how long the server is to wait for receiving acknowledgement (in milliseconds). Defaults to 10000.</p><p>j (optional): If set to True, this Boolean option will force the data to be written to the journal before indicating that the update was a success. Defaults to False.</p><p>fsync (optional): If set to True, this Boolean option causes the data to be synced to disk before returning a success. If this option is set to True, then its implied that w is set to 0, even if its set otherwise.</p><p>If you do not specify any of the modifier operators when updating a document, then by default all information in the document will be replaced with whatever data you inserted in the doc parameter. It is best to avoid relying on the default behavior; instead, you should use the aforementioned operators to specify your desired updates explicitly (youll learn how to do this momentarily).</p><p>You can see why its best to use conditional operators with the update() command by looking at a case that doesn't use any conditional operators:</p><p>// Define the updated data</p><p>&gt;&gt;&gt; update = ( {</p><p>    &quot;Type&quot; : &quot;Chair&quot;,</p><p>    &quot;Status&quot; : &quot;In use&quot;,</p><p>    &quot;Tags&quot; : [&quot;Chair&quot;,&quot;In use&quot;,&quot;Marketing&quot;],</p><p>    &quot;ItemNumber&quot; : &quot;6789SID&quot;,</p><p>    &quot;Location&quot; : {</p><p>        &quot;Department&quot; : &quot;Marketing&quot;,</p><p>        &quot;Building&quot; : &quot;2B&quot;,</p><p>        &quot;DeskNumber&quot; : 131131,</p><p>        &quot;Owner&quot; : &quot;Martin, Lisa&quot;</p><p>    }</p><p>} )</p><p> </p><p>// Now, perform the update</p><p>&gt;&gt;&gt; collection.update({&quot;ItemNumber&quot; : &quot;6789SID&quot;}, update)</p><p> </p><p>// Inspect the result of the update</p><p>&gt;&gt;&gt; collection.find_one({&quot;Type&quot; : &quot;Chair&quot;})</p><p>{</p><p>    u'Status': u'In use',</p><p>    u'Tags': [u'Chair', u'In use', u'Marketing'],</p><p>    u'ItemNumber': u'6789SID',</p><p>    u'Location': {</p><p>        u'Department': u'Marketing',</p><p>        u'Building': u'2B',</p><p>        u'DeskNumber': 131131,</p><p>        u'Owner': u'Martin, Lisa'</p><p>    },</p><p>    u'_id': ObjectId('4c5973554abffe0e0c000005'),</p><p>    u'Type': u'Chair'</p><p>}</p><p>One big minus about this example is that its somewhat lengthy, and it updates only a few fields. Next, well look at what the modifier operators can be used to accomplish.</p><p>Modifier Operators</p><p>Chapter 4 detailed how the MongoDB shell includes a large set of modifier operators that you can use to manipulate your data more easily, but without needing to rewrite an entire document to change a single fields value (as you had to do in the preceding example).</p><p>The modifier operators let you do everything from changing one existing value in a document, to inserting an entire array, to removing all entries from multiple items specified in an array. As a group, these operators make it easy to modify data. Now lets take a look at what the operators do and how you use them.</p><p>Increasing an Integer Value with $inc</p><p>You use the $inc operator to increase an integer value in a document by the given number, n. The following example shows how to increase the integer value of Location.Desknumber by 20:</p><p>&gt;&gt;&gt; collection.update({&quot;ItemNumber&quot; : &quot;6789SID&quot;}, {&quot;$inc&quot; : {&quot;Location.DeskNumber&quot; : 20}})</p><p>Next, check to see whether the update worked as expected:</p><p>&gt;&gt;&gt; collection.find_one({&quot;Type&quot; : &quot;Chair&quot;}, fields={&quot;Location&quot; : &quot;True&quot;})</p><p>{</p><p>     u'_id': ObjectId('4c5973554abffe0e0c000005'),</p><p>     u'Location': {</p><p>          u'Department': u'Marketing',</p><p>          u'Building': u'2B',</p><p>          u'Owner': u'Martin, Lisa',</p><p>          u'DeskNumber': 131151</p><p>     }</p><p>}</p><p>Note that the $inc operator works only on integer values (that is, numeric values), but not on any string values or even numeric values added as a string (for example, &quot;123&quot; vs. 123).</p><p>Changing an Existing Value with $set</p><p>You use the $set operator to change an existing value in any matching document. This is an operator youll use frequently. The next example changes the value from &quot;Building&quot; in any item currently matching the key/value &quot;Location.Department / Development&quot;.</p><p>First use $set to perform the update, ensuring that all documents are updated:</p><p>&gt;&gt;&gt; collection.update({&quot;Location.Department&quot; : &quot;Development&quot;},</p><p>...    {&quot;$set&quot; : {&quot;Location.Building&quot; : &quot;3B&quot;} },</p><p>...    multi = True )</p><p>Next, use the find_one() command to confirm that all went well:</p><p>&gt;&gt;&gt; collection.find_one({&quot;Location.Department&quot; : &quot;Development&quot;}, fields={&quot;Location.Building&quot; : True})</p><p>{</p><p>     u'_id': ObjectId('4c57207b4abffe0e0c000000'),</p><p>     u'Location': {u'Building': u'3B'}</p><p>}</p><p>Removing a Key/Value Field with $unset</p><p>Likewise, you use the $unset operator to remove a key/value field from a document, as shown in the following example:</p><p>&gt;&gt;&gt; collection.update({&quot;Status&quot; : &quot;Not used&quot;, &quot;ItemNumber&quot; : &quot;2345FDX&quot;},</p><p>...     {&quot;$unset&quot; : {&quot;Location.Building&quot; : 1 } } )</p><p>Next, use the find_one() command to confirm all went well:</p><p>&gt;&gt;&gt; collection.find_one({&quot;Status&quot; : &quot;Not used&quot;, &quot;ItemNumber&quot; : &quot;2345FDX&quot;}, fields={&quot;Location&quot; : True})</p><p>{</p><p>     u'_id': ObjectId('4c592eb84abffe0e0c000004'),</p><p>     u'Location': {u'Department': u'Storage'}</p><p>}</p><p>Adding a Value to an Array with $push</p><p>The $push operator lets you add a value to an array, assuming the array exists. If the array does not exist, then it will be created with the value specified.</p><p>image Warning  If you use $push to update an existing field that isnt an array, an error message will appear.</p><p></p><p>Now youre ready to add a value to an already existing array and confirm whether all went well. First, perform the update:</p><p>&gt;&gt;&gt; collection.update({&quot;Location.Owner&quot; : &quot;Anderson, Thomas&quot;},</p><p>...    {&quot;$push&quot; : {&quot;Tags&quot; : &quot;Anderson&quot;} }, multi = True )</p><p>Now, execute find_one() to confirm whether the update(s) went well:</p><p>&gt;&gt;&gt; collection.find_one({&quot;Location.Owner&quot; : &quot;Anderson, Thomas&quot;}, fields={&quot;Tags&quot; : &quot;True&quot;})</p><p>{</p><p>     u'_id': ObjectId('4c57207b4abffe0e0c000000'),</p><p>     u'Tags': [u'Laptop', u'Development', u'In Use', u'Anderson']</p><p>}</p><p>Adding Multiple Values to an Array with $push and $each</p><p>The $push operator can also be used to add multiple values at once to an existing array. This can be achieved by adding the $each modifier. Here, the same rule applies: the array must already exist, or you will receive an error. The following example uses the $each modifier in conjunction with the $ regular expression to perform a search; this enables you to apply a change to all matching queries:</p><p>&gt;&gt;&gt; collection.update({ &quot;Location.Owner&quot; : re.compile(&quot;^Walker,&quot;) },</p><p>...   {  '$push' : { 'Tags' : { '$each' : ['Walker','Warranty'] } } } )</p><p>Next, execute find_one() to see whether all went well:</p><p>&gt;&gt;&gt; collection.find_one({&quot;Location.Owner&quot; : re.compile(&quot;^Walker,&quot;)}, fields={&quot;Tags&quot; : True})</p><p>{</p><p>     u'_id': ObjectId('4c57234c4abffe0e0c000002'),</p><p>     u'Tags': [u'Laptop', u'Development', u'In Use', u'Walker', u'Warranty']</p><p>}</p><p>Adding a Value to an Existing Array with $addToSet</p><p>The $addToSet operator also lets you add a value to an existing array. The difference is that this method checks whether the array already exists before attempting the update (the $push operator does not check for this condition).</p><p>This operator takes only one additional value; however, its also good to know that you can combine $addToSet with the $each operator. Lets look at two examples. First, lets perform the update using the $addToSet operator on any object matching &quot;Type : Chair&quot; and then check whether all went well using the find_one() function:</p><p>&gt;&gt;&gt; collection.update({&quot;Type&quot; : &quot;Chair&quot;}, {&quot;$addToSet&quot; : {&quot;Tags&quot; : &quot;Warranty&quot;} }, multi = True)</p><p> </p><p>&gt;&gt;&gt; collection.find_one({&quot;Type&quot; : &quot;Chair&quot;}, {&quot;Tags&quot; : &quot;True&quot;})</p><p>{</p><p>     u'_id': ObjectId('4c5973554abffe0e0c000005'),</p><p>     u'Tags': [u'Chair', u'In use', u'Marketing', u'Warranty']</p><p>}</p><p>You can also use the $each statement to add multiple tags. Note that you perform this search using a regular expression. Also, one of the tags in the list has been previously added; fortunately, it wont be added again, because this is what $addToSet specifically prevents:</p><p>// Use the $each operator to add multiple tags, including one that was already added</p><p>&gt;&gt;&gt; collection.update({&quot;Type&quot; : &quot;Chair&quot;, &quot;Location.Owner&quot; : re.compile(&quot;^Martin,&quot;)},</p><p>...    {&quot;$addToSet&quot; : { &quot;Tags&quot; : {&quot;$each&quot; : [&quot;Martin&quot;,&quot;Warranty&quot;,&quot;Chair&quot;,&quot;In use&quot;] } } } )</p><p>Now its time to check whether all went well; specifically, you want to verify that the duplicate Warranty tag has not been added again:</p><p>&gt;&gt;&gt; collection.find_one({&quot;Type&quot; : &quot;Chair&quot;, &quot;Location.Owner&quot; : re.compile(&quot;^Martin,&quot;)}, fields={&quot;Tags&quot; : True})</p><p>{</p><p>     u'_id': ObjectId('4c5973554abffe0e0c000005'),</p><p>     u'Tags': [u'Chair', u'In use', u'Marketing', u'Warranty', u'Martin']</p><p>}</p><p>Removing an Element from an Array with $pop</p><p>So far, youve seen how to use the update() function to add values to an existing document. Now lets turn this around and look at how to remove data instead. Well begin with the $pop operator.</p><p>This operator allows you to delete either the first or the last value from an array, but nothing in between. The following example removes the first value in the Tags array from the first document it finds that matches the &quot;Type&quot; : &quot;Chair&quot; criterion; the example then uses the find_one() command to confirm that all went well with the update:</p><p>&gt;&gt;&gt; collection.update({&quot;Type&quot; : &quot;Chair&quot;}, {&quot;$pop&quot; : {&quot;Tags&quot; : -1}})</p><p> </p><p>&gt;&gt;&gt; collection.find_one({&quot;Type&quot; : &quot;Chair&quot;}, fields={&quot;Tags&quot; : True})</p><p>{</p><p>     u'_id': ObjectId('4c5973554abffe0e0c000005'),</p><p>     u'Tags': [u'In use', u'Marketing', u'Warranty', u'Martin']</p><p>}</p><p>Giving the Tags array a positive value instead removes the last occurrence in an array, as in the following example:</p><p><b>&gt;&gt;&gt; collection.update({&quot;Type&quot; : &quot;Chair&quot;}, {&quot;$pop&quot; : {&quot;Tags&quot; :  1}})</p><p></b>Next, execute the find_one() function again to confirm that all went well:</p><p>&gt;&gt;&gt; collection.find_one({&quot;Type&quot; : &quot;Chair&quot;}, fields={&quot;Tags&quot; : True})</p><p>{</p><p>     u'_id': ObjectId('4c5973554abffe0e0c000005'),</p><p>     u'Tags': [u'In use', u'Marketing', u'Warranty']</p><p>}</p><p>Removing a Specific Value with $pull</p><p>The $pull operator lets you remove each occurrence of a specific value from an array, regardless of how many times the value occurs; as long as the value is the same, it will be removed.</p><p>Lets look at an example. Begin by using the $push operator to add identical tags with the value Double to the Tags array:</p><p>&gt;&gt;&gt; collection.update({&quot;Type&quot; : &quot;Chair&quot;}, {&quot;$push&quot; : {&quot;Tags&quot; : &quot;Double&quot;} }, multi = False )</p><p>&gt;&gt;&gt; collection.update({&quot;Type&quot; : &quot;Chair&quot;}, {&quot;$push&quot; : {&quot;Tags&quot; : &quot;Double&quot;} }, multi = False )</p><p>Next, ensure that the tag was added twice, by executing the find_one() command. Once you confirm that the tag exists twice, use the $pull operator to remove both instances of the tag:</p><p><b>&gt;&gt;&gt; collection.find_one({&quot;Type&quot; : &quot;Chair&quot;}, fields={&quot;Tags&quot; : True})</p><p></b>{</p><p>     u'_id': ObjectId('4c5973554abffe0e0c000005'),</p><p>     u'Tags': [u'In use', u'Marketing', u'Warranty', u'Double', u'Double']</p><p>}</p><p> </p><p>&gt;&gt;&gt; collection.update({&quot;Type&quot; : &quot;Chair&quot;}, {&quot;$pull&quot; : {&quot;Tags&quot; : &quot;Double&quot;} }, multi = False)</p><p>To confirm that all went well, execute the find_one() command again, this time making sure that the result no longer lists the Double tag:</p><p>&gt;&gt;&gt; collection.find_one({&quot;Type&quot; : &quot;Chair&quot;}, fields={&quot;Tags&quot; : True})</p><p>{</p><p>     u'_id': ObjectId('4c5973554abffe0e0c000005'),</p><p>     u'Tags': [u'In use', u'Marketing', u'Warranty']</p><p>}</p><p>You can use the $pullAll operator to perform the same action; the difference from $pull is that $pullAll lets you remove multiple tags. Again, lets look at an example. First, you need to add multiple items into the Tags array again and confirm that they have been added:</p><p>&gt;&gt;&gt; collection.update({&quot;Type&quot; : &quot;Chair&quot;}, {&quot;$addToSet&quot; : { &quot;Tags&quot; : {&quot;$each&quot; : [&quot;Bacon&quot;,&quot;Spam&quot;] } } } )</p><p>&gt;&gt;&gt; collection.find_one({&quot;Type&quot; : &quot;Chair&quot;}, fields={&quot;Tags&quot; : True})</p><p>{</p><p>     u'_id': ObjectId('4c5973554abffe0e0c000005'),</p><p>     u'Tags': [u'In use', u'Marketing', u'Warranty', u'Bacon', u'Spam']</p><p>}</p><p>Now you can use the $pullAll operator to remove the multiple tags. The following example shows how to use this operator; the example also executes a find_one() command immediately afterward to confirm that the Bacon and Spam tags have been removed:</p><p>&gt;&gt;&gt; collection.update({&quot;Type&quot; : &quot;Chair&quot;}, {&quot;$pullAll&quot; : {&quot;Tags&quot; : [&quot;Bacon&quot;,&quot;Spam&quot;] } }, multi = False)</p><p>&gt;&gt;&gt; collection.find_one({&quot;Type&quot; : &quot;Chair&quot;}, fields={&quot;Tags&quot; : &quot;True&quot;})</p><p>{</p><p>     u'_id': ObjectId('4c5973554abffe0e0c000005'),</p><p>     u'Tags': [u'In use', u'Marketing', u'Warranty']</p><p>}</p><p>Saving Documents Quickly with save()</p><p>You can use the save() function to quickly add a document through the upsert method. For this to work, you must also define the value of the _id field. If the document you want to save already exists, it will be updated; if it does not exist already, it will be created.</p><p>Lets look at an example that saves a document called Desktop. Begin by specifying the document by typing it into the shell with an identifier, after which you can save it with the save() function. Executing the save() function returns the ObjectId from the document once the save is successful:</p><p>&gt;&gt;&gt; Desktop = ( {</p><p>    &quot;Status&quot; : &quot;In use&quot;,</p><p>    &quot;Tags&quot; : [&quot;Desktop&quot;,&quot;In use&quot;,&quot;Marketing&quot;,&quot;Warranty&quot;],</p><p>    &quot;ItemNumber&quot; : &quot;4532FOO&quot;,</p><p>    &quot;Location&quot; : {</p><p>        &quot;Department&quot; : &quot;Marketing&quot;,</p><p>        &quot;Building&quot; : &quot;2B&quot;,</p><p>        &quot;Desknumber&quot; : 131131,</p><p>        &quot;Owner&quot; : &quot;Martin, Lisa&quot;,</p><p>    }</p><p>} )</p><p>&gt;&gt;&gt; collection.save(Desktop)</p><p>ObjectId('4c5ddbe24abffe0f34000001')</p><p>Now assume you realize that you forgot to specify a key/value pair in the document. You can easily add this information to the document by defining the documents name, followed by its key between brackets, and then including the desired contents. Once you do this, you can perform the upsert by simply saving the entire document again; doing so returns the ObjectId again from the document:</p><p>&gt;&gt;&gt; Desktop[ &quot;Type&quot; ] = &quot;Desktop&quot;</p><p>&gt;&gt;&gt; collection.save(Desktop)</p><p>ObjectId('4c5ddbe24abffe0f34000001')</p><p>As you can see, the value of the ObjectId returned is unchanged.</p><p>Modifying a Document Atomically</p><p>You can use the find_and_modify() function to modify a document atomically and return the results. The find_and_modify() function can be used to update only a single document-and nothing more. You should also keep in mind that the document returned will not by default include the modifications made; getting this information requires that you specify an additional argument, new: True.</p><p>The find_and_modify() function can be used with multiple parameters, and you must include either the update parameter or the remove parameter. The following list covers all the available parameters, explaining what they are and what they do:</p><p>query: Specifies a filter for the query. If this isnt specified, then all documents in the collection will be seen as possible candidates, after which the first document it encounters will be updated or removed.</p><p>update: Specifies the information to update the document with. Note that any of the modifying operators specified previously can be used for this.</p><p>upsert: If set to True, performs an upsert.</p><p>sort: Sorts the matching documents in a specified order.</p><p>full_response: If set to True, returns the entire response object.</p><p>remove: If set to True, removes the first matching document.</p><p>new: If set to True, returns the updated document rather than the selected document. This is not set by default, however, which might be a bit confusing sometimes.</p><p>fields: Specifies the fields you would like to see returned, rather than the entire document. This works identically to the find() function. Note that the _id field will always be returned unless explicitly disabled.</p><p>Putting the Parameters to Work</p><p>You know what the parameters do; now its time to use them in a real-world example in conjunction with the find_and_modify() function. Begin by using find_and_modify()to search for any document that has a key/value pair of &quot;Type&quot; : &quot;Desktop&quot;-and then update each document that matches the query by setting an additional key/value pair of &quot;Status&quot; : &quot;In repair&quot;. Finally, you want to ensure that MongoDB returns the updated document(s), rather than the old document(s) matching the query:</p><p>&gt;&gt;&gt; collection.find_and_modify(query={&quot;Type&quot; : &quot;Desktop&quot;},</p><p>...     update={'$set' : {'Status' : 'In repair'} }, new=True )</p><p>{</p><p>    u'ok': 1.0,</p><p>    u'value': {</p><p>        u'Status': u'In repair',</p><p>        u'Tags': [u'Desktop', u'In use', u'Marketing', u'Warranty'],</p><p>        u'ItemNumber': u'4532FOO',</p><p>        u'Location': {</p><p>            u'Department': u'Marketing',</p><p>            u'Building': u'2B',</p><p>            u'Owner': u'Martin, Lisa',</p><p>            u'Desknumber': 131131</p><p>        },</p><p>        u'_id': ObjectId('4c5dda114abffe0f34000000'),</p><p>        u'Type': u'Desktop'</p><p>    }</p><p>}</p><p>Lets look at another example. This time, you will use find_and_modify() to remove a document; in this case, the output will show which document was removed:</p><p>&gt;&gt;&gt; collection.find_and_modify(query={'Type' : 'Desktop'},</p><p>...     sort={'ItemNumber' : -1}, remove=True){</p><p>    u'ok': 1.0,</p><p>    u'value': {</p><p>        u'Status': u'In use',</p><p>        u'Tags': [u'Desktop', u'In use', u'Marketing', u'Warranty'],</p><p>        u'ItemNumber': u'4532FOO',</p><p>        u'Location': {</p><p>            u'Department': u'Marketing',</p><p>            u'Building': u'2B',</p><p>            u'Owner': u'Martin, Lisa',</p><p>            u'Desknumber': 131131</p><p>        },</p><p>        u'_id': ObjectId('4c5ddbe24abffe0f34000001'),</p><p>        u'Type': u'Desktop'</p><p>    }</p><p>}</p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Delete<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Deleting Data</p><p>In most cases, you will use the Python driver to add or modify your data. However, its also important to understand how to delete data. The Python driver provides several methods for deleting data. First, you can use the remove() function to delete a single document from a collection. Second, you can use the drop() or drop_collection() function to delete an entire collection. Finally, you can use the drop_database() function to drop an entire database. (It seems unlikely youll be using this function frequently!)</p><p>Nevertheless, we will take a closer look at each of these functions, looking at examples for all of them.</p><p>Lets begin by looking at the remove() function. This function allows you to specify an argument as a parameter that will be used to find and delete any matching documents in your current collection. In this example, you use the remove() function to remove each document that has a key/value pair of &quot;Status&quot; : &quot;In use&quot;; afterward, you use the find_one() function to confirm the results:</p><p>&gt;&gt;&gt; collection.remove({&quot;Status&quot; : &quot;In use&quot;})</p><p>&gt;&gt;&gt; collection.find_one({&quot;Status&quot; : &quot;In use&quot;})</p><p>&gt;&gt;&gt;</p><p>You need to be careful what kind of criteria you specify with this function. Usually, you should execute a find() first, so you can see exactly which documents will be removed. Alternatively, you can use the ObjectId to remove an item.</p><p>If you get tired of an entire collection, you can use either the drop() or the drop_collection() function to remove it. Both functions work the same way (one is just an alias for the other, really); specifically, both expect only one parameter, the collections name:</p><p>&gt;&gt;&gt; db.items.drop()</p><p>Last (and far from least because of its potential destructiveness), the drop_database() function enables you to delete an entire database. You call this function using the Connection module, as in the following example:</p><p>&gt;&gt;&gt; c.drop_database(&quot;inventory&quot;)</p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Insert<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Inserting Data</p><p>All that remains is to define the document by storing it in a dictionary. Lets take the preceding example and insert that into the shell:</p><p>&gt;&gt;&gt; item = {</p><p>...     &quot;Type&quot; : &quot;Laptop&quot;,</p><p>...     &quot;ItemNumber&quot; : &quot;1234EXD&quot;,</p><p>...     &quot;Status&quot; : &quot;In use&quot;,</p><p>...     &quot;Location&quot; : {</p><p>...             &quot;Department&quot; : &quot;Development&quot;,</p><p>...             &quot;Building&quot; : &quot;2B&quot;,</p><p>...             &quot;Floor&quot; : 12,</p><p>...             &quot;Desk&quot; : 120101,</p><p>...             &quot;Owner&quot; : &quot;Anderson, Thomas&quot;</p><p>...     },</p><p>...     &quot;Tags&quot; : [&quot;Laptop&quot;,&quot;Development&quot;,&quot;In Use&quot;]</p><p>... }</p><p>Once you define the document, you can insert it using the same insert() function that is available in the MongoDB shell:</p><p>&gt;&gt;&gt; collection.insert(item)</p><p>ObjectId('4c57207b4abffe0e0c000000')</p><p>Thats all there is to it: you define the document and insert it using the insert() function.</p><p>Theres one more interesting trick you can take advantage of when inserting documents: inserting multiple documents at the same time. You can do this by specifying both documents in a single dictionary, and then inserting that document. The result will return two ObjectId values; pay careful attention to how the brackets are used in the following example:</p><p>&gt;&gt;&gt; two = [{</p><p>...     &quot;Type&quot; : &quot;Laptop&quot;,</p><p>...     &quot;ItemNumber&quot; : &quot;2345FDX&quot;,</p><p>...     &quot;Status&quot; : &quot;In use&quot;,</p><p>...     &quot;Location&quot; : {</p><p>...             &quot;Department&quot; : &quot;Development&quot;,</p><p>...             &quot;Building&quot; : &quot;2B&quot;,</p><p>...             &quot;Floor&quot; : 12,</p><p>...             &quot;Desk&quot; : 120102,</p><p>...             &quot;Owner&quot; : &quot;Smith, Simon&quot;</p><p>...     },</p><p>...     &quot;Tags&quot; : [&quot;Laptop&quot;,&quot;Development&quot;,&quot;In Use&quot;]</p><p>... },</p><p>... {</p><p>...     &quot;Type&quot; : &quot;Laptop&quot;,</p><p>...     &quot;ItemNumber&quot; : &quot;3456TFS&quot;,</p><p>...     &quot;Status&quot; : &quot;In use&quot;,</p><p>...     &quot;Location&quot; : {</p><p>...             &quot;Department&quot; : &quot;Development&quot;,</p><p>...             &quot;Building&quot; : &quot;2B&quot;,</p><p>...             &quot;Floor&quot; : 12,</p><p>...             &quot;Desk&quot; : 120103,</p><p>...             &quot;Owner&quot; : &quot;Walker, Jan&quot;</p><p>...     },</p><p>...     &quot;Tags&quot; : [&quot;Laptop&quot;,&quot;Development&quot;,&quot;In Use&quot;]</p><p>... }]</p><p>&gt;&gt;&gt; collection.insert(two)</p><p>[ObjectId('4c57234c4abffe0e0c000001'), ObjectId('4c57234c4abffe0e0c000002')]</p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Import<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">OPTION 1</p><p></p><p><A HREF="mailto:@rem">@rem</A> --headerline will read first line of the excel as columns</p><p><A HREF="mailto:@rem">@rem</A> previous uploads bin\mongoimport.exe -stopOnError --db bugzilla --collection tickets --type csv -file &quot;D:\A_Goals\Bugzilla_Reports\BugsJan2013_July2013_All_Status.csv&quot; --headerline</p><p><A HREF="mailto:@rem">@rem</A> upload changes</p><p>bin\mongoimport.exe -stopOnError --db bugzilla --collection tickettomerge --type csv -file &quot;D:\A_Goals\Bugzilla_Reports\Weekly Meeting - Kishlai\Critical Platform Issues.csv&quot; --headerline</p><p></p><p>OPTION 2</p><p></p><p><A HREF="mailto:@rem">@rem</A> --headerline will read first line of the excel as columns</p><p>bin\mongoimport.exe -stopOnError --db tar --collection tickettomerge --type csv -file D:\A_Goals\Work_Pending\Bugzilla_Ticket_Reduction\TAR_ASCII.csv --headerline</p><p></p><p>OPTIONT 3</p><p></p><p><A HREF="mailto:@rem">@rem</A> --headerline will read first line of the excel as columns</p><p>bin\mongoimport.exe -stopOnError --db tar --collection alltickets --type csv -file &quot;D:\A_Goals\Work_Pending\Bugzilla_Ticket_Reduction\DETAILED_TAR_ASCII.csv&quot; --headerline</p><p></p><p>Customers</p><p>bin\mongoimport.exe -stopOnError --db customers --collection proddb --type csv -file &quot;D:\Software\sqllite\proddb.csv&quot; --headerline</p></font><dt><br><dt style="margin-left:72;font: normal normal normal 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Export<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><dt><br><dt style="margin-left:54;font: normal normal normal 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">SQL Concepts<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><dt><br><dt style="margin-left:72;font: normal normal normal 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Oracle Specific<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><dt><br><dt style="margin-left:54;font: normal normal normal 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Sample Data or DB<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Customer<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">-- DROP only if no rows are present</p><p></p><p>declare</p><p>  rowcount int;</p><p>begin</p><p>  select count(1) into rowcount from customer;</p><p>  if (rowcount = 0) then</p><p>    execute immediate 'drop table customer';</p><p>  end if;</p><p>end;</p><p></p><p></p><p>create table customer_module (</p><p>  customer_code char(3),</p><p>  module_code char(3),</p><p>  constraint customer_code_fk foreign key (customer_code) references customer (customer_code),</p><p>  constraint module_code_fk foreign key (module_code) references ms_module (module_code)</p><p>);</p><p></p><p>drop table ms_module;</p><p>create table ms_module (</p><p>  module_code char(3),</p><p>  module_name varchar2(512),</p><p>  module_desc varchar2(4000),</p><p>  constraint ms_module_pk PRIMARY KEY (module_code)</p><p>);</p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Student DB<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">create table student(studentid int, name varchar(255));</p><p>create table course (courseid int, name varchar(255));</p><p>create table studentcourse (studentid int, courseid int);</p><p>insert into student (studentid, name) values (1, 'Suresh');</p><p>insert into student (studentid, name) values (2, 'Ramesh');</p><p>insert into course (courseid, name) values (1, 'CS');</p><p>insert into course (courseid, name) values (2, 'EE');</p><p>insert into studentcourse(studentid, courseid) values (1, 1);</p><p></p><p>select * from student;</p><p>select * from course;</p><p>select * from studentcourse;</p><p></p><p></p><p>select s.name, count(sc.courseid)</p><p>from  studentcourse sc outer join student s </p><p>on s.studentid = sc.studentid</p><p>group by count(sc.courseid);</p><p></p></font><dt><br><dt style="margin-left:72;font: normal normal normal 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">CLOB DB<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Insert Performance<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">create or replace </p><p>procedure insert_test_data (no_of_insert number)</p><p>as</p><p></p><p>V_clob_data clob;</p><p>V_VARCHAR_data varchar2(4000);</p><p>v_number number;</p><p>seq_number number;</p><p>begin</p><p></p><p>v_number:=no_of_insert;</p><p>select survey_template_purpose into V_clob_data  from ms_sur_survey_template where rownum=1;</p><p>select scope_section_desc into V_VARCHAR_data from ms_sur_survey_template_section where rownum=1;</p><p>select monitor_seq.nextval into seq_number  from dual;</p><p>insert into insert_monitor values(seq_number,sysdate,v_number,'');</p><p>while (v_number &gt;0)</p><p>loop</p><p>insert into TEST_INSERT_X values</p><p>(V_clob_data,sysdate,V_clob_data,V_clob_data,11111,V_VARCHAR_data,72,sysdate,V_clob_data,V_clob_data,V_clob_data,sysdate,sysdate,321342,432434,5435,sysdate,sysdate,00212,sysdate,3123213,34);</p><p>v_number := v_number -1;</p><p>end loop;</p><p>update insert_monitor set end_time=sysdate where seq =seq_number;</p><p>commit;</p><p></p><p>end;</p></font><dt><br><dt style="margin-left:36;font: normal normal normal 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon2.gif">NetworkingAndSystems<dt><br><dt style="margin-left:68;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">NTP<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Times New Roman" style="font-size:12pt"></font><font face="Times New Roman" style="font-size:12pt">NTP seems to have issues in an env that uses UDP heavily</p><p></font><font face="Times New Roman" color="#1F497D" style="font-size:12pt"></p><p>Across all clusters lets enable ntpd logging so well have a way to attempt to trace down any time related issues. To enable this well need root or sudo access.</font><font face="Times New Roman" color="#000000" style="font-size:12pt"></p><p></font><font face="Times New Roman" color="#1F497D" style="font-size:12pt"> Edit /etc/ntp.conf</font><font face="Times New Roman" color="#000000" style="font-size:12pt"></p><p></font><font face="Times New Roman" color="#1F497D" style="font-size:12pt"> Add the line below to the bottom of the file and save.</font><font face="Times New Roman" color="#000000" style="font-size:12pt"></p><p></font><font face="Times New Roman" color="#1F497D" style="font-size:12pt"> logfile /var/log/ntp.log</font><font face="Times New Roman" color="#000000" style="font-size:12pt"></p><p></font><font face="Arial" color="#000000" style="font-size:12pt"></font><font face="Arial" color="#000000" style="font-size:10pt"></p></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">UDP/TCP<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">UDP</p><p>You can set TTL which will get decremented everytime it crosses switch or router</p><p>You can set offset, when packet gets sent from one point to another the offset will get removed at the destination</p><p>Loopback, you can set loopback so that the same packet sent to the network doesn't come back</p><p>udp buffer size</p><p></p><p>Switches and routers buffer partial or complete packets on queues before forwarding them</p><p></p><p>The common DS0 communications line operates at 56 Kbps and hence adds 214 ms of serialization latency to a 1500-byte packet. A DS1 line (&quot;T1&quot;) operates at 1.5 Mbps, adding 8 ms of latency. Even a 100 Mbps Ethernet adds 120 Ïs of latency on a 1500-byte packet</p><p></p><p></p><p>Socket Buffer - Worst Case Latency = Socket Buffer Size / Data Rate = 64MB/32MB per second = 0 to 2 second delay</p><p></p><p>TCP</p><p></p><p> </p><p><b></p></b></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">GMP Snooping<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Some switches have bugs in the IGMP snooping implementation. This can cause IP multicast packets to get dropped. Usually an update to the firmware fixes the issue. In the worst case, IGMP snooping has to be disabled</p></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">NIC<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"> </p><p><A HREF="http://www.intel.com/support/network/sb/cs-025829.htm">http://www.intel.com/support/network/sb/cs-025829.htm</A></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">FlowControl<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Ethernet flow control IEEE 802.3x</p><p> </p><p>JGroups performs flow control, such that fast senders don't overwhelm slow receivers, and cause them to fill up their input buffers, causing packet loss.</p><p> </p><p>However, some network interface cards (NICs) and switches perform ethernet flow control (IEEE 802.3x), which applies back pressure to senders when packet loss occurs.</p><p> </p><p>This (autonegotiation) feature is not good for TCP and UDP. For TCP, it is not good, as TCP already has flow control built in, and so 802.3x duplicates that. In addition, TCP relies on packet loss to throttle the sender (slow start, congestion avoidance and recovery), so with 802.3x enabled, TCP won't be able to find the optimal congestion window size (cwnd) quickly.</p><p> </p><p>With UDP (IP multicast or regular datagram packets), ethernet flow control is usually a good thing, as UDP doesn't provide flow control. However, for JGroups, it is bad as (similar to TCP) JGroups already provides its own flow control. Therefore I recommend to turn ethernet flow control off.</p><p> </p><p>For managed switches, this can usually be done via a web or telnet/ssh interface. For unmanaged switches, unfurtunately the only chance is to hope 802.3x is not implemented, or to replace the switch.</p><p> </p><p>The NICs usually provide a means to disable this option, on Linux with the ethtool:</p><p> </p><p><b>/sbin/ethtool -A eth0 autoneg off tx on rx on</p><p> </p><p>/sbin/ethtool -a eth0 can be used to verify ethernet flow control is off.</p><p> </b></p><p> </p><p>I ran 4 JGroups processes, each on a different host (connected to the same 1GBit switch), each sending 1'000'000 1K messages with tcp.xml and udp.xml. With 802.3x (autoneg=on, rx=off, tx=off), the results were (on 2.7 CVS head, Oct 9 2008):</p><p> </p><p>UDP: 34'849 messages/sec/instance</p><p>TCP: 63'312 messages/sec/instance</p><p> </p><p>With 802.3x off (autoneg=off, rx=on, tx=on):</p><p> </p><p>UDP: 126'463 messages/sec/instance !</p><p>TCP: 83'829 messages/sec/instance</p><p> </p><p>This means that by simply turning ethernet flow control off, TCP's performance increases slightly, but UDP's performance increases almost by a factor of 4 !</p><p> </p><p>Latest update (Oct 28 2008): I re-ran the above test with udp.xml and 4 nodes and got 136'000 messages/sec/instance !</p><p></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">JumboFrames<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><b><font face="Arial" style="font-size:10pt">Using jumbo frames</p><p></b> </p><p>The default MTU is usually 1'500 bytes, this can be increased to (say) 9000 bytes with jumbo frames. Jumbo frames have to be enabled on all of the NICs attached to the gigabit switch and on the switch itself. On Linux, we enable a frame size of 9000 bytes with ifconfig:</p><p> </p><p>ifconfig eth0 mtu 9000.</p><p> </p><p>Using jumbo frames means that we will send IP packets that are much larger, so the ratio between ethernet, IP and UDP headers on the one hand and the payload on the other increases, so we can send more data, increasing throughput.</p><p> </p><p>Increase the NIC's input buffer</p><p> </p><p>(text)</p><p> </p><p>/sbin/ifconfig txqueuelen 5000</p><p></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">UDP Buffer<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><b><font face="Arial" style="font-size:10pt">Increasing UDP receive buffers</p><p></b> </p><p>Packet loss is usually caused by the receivers not having enough space to buffer all packets, therefore the kernel start dropping packets. If the sender's send rate is always faster than the rate at which the receiver(s) can process packets, then the UDP receive buffers will fill up and packets get discarded, which leads to costly retransmissions. However, for temporary packet spikes, we can increase the receiver's UDP input buffers by calling Datagram/MulticastSocket.setReceiveBufferSize().</p><p> </p><p>Say we're sending 1'000 1'000-byte packets to a receiver. The default receive buffer is 65'000 bytes, which is not enough to hold all 1'000'000 bytes sent by the sender if the receiver cannot process the packets (and thus free buffer space) fast enough.</p><p> </p><p>So the easiest solution is to increase the receiver's buffer space. However, the kernel has a limit on the max size, e.g. on 2.6.21, sysctl net.core.rmem_max shows that this is around 130'000 bytes. So if we set the receive buffer to 1'000'000 bytes, the kernel would only allow it to be set to 130'000 bytes !</p><p> </p><p> </p><p>If we want all 1'000 packets to get buffered, we can increase the max size:</p><p> </p><p>sysctl -w net.core.rmem_max=5000000</p><p> </p><p>This increases the max size to 5MB, so we can easily set a buffer space of 1MB now.</p><p> </p><p>So if your application sends a lot of data via UDP, then increasing the receive buffer sizes is a good tool to reduce packet loss and costly retransmission, speeding up a JGroups application.</p><p> </p><p></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">IPBonding<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"><A HREF="http://community.jboss.org/wiki/IpBonding">http://community.jboss.org/wiki/IpBonding</A></p><p> </p><p> </p><p><b>IP Bonding</p><p></b>Bonding can be used to create a virtual NIC that runs over multiple physical NICs. Packets sent out over the virtual NIC can then be load balanced across the physical NICs. This should increase performance as we can now theoretically double or triple the available bandwidth. Has to be confirmed in the labs though...</p><p> </p><p>More information for IP bonding can be found at:</p><p><A HREF="http://www.redhat.com/docs/manuals/enterprise/RHEL-4-Manual/ref-guide/s1-modules-ethernet.html">http://www.redhat.com/docs/manuals/enterprise/RHEL-4-Manual/ref-guide/s1-modules-ethernet.html</A></p><p> </p><p>JVM performance tuning links</p><p><A HREF="http://java.sun.com/performance/reference/whitepapers/tuning.html">http://java.sun.com/performance/reference/whitepapers/tuning.html</A></p><p>Large memory pages: <A HREF="http://java.sun.com/javase/technologies/hotspot/largememory.jsp">http://java.sun.com/javase/technologies/hotspot/largememory.jsp</A></p><p></p><p></p><p>Using IP Bonding under Linux</p><p> </p><p>IP Bonding is the ability to define a virtual network interface NIC) which sends and receives traffic to/from multiple physical NICs.</p><p> </p><p>For example, we can create a bonding interface bond0 with slaves eth0 and eth1. Bonding can be configured to always send traffic out over eth0 and only fail over to eth1 when eth0 fails. Or, we can configure it to use round robin load balancing, so the first frame is sent on eth0, the second on eth1, the third on eth0 and so on.</p><p> </p><p>Traffic will always be received by bond0, no matter whether the frame was received on eth0 or eth1.</p><p> </p><p>Physical NICs are monitored (either with MII or ARP) and - when an interface is down - bonding will exclude this interface to be used until it is up again.</p><p> </p><p>It is important to note that the sender's address will always be bond0 !</p><p> </p><p>There are many more configuration options, for details refer to the link at the end.</p><p> </p><p>Example</p><p> </p><p>In this example, we'll manually set up a bonding interface and use round-robin load balancing to send traffc.</p><p> </p><p>Load the bonding module with MII monitoring and round-robin load balancing: modprobe bonding mode=balance-rr miimon=100</p><p>Configure the bond0 NIC: ifconfig bond0 192.168.2.10 netmask 255.255.255.0 up</p><p>Add the 2 slaves: ifenslave bond0 eth0 and ifenslave bond0 eth1</p><p> </p><p>That's it  Now the bind_addr for JGroups needs to be 192.168.2.10, and traffic will be load balanced between eth0 and eth1. When eth1 does down, only eth0 will be used, and when eth1 comes back up, it will be used again.</p><p> </p><p>Note that for IP multicasting to work, a route may have to be added to bond0:</p><p>route add -net 224.0.0.0 netmask 240.0.0.0 dev bond0</p><p> </p><p>Tools like iptraf can now be used to monitor the physical NICs. We would see that traffic is split evenly across eth0 and eth1, and when a NIC is brought down, all traffic will be sent to the remaining NIC until the down NIC is brought up again.</p><p> </p><p>Link</p><p> </p><p>For detailed information regarding bonding on Linux refer to</p><p><A HREF="http://linux-net.osdl.org/index.php/Bonding">http://linux-net.osdl.org/index.php/Bonding</A></p></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">TCP<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">TCP/IP will send a number of packets without waiting for an acknowledgment. This is called the TCP Receive Window (or RWIN), the amount of data a computer will send without waiting for an acknowledgement</p></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Ports<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"><A HREF="http://www.ncftp.com/ncftpd/doc/misc/ephemeral_ports.html">http://www.ncftp.com/ncftpd/doc/misc/ephemeral_ports.html</A></p><p></p><p>Display Port Range</p><p></p><p>netsh int ipv4 show dynamicport tcp</p><p>netsh int ipv4 show dynamicport udp</p><p>netsh int ipv6 show dynamicport tcp</p><p>netsh int ipv6 show dynamicport udp</p><p></p><p></p><p>This command sets the dynamic port range for TCP. The start port is number, and the total number of ports is range. The following are  sample commands:</p><p>netsh int ipv4 set dynamicport tcp start=10000 num=1000</p><p>netsh int ipv4 set dynamicport udp start=10000 num=1000</p><p>netsh int ipv6 set dynamicport tcp start=10000 num=1000</p><p>netsh int ipv6 set dynamicport udp start=10000 num=1000</p></font><dt><br><dt style="margin-left:36;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">MULTICAST<dt><br><dt style="margin-left:68;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"><A HREF="http://www.microsoft.com/technet/prodtechnol/windows2000serv/reskit/intwork/inaf_mul_yxuq.mspx?mfr=true">http://www.microsoft.com/technet/prodtechnol/windows2000serv/reskit/intwork/inaf_mul_yxuq.mspx?mfr=true</A></p><p>IP Multicast Troubleshooting</p><p></p><p>To troubleshoot IP multicast problems, the Windows 2000 Routing and Remote Access service provides the following tools:</p><p>	Routing and Remote Access snap-in tables</p><p>	Mrinfo command</p><p>	Mtrace support</p><p>	Netsh commands</p><p>	IGMP event logging</p><p>	</p><p>Tracing</p><p>For more information about general multicast troubleshooting, see the Internet Draft titled &quot;Multicast Debugging Handbook.&quot;</p><p></p><p>Top of page</p><p></p><p></p><p>To view multicast tables and gather information to aid in the troubleshooting of multicast routing and forwarding problems, use the following netsh command lines:</p><p>	netsh routing ip show mfe</p><p>Displays the entries in the multicast forwarding table. This is equivalent to the multicast forwarding table available from the Routing and Remote Access snap-in.</p><p>	netsh routing ip show mfestats</p><p>Displays packet statistics and input and output interface information for entries in the multicast forwarding table. This is equivalent to the multicast statistics window available from the Routing and Remote Access snap-in.</p><p>	netsh routing ip igmp show grouptable</p><p>Displays IGMP host group membership information for all host groups registered on all interfaces configured for IGMP router mode. This is equivalent to the IGMP group table in the Routing and Remote Access snap-in.</p><p>	netsh routing ip igmp show ifstats</p><p>Displays IGMP statistics for each interface.</p><p>	netsh routing ip igmp show iftable</p><p>Displays host group membership information for host groups registered on a specific interface configured for IGMP router mode. This is equivalent to the IGMP interface group table in the Routing and Remote Access snap-in.</p><p>	netsh routing ip igmp show rasgrouptable</p><p>Displays the group table for the Internal interface used by the remote access server.</p><p>	netsh routing ip igmp show proxygrouptable</p><p>Displays the group table for the IGMP proxy mode interface.</p></font><dt><br><dt style="margin-left:36;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Architecture<dt><br><dt style="margin-left:68;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><li><p></font><font face="Symbol" style="font-size:10pt">Html Table has rows of cells as collection, colspan means row with single collection</p></ul><p></p></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Thoughts<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Axis</p><p>===</p><li><p>WebSecurity Handler</p><li><p>Validation</p><li><p>Exception Handling</p><li><p>Conversion Classes</p></ul><p></p><p>Research</p><p>=======</p><li><p>Create object from UI, persist to XML, load xml to object and test logic</p><li><p>Idea plugin which can surround text with any tag (with double quotes/single quotes/xml &lt; and /&gt;)</p><li><p>Idea plugin to edit list.xml</p></ul><p></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">ORM<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Implement ORM Tool with javaone ideas</p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">WMS<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Workflow Management System</p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">J2ee Application<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">J2ee Application</p></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">DesignsPattern<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Proxy Pattern</p><p>==========</p><p>TimeSheet {</p><p>taskSet;</p><p></p><p>getTaskSet() {</p><p>     if (taskSet == null) {</p><p>        loadTaskSet();</p><p>     } else {</p><p>         return taskSet;</p><p>     }</p><p>}</p><p></p><p>loadTaskSet() {</p><p>    db = LoginService.getBuyerDB();</p><p>    taskSet = TaskService.getByTimeSheetId(this.getId());</p><p>    </p><p>}</p><p></p><p>}</p><p></p><p></p><p>BuilderPattern</p><p>==========</p><p></p><p>CustomFieldService {</p><p></p><p>getCustomFieldSet(login, CustomFieldEnabled cfO, CFBuilder builder)  {</p><p>   //generate CompanyCodeMap</p><p>   //get CustomFields for supplier &amp; buyer or only buyer</p><p></p><p>   builder.getCustomFieldSet(login, cfO);</p><p>}</p><p></p><p></p><p>WorkerCFBuilder {</p><p>    getCustomFieldSet(login, CustomFieldEnabled cfO) {</p><p>    </p><p>     }</p><p>}</p><p></p><p></p><p></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Approval<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Adapter Pattern to add Chaining/Editor to Regular Approval</p><p></p><p></p><p>Client      ---------Approvable------------------&gt;    ApprovalService ---&gt;  AmountBased      ----&gt; Rule &amp; Script</p><p>                                                                                              ChainingApproval</p><p></p><p></p><p>ApprovalService ---------------------------&gt; CommonApprovalInterface &lt;------------------------------- AmountApprovalService    </p><p>         </p><p>ApprovalService ---------------------------&gt; CommonApprovalInterface &lt;------------------------------- ChainingApprovalService       </p></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">IDD<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Interface Driven Design</p><p>=================</p><p></p><p></p><p>Client 1 --------------------------------------------&gt; |  I  |  -----</p><p>                                                           |  N | </p><p>Client 2 --------------------------------------------&gt; |  T  |</p><p>                                                           |  E |</p><p>Client 3 --------------------------------------------&gt; |  R | ---------------------------------------------&gt; CustomFieldService</p><p>                                                           |  F |</p><p>Client 4 --------------------------------------------&gt; |  A |</p><p>                                                           |  C |</p><p>Client 4 --------------------------------------------&gt; |  E |</p><p></p></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">MessageResource<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"><A HREF="http://freeroller.net/page/dkfn/20031228">http://freeroller.net/page/dkfn/20031228</A></p><p><A HREF="http://www.jguru.com/faq/view.jsp?EID=779194">http://www.jguru.com/faq/view.jsp?EID=779194</A></p><p><A HREF="http://www.jguru.com/faq/subtopic.jsp?topicID=469766">http://www.jguru.com/faq/subtopic.jsp?topicID=469766</A></p><p></p><p></p><p>Struts Initialization</p><p>==============</p><p>1) DefaultResourceFactory.createResources();</p><p>     Initialize DefaultResources();</p><p></p><p>LoginAction</p><p>========</p><p>2) Call CustomResourceService.createCustomResources</p><p>     Initialize CompanyResources(DefaultResources)</p><p></p><p></p><p>Access OutSide Struts</p><p>=================</p><p></p><p>Use 1 &amp; 2</p><p></p><p>NotificationService</p><p></p></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Class Package Methodology<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">&lt;top level domain name&gt;.&lt;company name&gt;.&lt;product&gt;.&lt;module&gt;.[&lt;sub module&gt;].[&lt;layer&gt;].*</p></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Resources<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">twitter api</p><p>facebook api throttling</p><p>netflix</p><p>nodjs, linkedin</p><p>You can get videos for 30% off with code WCYAZVD <A HREF="http://shop.oreilly.com/category/videos.do">http://shop.oreilly.com/category/videos.do</A></p></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Database<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"></p><p>####  MYSQL</p><p></p><p>-Can be used in dev environment for testing (even sharding)</p><p>- InnoDB is very good for storing </p><p>- Gizzard Twitter storage  - allows slowly over time</p><p>- T-bird and T-flock - Gizzard based storage</p><p></p><p>###  Cassandra</p><p></p><p>- high velocity writes and low-medium velocity read</p></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Analytics<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Vertica</p></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Layers<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Finally, the most important point about layering is that a layer isnt allowed to use any layer above it. A module uses another module when it depends on the answer it gets back. But a layer is allowed to make upward calls, as long as it isnt expecting an answer from them. This is how the common error-handling scheme of callbacks works . A program in layer A calls a program in a lower layer B, and the parameters include a pointer to an error-handling program in A that the lower layer should call in case of error. The software in B makes the call to the program in A, but cares not in the least what it does. By not depending in any way on the contents of A, B is insulated from changes in A.</p><p></p><p>Bass, Len; Clements, Paul; Kazman, Rick (2012-09-25). Software Architecture in Practice (3rd Edition) (SEI Series in Software Engineering) (p. 210). Pearson Education. Kindle Edition. </p></font><dt><br><dt style="margin-left:36;font: normal normal normal 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">EXCEL<dt><br><dt style="margin-left:68;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Lookup Table<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Workbook A</p><p></p><p></font><font face="Arial" color="#000000" style="font-size:10pt"></font><font face="Calibri" color="#000000" style="font-size:10pt"></font><font face="Calibri" color="#000000" style="font-size:11pt">TestASBCResultVLOOKUP(B2, 'C:\Downloads\[fileANOTHER.xls]Sheet1'!$A$2:$B$67, 2, FALSE)</font><font face="Calibri" color="#000000" style="font-size:11pt"></font><font face="Arial" color="#000000" style="font-size:11pt"></font><font face="Arial" color="#000000" style="font-size:10pt"></p><p></p><p>File 2 </p><p></p><p></p><p>A             B</p><p></p><p>ASBC    American BanK</p><p></p></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Parse<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"><A HREF="http://www.ozgrid.com/Excel/split-excel-data.htm">http://www.ozgrid.com/Excel/split-excel-data.htm</A></p><p></p><p></font><font face="Times New Roman" style="font-size:10pt"></font><font face="Times New Roman" style="font-size:12pt">go to &quot;<b>Data</b>&quot; menu and select &quot;<b>Text To Columns</b>&quot;. </p><p>On the Text To Columns window, select &quot;<b>Delimited</b>&quot; and then hit &quot;<b>Next</b>&quot;. </p><p style="margin-left:52">In the following window, choose &quot;<b>other</b>&quot; for type of delimiter and use the minus/hyphen sign - </p><p>Hit <b>Finish</b>. </p><p></font><font face="Arial" style="font-size:12pt"></font><font face="Arial" style="font-size:10pt"></p></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Tips<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Use the ALT key when moving shapes/objects like buttons to make them 'snap to' cell edges</p><p></p><p>ALT-Down to fill column</p><p></p></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Functions<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">=IF(B2=&quot;f&quot;, &quot;false&quot;, &quot;true&quot;)</p></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Date Formatting<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">--Convert Date format from text format (Wed Aug 23 09:44:12 2006) to real Date format</p><p></p><p></p><p>Sub ConvertTimeandSort()</p><p>Dim tm, c As Range, d As Range</p><p>Set d = Range(&quot;A1:A&quot; &amp; Range(&quot;A65536&quot;).End(xlUp).Row)</p><p>For Each c In d</p><p>    tm = Split(c)</p><p>    c = DateValue(tm(1) &amp; &quot;/&quot; &amp; tm(2) &amp; &quot;/&quot; &amp; tm(4)) + TimeValue(tm(3))</p><p>    //** simple format *** c = DateValue(tm(1)) + TimeValue(tm(2))</p><p>    c.NumberFormat = &quot;ddd mmm d hh:mm:ss yyyy&quot;</p><p>Next</p><p>d.Sort Key1:=Range(&quot;A1&quot;), Order1:=xlAscending, Header:=xlGuess</p><p>End Sub</p><p></p><p></p><p></p><p>Sub ConvertTimeandSort()</p><p>Dim tm, c As Range, d As Range</p><p>Set d = Range(&quot;F5:F&quot; &amp; Range(&quot;F5000&quot;).End(xlUp).Row)</p><p>For Each c In d</p><p>    tm = Split(c)</p><p>    c.NumberFormat = &quot;ddd mmm d hh:mm:ss yyyy&quot;</p><p>Next</p><p>d.Sort Key1:=Range(&quot;F4&quot;), Order1:=xlAscending, Header:=xlGuess</p><p>End Sub</p></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Charting<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Group Selection - <A HREF="http://www.youtube.com/watch?v=5I_ivO-9mKc">http://www.youtube.com/watch?v=5I_ivO-9mKc</A></p><p></p><p>Double Click Label and UnSelect Multi level category labels to have only one set of label like time</p></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">PIVOT<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Grouping by Date/Month</p><p></p><p>Options -&gt; Group Field -&gt; Select Month, Year to group by month</p></font><dt><br><dt style="margin-left:36;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">SCM<dt><br><dt style="margin-left:68;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">xcopy /S/Q/EXCLUDE:svn.excludelist [path_from] [path_to\]</p><p></p><p>create svn.excludelist file with</p><p></p><p>.svn</p><p>.svn\</p><p>\.svn\</p></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">CVS<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">set <A HREF="mailto:sramakri@cvs.gftchicago.local">CVSROOT=:pserver:sramakri@cvs.gftchicago.local:/home/cvsroot</A></p><p>export CVSROOT</p><p>cvs checkout gltech/actrader</p><p>cvs update</p></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">GIT<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Open Git Shell</p><p></p><p></font><font face="Arial" color="#1F497D" style="font-size:10pt"></font><font face="Calibri" color="#1F497D" style="font-size:10pt"></font><font face="Calibri" color="#1F497D" style="font-size:11pt">&gt; git config</p><p></p><p>Create a initial file</p><p> </font><font face="Calibri" color="#000000" style="font-size:11pt"></font><font face="Arial" color="#000000" style="font-size:11pt"></font><font face="Arial" color="#000000" style="font-size:10pt"></p><p>&gt; </font><font face="Arial" color="#1F497D" style="font-size:10pt"></font><font face="Calibri" color="#1F497D" style="font-size:10pt"></font><font face="Calibri" color="#1F497D" style="font-size:11pt">git init</font><font face="Calibri" color="#000000" style="font-size:11pt"></font><font face="Arial" color="#000000" style="font-size:11pt"></font><font face="Arial" color="#000000" style="font-size:10pt"></p><p></p><p>Add all existing files/dirs</p><p>&gt; $ git add .</p><p></p><p>Save to local repo</p><p>This creates a new Git repository .git in the current directory, and adds the contents of the entire directory tree rooted there to the repository as the initial commit on a new branch named master:</p><p></p><p>&gt; git commit -m 'Begin Project Foo!'</p><p></p><p>$ git branch</p><p>$ git log --stat</p><p></p></font><dt><br><dt style="margin-left:36;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Programming<dt><br><dt style="margin-left:68;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Programming</p></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">JavaScript<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"></p><p></p><p></p><p>Collection</p><p>=======</p><p>forms</p><p>images</p><p>links</p><p></p><p></p><p>forms[0]</p><p>forms.0.</p><p>forms.formname</p><p></p><p>&lt;form name=&quot;myForm&gt;</p><p> &lt;input type=&quot;text&quot; name=&quot;myInput&quot;&gt;</p><p></p><p>document.aaa.innerText = forms.myForm.elements.myInput.value</p><p></p><p>&lt;div id = &quot;aaa&quot;&gt; YYY &lt;a href=&quot;x.html&quot;&gt;XXX &lt;/a&gt; &lt;/div&gt;</p><p>document.aaa.innerHtml = &lt;a href ../a&gt;</p><p>document.aaa.innerText = YYY XXX</p><p>document.aaa.style.display = &quot;none&quot;</p><p>Event Source Object</p><p>event.eventBubble = false</p><p></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">DOM<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Parsing Dom in Mozilla</p><p></p><p></p><p></font><font face="Arial" color="#7F0055" style="font-size:10pt"><span style="background-color: #E8F2FE"></font><font face="Courier New" color="#7F0055" style="font-size:10pt">          var </font><font face="Courier New" color="#000000" style="font-size:10pt"></font><font face="Courier New" color="#000000" style="font-size:10pt">strXML = </font><font face="Courier New" color="#8E00FF" style="font-size:10pt">&quot;&lt;server&gt;&lt;host&gt;test_value&lt;/host&gt;&lt;/server&gt;&quot;</font><font face="Courier New" color="#000000" style="font-size:10pt">;</font><font face="Courier New" color="#000000" style="font-size:10pt"></span><span style="background-color: #FFFFFF"></font><font face="Arial" color="#000000" style="font-size:10pt"></p><p></p><p></font><font face="Arial" color="#3F5FBF" style="font-size:10pt"></font><font face="Courier New" color="#3F5FBF" style="font-size:10pt">          //create a DOMParser</font><font face="Courier New" color="#000000" style="font-size:10pt"></p><p></font><font face="Courier New" color="#3F5FBF" style="font-size:10pt">	    	</font><font face="Courier New" color="#7F0055" style="font-size:10pt">var </font><font face="Courier New" color="#000000" style="font-size:10pt">objDOMParser = </font><font face="Courier New" color="#7F0055" style="font-size:10pt">new </font><font face="Courier New" color="#000000" style="font-size:10pt">DOMParser();</font><font face="Courier New" color="#000000" style="font-size:10pt"></p><p></font><font face="Courier New" color="#000000" style="font-size:10pt">        </font><font face="Courier New" color="#000000" style="font-size:10pt"></p><p></font><font face="Courier New" color="#000000" style="font-size:10pt">    		</font><font face="Courier New" color="#3F5FBF" style="font-size:10pt">//create new document from string</font><font face="Courier New" color="#000000" style="font-size:10pt"></p><p></font><font face="Courier New" color="#3F5FBF" style="font-size:10pt">    		</font><font face="Courier New" color="#7F0055" style="font-size:10pt">var </font><font face="Courier New" color="#000000" style="font-size:10pt">data = objDOMParser.parseFromString(strXML, </font><font face="Courier New" color="#8E00FF" style="font-size:10pt">&quot;text/xml&quot;</font><font face="Courier New" color="#000000" style="font-size:10pt">);	</font><font face="Courier New" color="#000000" style="font-size:10pt"></p><p></font><font face="Courier New" color="#000000" style="font-size:10pt">			</font><font face="Courier New" color="#7F0055" style="font-size:10pt">var </font><font face="Courier New" color="#000000" style="font-size:10pt">hosts = data.getElementsByTagName(</font><font face="Courier New" color="#8E00FF" style="font-size:10pt">&quot;host&quot;</font><font face="Courier New" color="#000000" style="font-size:10pt">)</font><font face="Courier New" color="#000000" style="font-size:10pt"></p><p></font><font face="Courier New" color="#000000" style="font-size:10pt">	        alert(</font><font face="Courier New" color="#8E00FF" style="font-size:10pt">&quot;Hosts Length: &quot; </font><font face="Courier New" color="#000000" style="font-size:10pt">+ hosts.length);</font><font face="Courier New" color="#000000" style="font-size:10pt"></p><p></font><font face="Courier New" color="#000000" style="font-size:10pt">    	    </font><font face="Courier New" color="#7F0055" style="font-size:10pt">for </font><font face="Courier New" color="#000000" style="font-size:10pt">(</font><font face="Courier New" color="#7F0055" style="font-size:10pt">var </font><font face="Courier New" color="#000000" style="font-size:10pt">i=0; i&lt;hosts.length; i++) </font><font face="Courier New" color="#7F0055" style="font-size:10pt">{        </font><font face="Courier New" color="#000000" style="font-size:10pt"></p><p></font><font face="Courier New" color="#7F0055" style="font-size:10pt">        		var </font><font face="Courier New" color="#000000" style="font-size:10pt">h = hosts[i];</font><font face="Courier New" color="#000000" style="font-size:10pt"></p><p></font><font face="Courier New" color="#000000" style="font-size:10pt">        		</font><font face="Courier New" color="#3F5FBF" style="font-size:10pt">//var hosts  = h.getElementsByTagName(&quot;host&quot;);</font><font face="Courier New" color="#000000" style="font-size:10pt"></p><p></font><font face="Courier New" color="#3F5FBF" style="font-size:10pt">	          	</font><font face="Courier New" color="#000000" style="font-size:10pt">alert(h.nodeType);</font><font face="Courier New" color="#000000" style="font-size:10pt"></p><p></font><font face="Courier New" color="#000000" style="font-size:10pt">	          	alert(h.firstChild.data);</font><font face="Courier New" color="#000000" style="font-size:10pt"></p><p></font><font face="Courier New" color="#000000" style="font-size:10pt">        	</font><font face="Courier New" color="#7F0055" style="font-size:10pt">}</font><font face="Courier New" color="#000000" style="font-size:10pt"></font><font face="Arial" color="#000000" style="font-size:10pt"></p></font></span><dt><br><dt style="margin-left:72;font: normal normal normal 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">AJAX<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">DOJO<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Courier New" color="#008080" style="font-size:12pt"></font><font face="Courier New" color="#008080" style="font-size:12pt"></font><font face="Courier New" color="#008080" style="font-size:10pt">&lt;</font><font face="Courier New" color="#3F7F7F" style="font-size:10pt">SCRIPT </font><font face="Courier New" color="#7F007F" style="font-size:10pt">type</font><font face="Courier New" color="#000000" style="font-size:10pt">=</font><font face="Courier New" color="#2A00FF" style="font-size:10pt">text/javascript</font><font face="Courier New" color="#008080" style="font-size:10pt">&gt;</font><font face="Courier New" color="#000000" style="font-size:10pt"></p><p></font><font face="Courier New" color="#000000" style="font-size:10pt">		djConfig = </font><font face="Courier New" color="#7F0055" style="font-size:10pt">{</font><font face="Courier New" color="#000000" style="font-size:10pt"></p><p></font><font face="Courier New" color="#7F0055" style="font-size:10pt">		  </font><font face="Courier New" color="#000000" style="font-size:10pt">debug: </font><font face="Courier New" color="#7F0055" style="font-size:10pt">true</font><font face="Courier New" color="#000000" style="font-size:10pt"></p><p></font><font face="Courier New" color="#7F0055" style="font-size:10pt">		}</font><font face="Courier New" color="#000000" style="font-size:10pt">;</font><font face="Courier New" color="#000000" style="font-size:10pt"></p><p></font><font face="Courier New" color="#000000" style="font-size:10pt">	</font><font face="Courier New" color="#008080" style="font-size:10pt">&lt;/</font><font face="Courier New" color="#3F7F7F" style="font-size:10pt">SCRIPT</font><font face="Courier New" color="#008080" style="font-size:10pt">&gt;</font><font face="Courier New" color="#000000" style="font-size:10pt"></p><p></font><font face="Courier New" color="#000000" style="font-size:10pt">    </font><font face="Courier New" color="#008080" style="font-size:10pt">&lt;</font><font face="Courier New" color="#3F7F7F" style="font-size:10pt">script </font><font face="Courier New" color="#7F007F" style="font-size:10pt">type</font><font face="Courier New" color="#000000" style="font-size:10pt">=</font><font face="Courier New" color="#2A00FF" style="font-size:10pt">&quot;text/javascript&quot; </font><font face="Courier New" color="#7F007F" style="font-size:10pt">src</font><font face="Courier New" color="#000000" style="font-size:10pt">=</font><font face="Courier New" color="#2A00FF" style="font-size:10pt">&quot;scripts/dojo/dojo.js&quot;</font><font face="Courier New" color="#008080" style="font-size:10pt">&gt;&lt;/</font><font face="Courier New" color="#3F7F7F" style="font-size:10pt">script</font><font face="Courier New" color="#008080" style="font-size:10pt">&gt;</font><font face="Courier New" color="#000000" style="font-size:10pt"></p><p></font><font face="Courier New" color="#000000" style="font-size:10pt">	</font><font face="Courier New" color="#008080" style="font-size:10pt">&lt;</font><font face="Courier New" color="#3F7F7F" style="font-size:10pt">script </font><font face="Courier New" color="#7F007F" style="font-size:10pt">type</font><font face="Courier New" color="#000000" style="font-size:10pt">=</font><font face="Courier New" color="#2A00FF" style="font-size:10pt">&quot;text/javascript&quot;</font><font face="Courier New" color="#008080" style="font-size:10pt">&gt;</font><font face="Courier New" color="#000000" style="font-size:10pt"></p><p></font><font face="Courier New" color="#000000" style="font-size:10pt">			dojo.require(</font><font face="Courier New" color="#8E00FF" style="font-size:10pt">&quot;dojo.event.*&quot;</font><font face="Courier New" color="#000000" style="font-size:10pt">);</font><font face="Courier New" color="#000000" style="font-size:10pt"></p><p></font><font face="Courier New" color="#000000" style="font-size:10pt">            </font><font face="Courier New" color="#3F5FBF" style="font-size:10pt">// Load Dojo's code relating to widget managing functions</font><font face="Courier New" color="#000000" style="font-size:10pt"></p><p></font><font face="Courier New" color="#3F5FBF" style="font-size:10pt">            </font><font face="Courier New" color="#000000" style="font-size:10pt">dojo.require(</font><font face="Courier New" color="#8E00FF" style="font-size:10pt">&quot;dojo.widget.*&quot;</font><font face="Courier New" color="#000000" style="font-size:10pt">);</font><font face="Courier New" color="#000000" style="font-size:10pt"></p><p></font><font face="Courier New" color="#000000" style="font-size:10pt">			</font><font face="Courier New" color="#000000" style="font-size:10pt"></p><p></font><font face="Courier New" color="#000000" style="font-size:10pt">            </font><font face="Courier New" color="#3F5FBF" style="font-size:10pt">// Load Dojo's code relating to the Button widget</font><font face="Courier New" color="#000000" style="font-size:10pt"></p><p></font><font face="Courier New" color="#3F5FBF" style="font-size:10pt">            </font><font face="Courier New" color="#000000" style="font-size:10pt">dojo.require(</font><font face="Courier New" color="#8E00FF" style="font-size:10pt">&quot;dojo.widget.Button&quot;</font><font face="Courier New" color="#000000" style="font-size:10pt">);</font><font face="Courier New" color="#000000" style="font-size:10pt"></p><p></font><font face="Courier New" color="#000000" style="font-size:10pt">    </font><font face="Courier New" color="#008080" style="font-size:10pt">&lt;/</font><font face="Courier New" color="#3F7F7F" style="font-size:10pt">script</font><font face="Courier New" color="#008080" style="font-size:10pt">&gt;</font><font face="Courier New" color="#000000" style="font-size:10pt"> </p><p></p><p></p><p></font><font face="Courier New" color="#008080" style="font-size:10pt">&lt;</font><font face="Courier New" color="#3F7F7F" style="font-size:10pt">script</font><font face="Courier New" color="#008080" style="font-size:10pt">&gt;</font><font face="Courier New" color="#000000" style="font-size:10pt"></p><p></font><font face="Courier New" color="#000000" style="font-size:10pt">	</font><font face="Courier New" color="#7F0055" style="font-size:10pt">function </font><font face="Courier New" color="#000000" style="font-size:10pt"></font><font face="Courier New" color="#000000" style="font-size:10pt">parse() </font><font face="Courier New" color="#7F0055" style="font-size:10pt">{</font><font face="Courier New" color="#000000" style="font-size:10pt"></font><font face="Arial" color="#000000" style="font-size:10pt"></p><p></font><font face="Arial" color="#7F0055" style="font-size:10pt"></font><font face="Courier New" color="#7F0055" style="font-size:10pt">          </p><p>                  var </font><font face="Courier New" color="#000000" style="font-size:10pt">some_javascript_var = </font><font face="Courier New" color="#8E00FF" style="font-size:10pt">&quot;&lt;xmltest&gt;test_value&lt;/xmltest&gt;&quot;</font><font face="Courier New" color="#000000" style="font-size:10pt">;</font><font face="Courier New" color="#000000" style="font-size:10pt"></p><p></font><font face="Courier New" color="#000000" style="font-size:10pt">			</font><font face="Courier New" color="#7F0055" style="font-size:10pt">var </font><font face="Courier New" color="#000000" style="font-size:10pt">testDoc = dojo.dom.createDocumentFromText(some_javascript_var);</font><font face="Courier New" color="#000000" style="font-size:10pt"></p><p></p><p></font><font face="Courier New" color="#000000" style="font-size:10pt">			</font><font face="Courier New" color="#7F0055" style="font-size:10pt">var </font><font face="Courier New" color="#000000" style="font-size:10pt">xmltest = testDoc.getElementsByTagName(</font><font face="Courier New" color="#8E00FF" style="font-size:10pt">&quot;xmltest&quot;</font><font face="Courier New" color="#000000" style="font-size:10pt">);</font><font face="Courier New" color="#000000" style="font-size:10pt"></p><p></font><font face="Courier New" color="#000000" style="font-size:10pt">	        alert(</font><font face="Courier New" color="#8E00FF" style="font-size:10pt">&quot;Hosts Length: &quot; </font><font face="Courier New" color="#000000" style="font-size:10pt">+ xmltest.length);</font><font face="Courier New" color="#000000" style="font-size:10pt"></p><p></font><font face="Courier New" color="#000000" style="font-size:10pt">    	        </font><font face="Courier New" color="#7F0055" style="font-size:10pt"></font><font face="Courier New" color="#7F0055" style="font-size:10pt">for </font><font face="Courier New" color="#000000" style="font-size:10pt">(</font><font face="Courier New" color="#7F0055" style="font-size:10pt">var </font><font face="Courier New" color="#000000" style="font-size:10pt">i=0; i&lt;xmltest.length; i++) </font><font face="Courier New" color="#7F0055" style="font-size:10pt">{        </font><font face="Courier New" color="#000000" style="font-size:10pt"></p><p></font><font face="Courier New" color="#7F0055" style="font-size:10pt">        		var </font><font face="Courier New" color="#000000" style="font-size:10pt">h = xmltest[i];</font><font face="Courier New" color="#000000" style="font-size:10pt"></p><p></font><font face="Courier New" color="#000000" style="font-size:10pt">	          	alert(h.nodeType);</font><font face="Courier New" color="#000000" style="font-size:10pt"></p><p></font><font face="Courier New" color="#000000" style="font-size:10pt">	          	alert(h.firstChild.data);</font><font face="Courier New" color="#000000" style="font-size:10pt"></p><p></font><font face="Courier New" color="#000000" style="font-size:10pt">        	</font><font face="Courier New" color="#000000" style="font-size:10pt">  </font><font face="Courier New" color="#7F0055" style="font-size:10pt"></font><font face="Courier New" color="#7F0055" style="font-size:10pt">}</p><p></font><font face="Courier New" color="#7F0055" style="font-size:10pt">     }</p><p>&lt;/script&gt;</font><font face="Courier New" color="#000000" style="font-size:10pt"></font><font face="Arial" color="#000000" style="font-size:10pt"></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">DEBUGGING<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><li><p></font><font face="Symbol" style="font-size:10pt">Chrome Developer Tools Has Audits</p><li><p>Microsoft script debugger for IE</p><li><p>dynatrace ajax edition</p><li><p>View Generated HTML :  window.document.body.outerHTML</p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">IE<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"></ul><p><b><i><font face="Arial" style="font-size:12pt">How to Enable JavaScript in Your Browser?</b></i></font><font face="Arial" style="font-size:10pt"></p><p></p><p>Select Internet Options from the Tools menu.</p><p>Click the Security tab.</p><p>Click the Internet zone icon, and then click Custom Level.</p><p>In the Security Settings window, scroll down to Active scripting and click Enable.</p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">$<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">But because $ is allowed in identifier names, many Javascript libraries have taken to using $ as the &quot;central&quot; interface to them, or at least as a shortcut for accessing their functionality.</p><p></p><p>For example, if you're using jQuery and you say $(&quot;div&quot;), this is a call to the $ function with argument &quot;div&quot;. When you say $.post(), it's calling the post method on the $ object (Javascript is nice in that functions are first-class objects)</p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Functions<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"></p><p><b>event.preventDefault()</p><p></b></p><p>For click and most other events, you can prevent the default behavior by calling event.preventDefault() in the event handler</p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Extend Object with Function<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><b><font face="Arial" style="font-size:10pt">Augmented - Extend function by adding a method</b></p><p></p><p>Function.prototype.method = function (name, func) { this.prototype[ name] = func; return this; };</p><p></p><p>-- Javascript does not provide trim() method so extend it</p><p></p><p>String.method(' trim', function ( ) { </p><p>                                                   return this.replace(/ ^\ s + |\ s + $/ g, ''); </p><p>                                              }</p><p>);</p><p></p><p></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Handling DIV<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">&lt;div id = &quot;aaa&quot;&gt;</p><p>&lt;input name=&quot;xxx&quot;&gt;</p><p>id should be unique</p><p>name is not unique</p><p></p><p></p><p></p><p>document.aaa</p><p>document.getElementById(&quot;aaa&quot;);</p><p>eval(&quot;document.aaa&quot;);</p><p></p><p>document.getElementsbyName();</p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">String<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p align=center><b><font face="Arial" style="font-size:12pt">String Definition</b></font><font face="Arial" style="font-size:10pt"></p><p></p><p></p><li><p style="margin-left:40">Can use single quote or double quote</p><li><p style="margin-left:40">Strings are immutable</p><li><p style="margin-left:40">have length property</p><li><p style="margin-left:40">All characters are 16 bit unicode</p><li><p style="margin-left:40"></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Truthy OR Falsy<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"></ul><p style="margin-left:20"><b><font face="Arial" style="font-size:10pt">False</b></p><p style="margin-left:20"></p><li><p style="margin-left:40">false</p><li><p style="margin-left:40">null</p><li><p style="margin-left:40">undefined</p><li><p style="margin-left:40">empty string</p><li><p style="margin-left:40">number zero</p><li><p style="margin-left:40">number NaN</p></ul><p style="margin-left:20"></p><p style="margin-left:20"><b>Truth</b></p><p style="margin-left:20"></p><p style="margin-left:20">All other values are truth including 'true', 'false'</p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Closure<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p align=center><b><font face="Consolas" style="font-size:12pt"></font><font face="Consolas" style="font-size:12pt">Example 1</p><p></b></p><p></font><font face="Consolas" color="#000080" style="font-size:12pt"></p><p><b>var myObject = (function () { </p><p>              var value = 0; </p><p>              return { </p><p>                           increment: function (inc) { value + = typeof inc = = = 'number' ? inc : 1; }, </p><p>                           getValue: function ( ) { return value; } </p><p>                      }; </p><p>} () );</font><font face="Consolas" color="#000000" style="font-size:12pt"></b></p><p></p><p></p><p></p><p>This is not assigning a function to myObject.</p><p>This is a result of invoking that function.  Returns an object containing two methods </p><p></p><p align=center><b></p><p></b></p><p></p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Self/Immediate Executing<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Consolas" style="font-size:12pt"></font><font face="Consolas" style="font-size:12pt"></p><p>// This doesn't work like you might think, because the value of `i` never</p><p>// gets locked in. Instead, every link, when clicked (well after the loop</p><p>// has finished executing), alerts the total number of elements, because</p><p>// that's what the value of `i` actually is at that point.</p><p></p><p><b>var elems = document.getElementsByTagName( 'a' );</p><p></p><p>for ( var i = 0; i &lt; elems.length; i++ ) {</p><p></p><p>  elems[ i ].addEventListener( 'click', function(e){</p><p>    e.preventDefault();</p><p>    alert( 'I am link #' + i );</p><p>  }, 'false' );</p><p></p><p>}</b></p><p></p><p>// This works, because inside the IIFE, the value of `i` is locked in as</p><p>// `lockedInIndex`. After the loop has finished executing, even though the</p><p>// value of `i` is the total number of elements, inside the IIFE the value</p><p>// of `lockedInIndex` is whatever the value passed into it (`i`) was when</p><p>// the function expression was invoked, so when a link is clicked, the</p><p>// correct value is alerted.</p><p></p><p>var elems = document.getElementsByTagName( 'a' );</p><p></p><p>for ( var i = 0; i &lt; elems.length; i++ ) {</p><p></p><p>  (function( lockedInIndex ){</p><p></p><p>    elems[ i ].addEventListener( 'click', function(e){</p><p>      e.preventDefault();</p><p>      alert( 'I am link #' + lockedInIndex );</p><p>    }, 'false' );</p><p></p><p>  })( i );</p><p></p><p>}</p><p></p><p>// You could also use an IIFE like this, encompassing (and returning) only</p><p>// the click handler function, and not the entire `addEventListener`</p><p>// assignment. Either way, while both examples lock in the value using an</p><p>// IIFE, I find the previous example to be more readable.</p><p></p><p>var elems = document.getElementsByTagName( 'a' );</p><p></p><p>for ( var i = 0; i &lt; elems.length; i++ ) {</p><p></p><p>  elems[ i ].addEventListener( 'click', (function( lockedInIndex ){</p><p>    return function(e){</p><p>      e.preventDefault();</p><p>      alert( 'I am link #' + lockedInIndex );</p><p>    };</p><p>  })( i ), 'false' );</p><p></p><p>}</p><p></p><p></p><p>// This is a self-executing function. It's a function that executes (or</p><p>// invokes) itself, recursively:</p><p></p><p>function foo() { foo(); }</p><p></p><p>// This is a self-executing anonymous function. Because it has no</p><p>// identifier, it must use the  the `arguments.callee` property (which</p><p>// specifies the currently executing function) to execute itself.</p><p></p><p>var foo = function() { arguments.callee(); };</p><p></p><p>// This *might* be a self-executing anonymous function, but only while the</p><p>// `foo` identifier actually references it. If you were to change `foo` to</p><p>// something else, you'd have a &quot;used-to-self-execute&quot; anonymous function.</p><p></p><p>var foo = function() { foo(); };</p><p></p><p>// Some people call this a &quot;self-executing anonymous function&quot; even though</p><p>// it's not self-executing, because it doesn't invoke itself. It is</p><p>// immediately invoked, however.</p><p></p><p>(function(){ /* code */ }());</p><p></p><p>// Adding an identifier to a function expression (thus creating a named</p><p>// function expression) can be extremely helpful when debugging. Once named,</p><p>// however, the function is no longer anonymous.</p><p></p><p>(function foo(){ /* code */ }());</p><p></p><p>// IIFEs can also be self-executing, although this is, perhaps, not the most</p><p>// useful pattern.</p><p></p><p>(function(){ arguments.callee(); }());</p><p>(function foo(){ foo(); }());</p><p></p><p>// One last thing to note: this will cause an error in BlackBerry 5, because</p><p>// inside a named function expression, that name is undefined. Awesome, huh?</p><p></p><p>(function foo(){ foo(); }());</p><p></font><font face="Arial" style="font-size:12pt"></font><font face="Arial" style="font-size:10pt"></p></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Hibernate<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"><A HREF="http://forum.hibernate.org/viewtopic.php?t=928136&amp;highlight=aftertransactioncompletion">http://forum.hibernate.org/viewtopic.php?t=928136&amp;highlight=aftertransactioncompletion</A></p><p></font><font face="Arial" style="font-size:10pt"><A HREF="http://forum.hibernate.org/viewtopic.php?t=934158&amp;highlight=nolock">http://forum.hibernate.org/viewtopic.php?t=934158&amp;highlight=nolock</A></font><font face="Arial" style="font-size:12pt"></p><p></font><font face="Arial" style="font-size:12pt"></font><font face="Arial" style="font-size:10pt"></p><p>Read -&gt; <A HREF="http://forum.hibernate.org/viewtopic.php?t=926542&amp;highlight=subclass">http://forum.hibernate.org/viewtopic.php?t=926542&amp;highlight=subclass</A></p><p></p><p></p><p>one-to-many mapping -&gt; <A HREF="http://forum.hibernate.org/viewtopic.php?t=925450">http://forum.hibernate.org/viewtopic.php?t=925450</A></p><p>Interceptor -&gt; <A HREF="http://www.hibernate.org/hib_docs/reference/html_single/#manipulating-data-s15">http://www.hibernate.org/hib_docs/reference/html_single/#manipulating-data-s15</A></p><p>ppt: <A HREF="http://www.acornbay.com/pages/training/hibernate/Intro%20to%20Hibernate%20TCJUG%20200307.pdf">http://www.acornbay.com/pages/training/hibernate/Intro%20to%20Hibernate%20TCJUG%20200307.pdf</A></p><p>one-to-one <A HREF="http://www.xylax.net/hibernate/onetoone.html">http://www.xylax.net/hibernate/onetoone.html</A></p><p>orm tools comparison (* * * * *)=&gt; <A HREF="http://c2.com/cgi-bin/wiki?ObjectRelationalToolComparison">http://c2.com/cgi-bin/wiki?ObjectRelationalToolComparison</A></p><p></p><p>Issues</p><p>=====</p><p></p><li><p>to do lazy initialization, we need to keep the session open</p><li><p><A HREF="http://forum.hibernate.org/viewtopic.php?t=924911&amp;highlight=collection+values+clause">http://forum.hibernate.org/viewtopic.php?t=924911&amp;highlight=collection+values+clause</A> cannot query on collection of child, in </p></ul><p></p><p>        from ForumMessage forum</p><p>        inner join forum.childSet as children</p><p>        where children.parentMessageId = :parentMessageId</p><p></p><p></p></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">JMS<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Times New Roman" style="font-size:12pt"></font><font face="Times New Roman" style="font-size:10pt"></p><p>JMS messaging provides guaranteed delivery via the once-and-only-once</p><p>delivery semantics of PERSISTENT messages. In addition, message consumers</p><p>can insure reliable processing of messages by using either</p><p>CLIENT_ACKNOWLEDGE mode or transacted sessions.</p><p></p><p>SonicMQ</p><p><A HREF="http://www.sonicsoftware.com/cgi-bin/sonic.cgi/download_menu.w">http://www.sonicsoftware.com/cgi-bin/sonic.cgi/download_menu.w</A></p><p><A HREF="http://www.sonicsoftware.com/cgi-bin/sonic.cgi/download_product.w?prodtype=Sonic%20ESB%20Evaluation%20Edition">http://www.sonicsoftware.com/cgi-bin/sonic.cgi/download_product.w?prodtype=Sonic%20ESB%20Evaluation%20Edition</A></p><p></font><font face="Arial" style="font-size:10pt"></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">JRUN<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><li><p></font><font face="Times New Roman" style="font-size:12pt"></font><font face="Times New Roman" style="font-size:10pt">Has Default JMS.</font><font face="Times New Roman" style="font-size:12pt"></p><li><p></font><font face="Times New Roman" style="font-size:10pt">Supports Only one third party JMS by SonicMQ 3.5</p></ul><p></font><font face="Arial" style="font-size:10pt"></p><p></p><li><p>Point-to-Point Programming</p><li><p style="margin-left:40">Queue based</p><li><p style="margin-left:40">Messages are addressed to specific queue</p><li><p style="margin-left:40">Creating and maintaining is costly</p><li><p>Publish/Subscribe </p><li><p style="margin-left:40">Messages are published to topic</p><li><p style="margin-left:40">Topic can be hierarchical</p></ul><p style="margin-left:20"></p><p style="margin-left:20"></p><p style="margin-left:20"></p><p>References</p><p>========</p><p>jrun.xml &amp; jrun-jms.xml =&gt; <A HREF="file:///C:/JRun4/docs/html/JRun_Administrators_Guide/resources3.html#1114197">file:///C:/JRun4/docs/html/JRun_Administrators_Guide/resources3.html#1114197</A></p><p></p><p>jrun startup error: <A HREF="http://webforums.macromedia.com/jrun/messageview.cfm?catid=71&amp;threadid=639918#2495922">http://webforums.macromedia.com/jrun/messageview.cfm?catid=71&amp;threadid=639918#2495922</A></p><p></p><p>Axis Framework <A HREF="http://webforums.macromedia.com/jrun/messageview.cfm?catid=140&amp;threadid=697952">http://webforums.macromedia.com/jrun/messageview.cfm?catid=140&amp;threadid=697952</A></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">SONICMQ<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Merits</p><p>=====</p><li><p>SSL Support</p></ul><p>Configuration Info</p><p>==========</p><p>Domain: fg</p><p>Container: fgcontainer</p><p>broker: fgBK</p></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">REGEX<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Find: <b>([a-z,[A-Z]]*);</p><p></b>ReplaceTo : <b>instrumentDef.set$1\($1\);</p><p></b></p><p>Finds something like,</p><p></p><p>(blank)MarketId;</p><p></p><p>and converts to </p><p></p><p><b>instrumentDef.setMarketId(MarketId);</b></p><p></p><p></p><p>Find: ([a-z,[A-Z]]{3})7   - Seaching for string like ESH7</p><p>Replace:$18                  - replace with ESH8</p><p></p><p></p><p>Tips: </p><p></p><p>\ is escape character</p><p>$1 - gives place holder value in the replace string</p><p>\d - digit</p><p>\w - alphanumeric</p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Concepts<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p align=center><font face="Arial" style="font-size:10pt">#### Metacharacter ####</p><p></p><p>15 Metacharacters - .^$*+?|(){}[]\-</p><p></p><p></font><font face="Arial" style="font-size:12pt">| Metacharacter  |   Name                                                        |   Matches                           |</p><p>| ----------------------| ----------------------------------------------------------------  | ----------------------------------------- |</p><p>|    .                       | dot                                             |  any one character                                              |</p><p>|    [....]                  | character class                        |   any character listed                                            |</p><p>|    [^ ...]                 |                                             |         any character not listed                                      |</p><p>|    ^                      |                                             |            start of the line                                   |</p><p>|     $                    |                                             |           end of the line                                    |</p><p>|     \&lt;                   |     meta sequence                |      the position at the start of the word                                         |</p><p>|      \&gt;                  |     meta sequence                   |      the position at the end of a word                                         |</p><p>|       |                   |                                             |    matches either expression it seprates                                           |</p><p>|       ( )                |                                             |    used to limit scope of |, plus additional uses                                           |</p><p>|                          |                                             |                                               |</p><p></p><p></p><p>? (Question) - Optional  - Example color or colour -&gt; col</p><p>+ (Plus) - one or more</p><p>* (Star) - as many times as possible or nothing</font><font face="Arial" style="font-size:10pt"></p><p></p><p></font><font face="Arial" style="font-size:12pt">### Meta characters have different meaning when they are inside meta class like [.] - here dot is not a metacharacter</p><p></p><p></p><p></p><p>### Alternation</p><p>|  -  Matches either expression</p><p></p><p>(a|b|c)  is different from [abc]   as later matches single character, | matches long alternatives</p><p>|  does not have negation as does []</p><p></p><p>### Grouping</p><p></p><p>() - paranthesis</p><p></p><p>###  Metacharacter</p><p></p><p>###  Quantifiers </p><p></p><p>?  -   Matches character/group maximum once or none if it does not exists</p><p>               Example colou?r Matches color or colour  u is optional</p><p>*  -   (Repitition) Matches character/group minimum zero and maximum unlimited </p><p>+  - (Repitition) Matches character/group  minimum once and maximum unlimited times </p><p></p><p>Example :</p><p></p><p>&lt;HR( +SIZE *= *[0-9]+)? */&gt;</p><p></p><p>Backreferencing</p><p></p><p></p><p></p><p>Regular Expressions :: greedy vs. non-greedy</p><p></p><p>.* vs .*?</p><p></p><p>Example</p><p></p><p> # greedy vs. non-greedy matching</p><p>my $string = 'This string has one dog and another dog';</p><p>     </p><p># .* matches as much as it can (greedy)</p><p>if ($string =~ /^(.*)dog/) {</p><p>          print $1;   # prints 'This string has one dog and another '</p><p>};</p><p>     </p><p># .* matches as little as it needs to yet still match</p><p>    if ($string =~ /^(.*?)dog/) {</p><p>         print $1;   # prints 'This string has one '</p><p>    };</p><p></p><p></p><p></font><font face="Arial" style="font-size:10pt"></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Examples - 1<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">#</p><p># Program to build a regex to match an internet email address,</p><p># from Chapter 7 of _Mastering Regular Expressions_ (Friedl / O'Reilly)</p><p># (http://www.oreilly.com/catalog/regex/)</p><p>#</p><p># Optimized version.</p><p>#</p><p># Copyright 1997 O'Reilly &amp; Associates, Inc.</p><p>#</p><p></p><p></p><p></p><p># Some things for avoiding backslashitis later on.</p><p>$esc        = '\\\\';               $Period      = '\.';</p><p>$space      = '\040';               $tab         = '\t';</p><p>$OpenBR     = '\[';                 $CloseBR     = '\]';</p><p>$OpenParen  = '\(';                 $CloseParen  = '\)';</p><p>$NonASCII   = '\x80-\xff';          $ctrl        = '\000-\037';</p><p>$CRlist     = '\n\015';  # note: this should really be only \015.</p><p></p><p># Items 19, 20, 21</p><p>$qtext = qq/[^$esc$NonASCII$CRlist\&quot;]/;               # for within &quot;...&quot;</p><p>$dtext = qq/[^$esc$NonASCII$CRlist$OpenBR$CloseBR]/;  # for within [...]</p><p>$quoted_pair = qq&lt; $esc [^$NonASCII] &gt;; # an escaped character</p><p></p><p>##############################################################################</p><p># Items 22 and 23, comment.</p><p># Impossible to do properly with a regex, I make do by allowing at most one level of nesting.</p><p>$ctext   = qq&lt; [^$esc$NonASCII$CRlist()] &gt;;</p><p></p><p># $Cnested matches one non-nested comment.</p><p># It is unrolled, with normal of $ctext, special of $quoted_pair.</p><p>$Cnested = qq&lt;</p><p>   $OpenParen                            #  (</p><p>      $ctext*                            #     normal*</p><p>      (?: $quoted_pair $ctext* )*        #     (special normal*)*</p><p>   $CloseParen                           #                       )</p><p>&gt;;</p><p></p><p># $comment allows one level of nested parentheses</p><p># It is unrolled, with normal of $ctext, special of ($quoted_pair|$Cnested)</p><p>$comment = qq&lt;</p><p>   $OpenParen                              #  (</p><p>       $ctext*                             #     normal*</p><p>       (?:                                 #       (</p><p>          (?: $quoted_pair | $Cnested )    #         special</p><p>           $ctext*                         #         normal*</p><p>       )*                                  #            )*</p><p>   $CloseParen                             #                )</p><p>&gt;;</p><p></p><p>##############################################################################</p><p></p><p># $X is optional whitespace/comments.</p><p>$X = qq&lt;</p><p>   [$space$tab]*                    # Nab whitespace.</p><p>   (?: $comment [$space$tab]* )*    # If comment found, allow more spaces.</p><p>&gt;;</p><p></p><p></p><p></p><p># Item 10: atom</p><p>$atom_char   = <A HREF="mailto:qq/[^($space)&lt;&gt;\@,;:\&quot;.$esc$OpenBR$CloseBR$ctrl$NonASCII]/;">qq/[^($space)&lt;&gt;\@,;:\&quot;.$esc$OpenBR$CloseBR$ctrl$NonASCII]/;</A></p><p>$atom = qq&lt;</p><p>  $atom_char+    # some number of atom characters...</p><p>  (?!$atom_char) # ..not followed by something that could be part of an atom</p><p>&gt;;</p><p></p><p># Item 11: doublequoted string, unrolled.</p><p>$quoted_str = qq&lt;</p><p>    \&quot;                                     # &quot;</p><p>       $qtext *                            #   normal</p><p>       (?: $quoted_pair $qtext * )*        #   ( special normal* )*</p><p>    \&quot;                                     #        &quot;</p><p>&gt;;</p><p></p><p># Item 7: word is an atom or quoted string</p><p>$word = qq&lt;</p><p>    (?:</p><p>       $atom                 # Atom</p><p>       |                       #  or</p><p>       $quoted_str           # Quoted string</p><p>     )</p><p>&gt;;</p><p></p><p># Item 12: domain-ref is just an atom</p><p>$domain_ref  = $atom;</p><p></p><p># Item 13: domain-literal is like a quoted string, but [...] instead of  &quot;...&quot;</p><p>$domain_lit  = qq&lt;</p><p>    $OpenBR                            # [</p><p>    (?: $dtext | $quoted_pair )*     #    stuff</p><p>    $CloseBR                           #           ]</p><p>&gt;;</p><p></p><p># Item 9: sub-domain is a domain-ref or domain-literal</p><p>$sub_domain  = qq&lt;</p><p>  (?:</p><p>    $domain_ref</p><p>    |</p><p>    $domain_lit</p><p>   )</p><p>   $X # optional trailing comments</p><p>&gt;;</p><p></p><p># Item 6: domain is a list of subdomains separated by dots.</p><p>$domain = qq&lt;</p><p>     $sub_domain</p><p>     (?:</p><p>        $Period $X $sub_domain</p><p>     )*</p><p>&gt;;</p><p></p><p># Item 8: a route. A bunch of <A HREF="mailto:&quot;@">&quot;@</A> $domain&quot; separated by commas, followed by a colon.</p><p>$route = qq&lt;</p><p>    <A HREF="mailto:\@">\@</A> $X $domain</p><p>    (?: , $X <A HREF="mailto:\@">\@</A> $X $domain )*  # additional domains</p><p>    :</p><p>    $X # optional trailing comments</p><p>&gt;;</p><p></p><p># Item 6: local-part is a bunch of $word separated by periods</p><p>$local_part = qq&lt;</p><p>    $word $X</p><p>    (?:</p><p>        $Period $X $word $X # additional words</p><p>    )*</p><p>&gt;;</p><p></p><p># Item 2: addr-spec is <A HREF="mailto:local@domain">local@domain</A></p><p>$addr_spec  = qq&lt;</p><p>  $local_part <A HREF="mailto:\@">\@</A> $X $domain</p><p>&gt;;</p><p></p><p># Item 4: route-addr is &lt;route? addr-spec&gt;</p><p>$route_addr = qq[</p><p>    &lt; $X                 # &lt;</p><p>       (?: $route )?     #       optional route</p><p>       $addr_spec        #       address spec</p><p>    &gt;                    #                 &gt;</p><p>];</p><p></p><p></p><p># Item 3: phrase........</p><p>$phrase_ctrl = '\000-\010\012-\037'; # like ctrl, but without tab</p><p></p><p># Like atom-char, but without listing space, and uses phrase_ctrl.</p><p># Since the class is negated, this matches the same as atom-char plus space and tab</p><p>$phrase_char =</p><p>   <A HREF="mailto:qq/[^()&lt;&gt;\@,;:\&quot;.$esc$OpenBR$CloseBR$NonASCII$phrase_ctrl]/;">qq/[^()&lt;&gt;\@,;:\&quot;.$esc$OpenBR$CloseBR$NonASCII$phrase_ctrl]/;</A></p><p></p><p># We've worked it so that $word, $comment, and $quoted_str to not consume trailing $X</p><p># because we take care of it manually.</p><p>$phrase = qq&lt;</p><p>   $word                        # leading word</p><p>   $phrase_char *               # &quot;normal&quot; atoms and/or spaces</p><p>   (?:</p><p>      (?: $comment | $quoted_str ) # &quot;special&quot; comment or quoted string</p><p>      $phrase_char *            #  more &quot;normal&quot;</p><p>   )*</p><p>&gt;;</p><p></p><p>## Item #1: mailbox is an addr_spec or a phrase/route_addr</p><p>$mailbox = qq&lt;</p><p>    $X                                  # optional leading comment</p><p>    (?:</p><p>            $addr_spec                  # address</p><p>            |                             #  or</p><p>            $phrase  $route_addr      # name and address</p><p>     )</p><p>&gt;;</p><p></p><p></p><p></p><p>###########################################################################</p><p># Here's a little snippet to test it.</p><p># Addresses given on the commandline are described.</p><p>#</p><p></p><p>my $error = 0;</p><p>my $valid;</p><p>foreach $address <A HREF="mailto:(@ARGV)">(@ARGV)</A> {</p><p>    $valid = $address =~ m/^$mailbox$/xo;</p><p>    printf &quot;`$address' is syntactically %s.\n&quot;, $valid ? &quot;valid&quot; : &quot;invalid&quot;;</p><p>    $error = 1 if not $valid;</p><p>}</p><p>exit $error;</p><p></p><p></p><p></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Examples - 2<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">#</p><p># Program to build a regex to match an internet email address,</p><p># from Chapter 7 of _Mastering Regular Expressions_ (Friedl / O'Reilly)</p><p># (http://www.oreilly.com/catalog/regex/)</p><p>#</p><p># Unoptimized version.</p><p>#</p><p># Copyright 1997 O'Reilly &amp; Associates, Inc.</p><p>#</p><p></p><p></p><p># Some things for avoiding backslashitis later on.</p><p>$esc        = '\\\\';               $Period      = '\.';</p><p>$space      = '\040';               $tab         = '\t';</p><p>$OpenBR     = '\[';                 $CloseBR     = '\]';</p><p>$OpenParen  = '\(';                 $CloseParen  = '\)';</p><p>$NonASCII   = '\x80-\xff';          $ctrl        = '\000-\037';</p><p>$CRlist     = '\n\015';  # note: this should really be only \015.</p><p></p><p></p><p></p><p># Items 19, 20, 21</p><p>$qtext = qq/[^$esc$NonASCII$CRlist\&quot;]/;               # for within &quot;...&quot;</p><p>$dtext = qq/[^$esc$NonASCII$CRlist$OpenBR$CloseBR]/;  # for within [...]</p><p>$quoted_pair = qq&lt; $esc [^$NonASCII] &gt;; # an escaped character</p><p></p><p># Item 10: atom</p><p>$atom_char = <A HREF="mailto:qq/[^($space)&lt;&gt;\@,;:\&quot;.$esc$OpenBR$CloseBR$ctrl$NonASCII]/;">qq/[^($space)&lt;&gt;\@,;:\&quot;.$esc$OpenBR$CloseBR$ctrl$NonASCII]/;</A></p><p>$atom = qq&lt;</p><p>  $atom_char+    # some number of atom characters...</p><p>  (?!$atom_char) # ..not followed by something that could be part of an atom</p><p>&gt;;</p><p></p><p></p><p># Items 22 and 23, comment.</p><p># Impossible to do properly with a regex, I make do by allowing at most one level of nesting.</p><p>$ctext   = qq&lt; [^$esc$NonASCII$CRlist()] &gt;;</p><p>$Cnested = qq&lt; $OpenParen (?: $ctext | $quoted_pair )* $CloseParen &gt;;</p><p>$comment = qq&lt; $OpenParen</p><p>                     (?: $ctext | $quoted_pair | $Cnested )*</p><p>               $CloseParen &gt;;</p><p></p><p>$X       = qq&lt; (?: [$space$tab] | $comment )* &gt;; # optional separator</p><p></p><p></p><p></p><p># Item 11: doublequoted string, with escaped items allowed</p><p>$quoted_str = qq&lt;</p><p>        \&quot; (?:                      # opening quote...</p><p>              $qtext                #   Anything except backslash and quote</p><p>              |                     #    or</p><p>              $quoted_pair          #   Escaped something (something != CR)</p><p>                             )* \&quot;  # closing quote</p><p>&gt;;</p><p></p><p># Item 7: word is an atom or quoted string</p><p>$word = qq&lt; (?: $atom | $quoted_str ) &gt;;</p><p></p><p># Item 12: domain-ref is just an atom</p><p>$domain_ref = $atom;</p><p></p><p># Item 13 domain-literal is like a quoted string, but [...] instead of &quot;...&quot;</p><p>$domain_lit = qq&lt;  $OpenBR                         # [</p><p>                   (?: $dtext | $quoted_pair )*    #    stuff</p><p>                   $CloseBR                        #           ]</p><p>&gt;;</p><p></p><p># Item 9: sub-domain is a domain-ref or domain-literal</p><p>$sub_domain = qq&lt; (?: $domain_ref | $domain_lit ) &gt;;</p><p></p><p></p><p></p><p></p><p># Item 6: domain is a list of subdomains separated by dots.</p><p>$domain = qq&lt; $sub_domain                          # initial subdomain</p><p>              (?:                                  #</p><p>                 $X $Period                        # if led by a period...</p><p>                 $X $sub_domain                    #   ...further okay</p><p>              )*</p><p>&gt;;</p><p></p><p># Item 8: a route. A bunch of <A HREF="mailto:&quot;@">&quot;@</A> $domain&quot; separated by commas, followed by a colon</p><p>$route = qq&lt; <A HREF="mailto:\@">\@</A> $X $domain</p><p>             (?: $X , $X <A HREF="mailto:\@">\@</A> $X $domain )* # further okay, if led by comma</p><p>         :                                # closing colon</p><p>&gt;;</p><p></p><p></p><p># Item 5: local-part is a bunch of $word separated by periods</p><p>$local_part = qq&lt; $word                   # initial word</p><p>        (?: $X $Period $X $word )*        # further okay, if led by a period</p><p>&gt;;</p><p></p><p># Item 2: addr-spec is <A HREF="mailto:local@domain">local@domain</A></p><p>$addr_spec  = qq&lt; $local_part $X <A HREF="mailto:\@">\@</A> $X $domain &gt;;</p><p></p><p># Item 4: route-addr is  &lt;route? addr-spec&gt;</p><p>$route_addr = qq[ &lt; $X                    # leading &lt;</p><p>                    (?: $route $X )?      #       optional route</p><p>                        $addr_spec        #       address spec</p><p>                                    $X &gt;  #                  trailing &gt;</p><p>];</p><p></p><p></p><p># Item 3: phrase</p><p>$phrase_ctrl = '\000-\010\012-\037'; # like ctrl, but without tab</p><p></p><p># Like atom-char, but without listing space, and uses phrase_ctrl.</p><p># Since the class is negated, this matches the same as atom-char plus space and tab</p><p>$phrase_char =</p><p>   <A HREF="mailto:qq/[^()&lt;&gt;\@,;:\&quot;.$esc$OpenBR$CloseBR$NonASCII$phrase_ctrl]/;">qq/[^()&lt;&gt;\@,;:\&quot;.$esc$OpenBR$CloseBR$NonASCII$phrase_ctrl]/;</A></p><p></p><p>$phrase = qq&lt; $word            # one word, optionally followed by....</p><p>              (?:</p><p>                  $phrase_char  |  # atom and space parts, or...</p><p>                  $comment      |  # comments, or...</p><p>                  $quoted_str      # quoted strings</p><p>              )*</p><p>&gt;;</p><p></p><p></p><p></p><p></p><p># Item #1: mailbox is an addr_spec or a phrase/route_addr</p><p>$mailbox = qq&lt; $X                         # optional leading comment</p><p>                (?: $addr_spec            # address</p><p>                    |                     #  or</p><p>                    $phrase  $route_addr  # name and address</p><p>                ) $X                      # optional trailing comment</p><p>&gt;;</p><p></p><p></p><p></p><p></p><p>###########################################################################</p><p># Here's a little snippet to test it.</p><p># Addresses given on the commandline are described.</p><p>#</p><p></p><p>my $error = 0;</p><p>my $valid;</p><p>foreach $address <A HREF="mailto:(@ARGV)">(@ARGV)</A> {</p><p>    $valid = $address =~ m/^$mailbox$/xo;</p><p>    printf &quot;`$address' is syntactically %s.\n&quot;, $valid ? &quot;valid&quot; : &quot;invalid&quot;;</p><p>    $error = 1 if not $valid;</p><p>}</p><p>exit $error;</p><p></p><p></p><p></p></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Eclipse<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Ctrl-Alt-J - Joining lines</p><p>Ctrl-D - Delete a line</p><p>Ctrl-Shift-R -&gt; Open class/file</p><p>Ctrl-M -&gt; Expand Window</p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Plugins<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"><A HREF="http://metrics.sourceforge.net/">http://metrics.sourceforge.net/</A></p><p></p><p></p></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Java<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">JVM tuning <A HREF="http://www.jivesoftware.com/community/docs/DOC-1486">http://www.jivesoftware.com/community/docs/DOC-1486</A></p><p><A HREF="http://www.ibm.com/developerworks/library/j-perf06304/">http://www.ibm.com/developerworks/library/j-perf06304/</A></p><p>VM Settings <A HREF="http://java.sun.com/javase/technologies/hotspot/vmoptions.jsp">http://java.sun.com/javase/technologies/hotspot/vmoptions.jsp</A></p><p></p><p></p><li><p>start javaw -jar myjar.jar</p><li><p>Assuming your java app is contained in a Jar file named myjar.jar, with a main class attribute in the manifest, so you can run your app with a java -jar myjar.jar command, try this.</p></ul><p></p><p>   Create a Windows shortcut. The &quot;Start In&quot; should be the working directory you want your app to start in, ie, the &quot;top level&quot; directory of your app.</p><p>   The &quot;Target&quot; then becomes &quot;javaw -jar myjar.jar&quot;.</p><p></p><p>  When you double-click the shortcut, his will start your app with javaw and won't launch an external command window.</p><p></p><p></p><p></p><p></p><p></p><p></p><p></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">JVM<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><b><font face="Arial" style="font-size:10pt"></p><p>Tuning</p><p></b></p><p><i>Memory</i> -Xms256m -Xmx1500m -XX:PermSize=64m -XX:MaxPermSize=128m </p><p><i>GC</i>  -XX:+UseParNewGC  -Dsun.rmi.dgc.client.gcInterval=3600000 -Dsun.rmi.dgc.server.gcInterval=3600000</p><p><b>-Djava.net.preferIPv4Stack=true</p><p></b></p><p></p><p></p><p></font><font face="Times New Roman" style="font-size:10pt"></font><font face="Times New Roman" style="font-size:12pt">The options below are loosely grouped into three categories. </p><li><p style="margin-left:52"></font><font face="Symbol" color="#0000FF" style="font-size:12pt"><u>Behavioral options</font><font face="Symbol" color="#000000" style="font-size:12pt"></u> change the basic behavior of the VM. </p><li><p style="margin-left:52"></font><font face="Symbol" color="#0000FF" style="font-size:12pt"><u>Performance tuning</font><font face="Symbol" color="#000000" style="font-size:12pt"></u> options are knobs which can be used to tune VM performance. </p><li><p style="margin-left:52"></font><font face="Symbol" color="#0000FF" style="font-size:12pt"><u>Debugging options</font><font face="Symbol" color="#000000" style="font-size:12pt"></u> generally enable tracing, printing, or output of VM information.</p></ul><p></p><p><b>Behavioral Options</p><p>Option and Default Value Description</b>-XX:-AllowUserSignalHandlersDo not complain if the application installs signal handlers. (Relevant to Solaris and Linux only.)  -XX:AltStackSize=16384Alternate signal stack size (in Kbytes). (Relevant to Solaris only, removed from 5.0.)  -XX:-DisableExplicitGCDisable calls to System.gc(), JVM still performs garbage collection when necessary.  -XX:+FailOverToOldVerifierFail over to old verifier when the new type checker fails. (Introduced in 6.)  -XX:+HandlePromotionFailureThe youngest generation collection does not require a guarantee of full promotion of all live objects. (Introduced in 1.4.2 update 11) [5.0 and earlier: false.]  -XX:+MaxFDLimitBump the number of file descriptors to max. (Relevant to Solaris only.)  -XX:PreBlockSpin=10Spin count variable for use with -XX:+UseSpinning. Controls the maximum spin iterations allowed before entering operating system thread synchronization code. (Introduced in 1.4.2.)  -XX:-RelaxAccessControlCheckRelax the access control checks in the verifier. (Introduced in 6.)  -XX:+ScavengeBeforeFullGCDo young generation GC prior to a full GC. (Introduced in 1.4.1.)  -XX:+UseAltSigsUse alternate signals instead of SIGUSR1 and SIGUSR2 for VM internal signals. (Introduced in 1.3.1 update 9, 1.4.1. Relevant to Solaris only.)  -XX:+UseBoundThreadsBind user level threads to kernel threads. (Relevant to Solaris only.)  -XX:-UseConcMarkSweepGCUse concurrent mark-sweep collection for the old generation. (Introduced in 1.4.1)  -XX:+UseGCOverheadLimitUse a policy that limits the proportion of the VM's time that is spent in GC before an OutOfMemory error is thrown. (Introduced in 6.)  -XX:+UseLWPSynchronizationUse LWP-based instead of thread based synchronization. (Introduced in 1.4.0. Relevant to Solaris only.)  -XX:-UseParallelGCUse parallel garbage collection for scavenges. (Introduced in 1.4.1)  -XX:-UseParallelOldGCUse parallel garbage collection for the full collections. Enabling this option automatically sets -XX:+UseParallelGC. (Introduced in 5.0 update 6.)  -XX:-UseSerialGCUse serial garbage collection. (Introduced in 5.0.)  -XX:-UseSpinningEnable naive spinning on Java monitor before entering operating system thread synchronizaton code. (Relevant to 1.4.2 and 5.0 only.) [1.4.2, multi-processor Windows platforms: true]  -XX:+UseTLABUse thread-local object allocation (Introduced in 1.4.0, known as UseTLE prior to that.) [1.4.2 and earlier, x86 or with -client: false]  -XX:+UseSplitVerifierUse the new type checker with StackMapTable attributes. (Introduced in 5.0.)[5.0: false]  -XX:+UseThreadPrioritiesUse native thread priorities.  -XX:+UseVMInterruptibleIOThread interrupt before or with EINTR for I/O operations results in OS_INTRPT. (Introduced in 6. Relevant to Solaris only.)  <br></font><font face="Symbol" color="#0000FF" style="font-size:12pt"><u>Back to Options</font><font face="Symbol" color="#000000" style="font-size:12pt"></u><br></p><p></p><p><b>Performance Options</p><p>Option and Default Value Description</b>-XX:+AggressiveOptsTurn on point performance compiler optimizations that are expected to be default in upcoming releases. (Introduced in 5.0 update 6.)  -XX:CompileThreshold=10000Number of method invocations/branches before compiling [-client: 1,500]  -XX:LargePageSizeInBytes=4mSets the large page size used for the Java heap. (Introduced in 1.4.0 update 1.) [amd64: 2m.]  -XX:MaxHeapFreeRatio=70Maximum percentage of heap free after GC to avoid shrinking.  -XX:MaxNewSize=sizeMaximum size of new generation (in bytes). Since 1.4, MaxNewSize is computed as a function of NewRatio. [1.3.1 Sparc: 32m; 1.3.1 x86: 2.5m.]  -XX:MaxPermSize=64mSize of the Permanent Generation. [5.0 and newer: 64 bit VMs are scaled 30% larger; 1.4 amd64: 96m; 1.3.1 -client: 32m.]  -XX:MinHeapFreeRatio=40Minimum percentage of heap free after GC to avoid expansion.  -XX:NewRatio=2Ratio of new/old generation sizes. [Sparc -client: 8; x86 -server: 8; x86 -client: 12.]-client: 4 (1.3) 8 (1.3.1+), x86: 12]  -XX:NewSize=2.125mDefault size of new generation (in bytes) [5.0 and newer: 64 bit VMs are scaled 30% larger; x86: 1m; x86, 5.0 and older: 640k]  -XX:ReservedCodeCacheSize=32mReserved code cache size (in bytes) - maximum code cache size. [Solaris 64-bit, amd64, and -server x86: 48m; in 1.5.0_06 and earlier, Solaris 64-bit and and64: 1024m.]  -XX:SurvivorRatio=8Ratio of eden/survivor space size [Solaris amd64: 6; Sparc in 1.3.1: 25; other Solaris platforms in 5.0 and earlier: 32]  -XX:TargetSurvivorRatio=50Desired percentage of survivor space used after scavenge.  -XX:ThreadStackSize=512Thread Stack Size (in Kbytes). (0 means use default stack size) [Sparc: 512; Solaris x86: 320 (was 256 prior in 5.0 and earlier); Sparc 64 bit: 1024; Linux amd64: 1024 (was 0 in 5.0 and earlier); all others 0.]  -XX:+UseBiasedLockingEnable biased locking. For more details, see this </font><font face="Symbol" color="#0000FF" style="font-size:12pt"><u>tuning example &lt;/performance/reference/whitepapers/tuning.html&gt;</font><font face="Symbol" color="#000000" style="font-size:12pt"></u>. (Introduced in 5.0 update 6.) [5.0: false]  -XX:+UseFastAccessorMethodsUse optimized versions of Get&lt;Primitive&gt;Field.  -XX:-UseISMUse Intimate Shared Memory. [Not accepted for non-Solaris platforms.] For details, see </font><font face="Symbol" color="#0000FF" style="font-size:12pt"><u>Intimate Shared Memory &lt;/docs/hotspot/ism.html&gt;</font><font face="Symbol" color="#000000" style="font-size:12pt"></u>.  -XX:+UseLargePagesUse large page memory. (Introduced in 5.0 update 5.) For details, see </font><font face="Symbol" color="#0000FF" style="font-size:12pt"><u>Java Support for Large Memory Pages &lt;/javase/technologies/hotspot/largememory.jsp&gt;</font><font face="Symbol" color="#000000" style="font-size:12pt"></u>.  -XX:+UseMPSSUse Multiple Page Size Support w/4mb pages for the heap. Do not use with ISM as this replaces the need for ISM. (Introduced in 1.4.0 update 1, Relevant to Solaris 9 and newer.) [1.4.1 and earlier: false]  -XX:+StringCacheEnables caching of commonly allocated strings.  -XX:AllocatePrefetchLines=1Number of cache lines to load after the last object allocation using prefetch instructions generated in JIT compiled code. Default values are 1 if the last allocated object was an instance and 3 if it was an array.   -XX:AllocatePrefetchStyle=1Generated code style for prefetch instructions. 0 - no prefetch instructions are generate*d*, 1 - execute prefetch instructions after each allocation, 2 - use TLAB allocation watermark pointer to gate when prefetch instructions are executed.  <br></font><font face="Symbol" color="#0000FF" style="font-size:12pt"><u>Back to Options</font><font face="Symbol" color="#000000" style="font-size:12pt"></u><br></p><p></p><p><b>Debugging Options</p><p>Option and Default Value Description</b>-XX:-CITimePrints time spent in JIT Compiler. (Introduced in 1.4.0.)  -XX:ErrorFile=./hs_err_pid&lt;pid&gt;.logIf an error occurs, save the error data to this file. (Introduced in 6.)  -XX:-ExtendedDTraceProbesEnable performance-impacting </font><font face="Symbol" color="#0000FF" style="font-size:12pt"><u>dtrace &lt;/javase/6/docs/technotes/guides/vm/dtrace.html&gt;</font><font face="Symbol" color="#000000" style="font-size:12pt"></u> probes. (Introduced in 6. Relevant to Solaris only.)  -XX:HeapDumpPath=./java_pid&lt;pid&gt;.hprofPath to directory or filename for heap dump. <i>Manageable</i>. (Introduced in 1.4.2 update 12, 5.0 update 7.)  -XX:-HeapDumpOnOutOfMemoryErrorDump heap to file when java.lang.OutOfMemoryError is thrown. <i>Manageable</i>. (Introduced in 1.4.2 update 12, 5.0 update 7.)  -XX:OnError=&quot;&lt;cmd args&gt;;&lt;cmd args&gt;&quot;Run user-defined commands on fatal error. (Introduced in 1.4.2 update 9.)  -XX:OnOutOfMemoryError=&quot;&lt;cmd args&gt;; &lt;cmd args&gt;&quot;Run user-defined commands when an OutOfMemoryError is first thrown. (Introduced in 1.4.2 update 12, 6)  -XX:-PrintClassHistogramPrint a histogram of class instances on Ctrl-Break. <i>Manageable</i>. (Introduced in 1.4.2.) The </font><font face="Symbol" color="#0000FF" style="font-size:12pt"><u>jmap -histo &lt;/javase/6/docs/technotes/tools/share/jmap.html&gt;</font><font face="Symbol" color="#000000" style="font-size:12pt"></u> command provides equivalent functionality.  -XX:-PrintConcurrentLocksPrint java.util.concurrent locks in Ctrl-Break thread dump. <i>Manageable</i>. (Introduced in 6.) The </font><font face="Symbol" color="#0000FF" style="font-size:12pt"><u>jstack -l &lt;/javase/6/docs/technotes/tools/share/jstack.html&gt;</font><font face="Symbol" color="#000000" style="font-size:12pt"></u> command provides equivalent functionality.  -XX:-PrintCommandLineFlagsPrint flags that appeared on the command line. (Introduced in 5.0.)  -XX:-PrintCompilationPrint message when a method is compiled.  -XX:-PrintGCPrint messages at garbage collection. <i>Manageable</i>.   -XX:-PrintGCDetailsPrint more details at garbage collection. <i>Manageable</i>. (Introduced in 1.4.0.)  -XX:-PrintGCTimeStampsPrint timestamps at garbage collection. <i>Manageable</i> (Introduced in 1.4.0.)  -XX:-PrintTenuringDistributionPrint tenuring age information.  -XX:-TraceClassLoadingTrace loading of classes.  -XX:-TraceClassLoadingPreorderTrace all classes loaded in order referenced (not loaded). (Introduced in 1.4.2.)  -XX:-TraceClassResolutionTrace constant pool resolutions. (Introduced in 1.4.2.)  -XX:-TraceClassUnloadingTrace unloading of classes.  -XX:-TraceLoaderConstraintsTrace recording of loader constraints. (Introduced in 6.)  -XX:+PerfSaveDataToFileSaves jvmstat binary data on exit. &lt;BR?</p><p></font><font face="Arial" color="#000000" style="font-size:12pt"></font><font face="Arial" color="#000000" style="font-size:10pt"></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">JNI<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">java -Djava.library.path=&quot;C:\Documents and Settings\sramakrishnaiah\My Documents\Visual Studio 2008\Projects\JVMBridge\Debug&quot; -verbose:jni</p><p>java -Djava.library.path=&quot;C:\ath\projects\RTDServer\Debug&quot; com.tools.excel.ACTExcelServer 10</p><p></p><p>From C/C++ Specify classpath in order, i.e dependency classe path must be specified first, Class A depends on Class B then Class B Jar path must be specified first</p><p>-Djava.class.path=C:/ath/projects/JNIProject/cfg;C:/ath/projects/actrader/client/build/client-lib-all.jar;C:/ath/projects/JNIProject/bin;</p><p></p><p>javah -jni -classpath ./bin com.th.actrader.client.excel.rtd.JvmMain</p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Performance<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Look at Tools node on the left for using the tools to detect the problems</p><p></p><p><A HREF="http://onjava.com/onjava/2006/11/01/scaling-enterprise-java-on-64-bit-multi-core.html">http://onjava.com/onjava/2006/11/01/scaling-enterprise-java-on-64-bit-multi-core.html</A></p><p><A HREF="http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html#PerformanceTuning">http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html#PerformanceTuning</A></p><p><A HREF="http://skillsmatter.com/podcast/java-jee/making-every-millisecond-count-jvm-performance-tuning-in-the-real-world">http://skillsmatter.com/podcast/java-jee/making-every-millisecond-count-jvm-performance-tuning-in-the-real-world</A></p><p></p><p><u><b>Usefull Hotspot Options</p><p></u></b>-XX:CompileThreshold=1  -  forces the code to be compiled at first execution to native</p><p></p><p><u><b>minimize the GC pause</p><p></u></b>you can use the -XX:+UseConcMarkSweepGC flag to turn on the concurrent GC. The concurrent GC still pauses the JVM and uses parallel GC to clean up short-lived objects. However, it cleans up long-lived objects from the heap using a background thread running in parallel with other JVM threads. The concurrent GC drastically reduces the GC pause, but managing the background thread does add to the overhead of the system and reduces the total throughput</p><p></p><p><u><b>Thread Stack On 64-bit systems</u></p><p></b>the call stack for each thread is allocated 1MB of memory space. Most threads do not use that much space. Using the <b>-XX:ThreadStackSize=256k </b>flag, you can decrease the stack size to 256k to allow more threads</p><p></p><p><u><b>Disable GC</u></b></p><p>Use the <b>-XX:+DisableExplicitGC </b>flag to ignore explicit application calls to System.gc(). If the application calls this method frequently, then we could be doing a lot of unnecessary GCs</p><p></p><p><u><b>Increase Young Generation</p><p></u></b>The -Xmn&lt;size&gt; flag lets you manually set the size of the &quot;young generation&quot; memory space for short-lived objects. If your application generates lots of new objects, you might improve GCs dramatically by increasing this value. The &quot;young generation&quot; size should almost <b>never be more than 50% of heap<u></p><p></u></b></p><p></p><p><u><b>Use NIO</p><p></p><p></u></b>The NIO (New I/O) library was introduced in JDK 1.4. It allows multiple threads to share one physical connection (e.g., a socket) to the hard disk or network. A thread no<b> longer needs to block the I/O socket to read or write data</b>. Using NIO, we can greatly reduce the thread waiting time caused by a limited number of blocked sockets. The NIO is especially useful in multi-CPU computers where CPUs often wait on the I/O, and where there are many threads</p><p></p><p><b>Upgrade older applications to use the concurrency, NIO, and logging APIs</p></b></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">PageSize<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"><A HREF="http://www.oracle.com/technetwork/java/javase/tech/largememory-jsp-137182.html">http://www.oracle.com/technetwork/java/javase/tech/largememory-jsp-137182.html</A></p><p><A HREF="http://www.pythian.com/news/1326/performance-tuning-hugepages-in-linux/">http://www.pythian.com/news/1326/performance-tuning-hugepages-in-linux/</A></p><p></p><p><A HREF="http://andrigoss.blogspot.com/2008/02/jvm-performance-tuning.html">http://andrigoss.blogspot.com/2008/02/jvm-performance-tuning.html</A></p><p></p><p>- Current Page Settings</p><p># cat /proc/meminfo | grep Huge </p><p>HugePages_Total: 0 </p><p>HugePages_Free: 0 </p><p>Hugepagesize: 2048 kB </p><p></p><p>- Current Shared Memory Size</p><p> cat /proc/sys/kernel/shmmax</p><p> 68719476736</p><p></p><p></p><p>- Current Number of Pages </p><p>0</p><p></p><p>- New Number of Pages  </p><p>6871 947 6736  (6 GB)</p><p>2048k = 6 x 1024m = 6144 * 1024 k = 6291456/2048 = 3072</p><p></p><p>Temporary until reboot</p><p><b>echo 3072 &gt; /proc/sys/vm/nr_hugepages </p><p></b></p><p>or Permanent</p><p> vi /etc/sysctl.conf</p><p><b> echo 3072 &gt; /proc/sys/vm/nr_hugepages</p><p></b></p><p>--Document</p><p>Increase SHMMAX value. It must be larger than the Java heap size. On a system with 4 GB of physical RAM (or less) the following will make all the memory sharable: </p><p># echo 4294967295 &gt; /proc/sys/kernel/shmmax </p><p>Specify the number of large pages. In the following example 3 GB of a 4 GB system are reserved for large pages (assuming a large page size of 2048k, then 3g = 3 x 1024m = 3072m = 3072 * 1024k = 3145728k, and 3145728k / 2048k = 1536): </p><p># echo 1536 &gt; /proc/sys/vm/nr_hugepages </p><p></p><p></p><p></p><p></p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Notes<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">CPU bound</p><p>Memory bound</p><p>Synchronization bound</p><p>IO bound (including network)</p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Java7<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Java 7 has 15% improvements</p><p> Tall-call optimization</p><p> G1 by default</p><p> Escape Analysis by defaults</p><p> continued incremental improvements</p><p> improvements from non-java languages</p><p> JIT Friendsly`</p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">JVMPerformanceOptions<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><u><b><font face="Arial" style="font-size:10pt">Performance Options</u></b></p><p></p><p>Option and Default Value </p><p>Description</p><p>-XX:+AggressiveOpts	Turn on point performance compiler optimizations that are expected to be default in upcoming releases. (Introduced in 5.0 update 6.) </p><p></p><p>-XX:CompileThreshold=10000	Number of method invocations/branches before compiling [-client: 1,500] </p><p></p><p>-XX:LargePageSizeInBytes=4m	Sets the large page size used for the Java heap. (Introduced in 1.4.0 update 1.) [amd64: 2m.] </p><p></p><p>-XX:MaxHeapFreeRatio=70	Maximum percentage of heap free after GC to avoid shrinking. </p><p></p><p>-XX:MaxNewSize=size	Maximum size of new generation (in bytes). Since 1.4, MaxNewSize is computed as a function of NewRatio. [1.3.1 Sparc: 32m; 1.3.1 x86: 2.5m.] </p><p></p><p>-XX:MaxPermSize=64m	Size of the Permanent Generation.  [5.0 and newer: 64 bit VMs are scaled 30% larger; 1.4 amd64: 96m; 1.3.1 -client: 32m.] </p><p></p><p>-XX:MinHeapFreeRatio=40	Minimum percentage of heap free after GC to avoid expansion. </p><p></p><p>-XX:NewRatio=2	Ratio of new/old generation sizes. [Sparc -client: 8; x86 -server: 8; x86 -client: 12.]-client: 4 (1.3) 8 (1.3.1+), x86: 12] </p><p></p><p>-XX:NewSize=2.125m	Default size of new generation (in bytes) [5.0 and newer: 64 bit VMs are scaled 30% larger; x86: 1m; x86, 5.0 and older: 640k] </p><p></p><p>-XX:ReservedCodeCacheSize=32m	Reserved code cache size (in bytes) - maximum code cache size. [Solaris 64-bit, amd64, and -server x86: 48m; in 1.5.0_06 and earlier, Solaris 64-bit and and64: 1024m.] </p><p></p><p>-XX:SurvivorRatio=8	Ratio of eden/survivor space size [Solaris amd64: 6; Sparc in 1.3.1: 25; other Solaris platforms in 5.0 and earlier: 32] </p><p></p><p>-XX:TargetSurvivorRatio=50	Desired percentage of survivor space used after scavenge. </p><p></p><p>-XX:ThreadStackSize=512	Thread Stack Size (in Kbytes). (0 means use default stack size) [Sparc: 512; Solaris x86: 320 (was 256 prior in 5.0 and earlier); Sparc 64 bit: 1024; Linux amd64: 1024 (was 0 in 5.0 and earlier); all others 0.] </p><p></p><p>-XX:+UseBiasedLocking	Enable biased locking. For more details, see this tuning example. (Introduced in 5.0 update 6.) [5.0: false] </p><p></p><p>-XX:+UseFastAccessorMethods	Use optimized versions of Get&lt;Primitive&gt;Field. </p><p></p><p>-XX:-UseISM	Use Intimate Shared Memory. [Not accepted for non-Solaris platforms.] For details, see Intimate Shared Memory. </p><p></p><p>-XX:+UseLargePages	Use large page memory. (Introduced in 5.0 update 5.) For details, see Java Support for Large Memory Pages.</p><p></p><p>-XX:+UseMPSS	Use Multiple Page Size Support w/4mb pages for the heap. Do not use with ISM as this replaces the need for ISM. (Introduced in 1.4.0 update 1, Relevant to Solaris 9 and newer.) [1.4.1 and earlier: false] </p><p></p><p>-XX:+StringCache	Enables caching of commonly allocated strings. </p><p></p><p>-XX:AllocatePrefetchLines=1	Number of cache lines to load after the last object allocation using prefetch instructions generated in JIT compiled code. Default values are 1 if the last allocated object was an instance and 3 if it was an array. </p><p></p><p>-XX:AllocatePrefetchStyle=1	Generated code style for prefetch instructions. </p><p>0 - no prefetch instructions are generate*d*, </p><p>1 - execute prefetch instructions after each allocation, </p><p>2 - use TLAB allocation watermark pointer to gate when prefetch instructions are executed. </p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">JVMBehavioral<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><u><b><font face="Arial" style="font-size:10pt">Behavioral Options</u></b></p><p></p><p>Option and Default Value </p><p>Description</p><p>-XX:-AllowUserSignalHandlers	Do not complain if the application installs signal handlers. (Relevant to Solaris and Linux only.) </p><p></p><p>-XX:AltStackSize=16384	Alternate signal stack size (in Kbytes). (Relevant to Solaris only, removed from 5.0.) </p><p></p><p>-XX:-DisableExplicitGC	Disable calls to System.gc(), JVM still performs garbage collection when necessary. </p><p></p><p>-XX:+FailOverToOldVerifier	Fail over to old verifier when the new type checker fails. (Introduced in 6.) </p><p></p><p>-XX:+HandlePromotionFailure	The youngest generation collection does not require a guarantee of full promotion of all live objects. (Introduced in 1.4.2 update 11) [5.0 and earlier: false.] </p><p></p><p>-XX:+MaxFDLimit	Bump the number of file descriptors to max. (Relevant  to Solaris only.) </p><p></p><p>-XX:PreBlockSpin=10	Spin count variable for use with -XX:+UseSpinning. Controls the maximum spin iterations allowed before entering operating system thread synchronization code. (Introduced in 1.4.2.) </p><p></p><p>-XX:-RelaxAccessControlCheck	Relax the access control checks in the verifier. (Introduced in 6.) </p><p></p><p>-XX:+ScavengeBeforeFullGC	Do young generation GC prior to a full GC. (Introduced in 1.4.1.) </p><p></p><p>-XX:+UseAltSigs	Use alternate signals instead of SIGUSR1 and SIGUSR2 for VM internal signals. (Introduced in 1.3.1 update 9, 1.4.1. Relevant to Solaris only.) </p><p></p><p>-XX:+UseBoundThreads	Bind user level threads to kernel threads. (Relevant to Solaris only.) </p><p></p><p>-XX:-UseConcMarkSweepGC	Use concurrent mark-sweep collection for the old generation. (Introduced in 1.4.1) </p><p></p><p>-XX:+UseGCOverheadLimit	Use a policy that limits the proportion of the VM's time that is spent in GC before an OutOfMemory error is thrown. (Introduced in 6.) </p><p></p><p>-XX:+UseLWPSynchronization	Use LWP-based instead of thread based synchronization. (Introduced in 1.4.0. Relevant to Solaris only.) </p><p></p><p>-XX:-UseParallelGC	Use parallel garbage collection for scavenges. (Introduced in 1.4.1) </p><p></p><p>-XX:-UseParallelOldGC	Use parallel garbage collection for the full collections. Enabling this option automatically sets -XX:+UseParallelGC. (Introduced in 5.0 update 6.) </p><p></p><p>-XX:-UseSerialGC	Use serial garbage collection. (Introduced in 5.0.) </p><p></p><p>-XX:-UseSpinning	Enable naive spinning on Java monitor before entering operating system thread synchronizaton code. (Relevant to 1.4.2 and 5.0 only.) [1.4.2, multi-processor Windows platforms: true] </p><p></p><p>-XX:+UseTLAB	Use thread-local object allocation (Introduced in 1.4.0, known as UseTLE prior to that.) [1.4.2 and earlier, x86 or with -client: false] </p><p></p><p>-XX:+UseSplitVerifier	Use the new type checker with StackMapTable attributes. (Introduced in 5.0.)[5.0: false] </p><p></p><p>-XX:+UseThreadPriorities	Use native thread priorities. </p><p></p><p>-XX:+UseVMInterruptibleIO	Thread interrupt before or with EINTR for I/O operations results in OS_INTRPT. (Introduced in 6. Relevant to Solaris only.) </p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Threads<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><li><p></font><font face="Symbol" style="font-size:10pt">Parent Thread</p></ul><p>top -p  to Filter only parent thread</p><p></p><li><p>Get all child pids (threads) for parent </p></ul><p></p><p>pstree -p 28445</p><p></p><li><p>Nice Format</p></ul><p>pstree -p $pid | tr &quot;\n&quot; &quot; &quot; |sed &quot;s/[^0-9]/ /g&quot; |sed &quot;s/\s\s*/ /g&quot; | tr &quot; &quot; &quot;\n&quot;</p><p></p><p></p><p></p><p><A HREF="https://gist.github.com/rednaxelafx/843622">https://gist.github.com/rednaxelafx/843622</A></p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">CPU<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">ThreadMXBean</p><p>jvmtop.bat</p><p></p><p></p><p><A HREF="http://www.javamex.com/tutorials/profiling/profiling_java5_threads_howto.shtml">http://www.javamex.com/tutorials/profiling/profiling_java5_threads_howto.shtml</A></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Remote Debugging<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"></p><p><b>Specify the following to the JVM</p><p></b></p><p>-classic -Xdebug -Xnoagent -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,address=5005,server=y,suspend=n</p><p></p><p>Connect Eclipse Remote Debug to port 5005 and start debugging</p><p></p><p></p><p></p><p><b>Debugging</b></p><p>rem JPDA options. Uncomment and modify as appropriate to enable remote debugging.</p><p>rem set JAVA_OPTS=-Xdebug -Xrunjdwp:transport=dt_socket,address=8787,server=y,suspend=y %JAVA_OPTS%</p><p>REM GC LOGGING, HEAP DUMP ON OUT OF MEMORY</p><p>REM set JAVA_OPTS=-Xloggc:C:\Development\gltech\actrader\gc.log -Xdebug -Xnoagent -XX:MaxPermSize=128m -XX:-HeapDumpOnOutOfMemoryError -XX:ErrorFile=C:\Development\gltech\actrader\error.log -XX:HeapDumpPath=C:\Development\gltech\actrader\.hprof -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=5005 %JAVA_OPTS%</p><p>REM set JAVA_OPTS=-Xdebug -Xnoagent  -XX:MaxPermSize=128m -XX:+UseParNewGC -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=5005 %JAVA_OPTS%</p><p>REM set JAVA_OPTS= -agentlib:hprof=file=c:\hprof.log -XX:MaxPermSize=128m %JAVA_OPTS%</p><p></p><p></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Tools<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Code Review Tools</p><p></p><p><A HREF="http://www.ibm.com/developerworks/opensource/library/os-toolset/index.html?S_TACT=105AGX54&amp;S_CMP=D0225&amp;ca=dnw-1108&amp;ca=dth-o#resources">http://www.ibm.com/developerworks/opensource/library/os-toolset/index.html?S_TACT=105AGX54&amp;S_CMP=D0225&amp;ca=dnw-1108&amp;ca=dth-o#resources</A></p><p></p><p>Design Pattern Tools</p><p></p><p><A HREF="http://java.uom.gr/~nikos/pattern-detection.html#JUnit">http://java.uom.gr/~nikos/pattern-detection.html#JUnit</A></p><p></p><p><A HREF="http://www.utdallas.edu/~yxz045100/DesignPattern/DP_Miner/">http://www.utdallas.edu/~yxz045100/DesignPattern/DP_Miner/</A></p><p></p><p><A HREF="http://www.sesa.dmi.unisa.it/dpr/">http://www.sesa.dmi.unisa.it/dpr/</A></p><p></p><p></p><p></p><p></p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">jmap - Heap Dump<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Taking Thread Dump (Simple and Custom)</p><p></p><p>jmap -dump:format=b,file=heap.bin 8976</p><p></p><p></p><p></font><font face="Arial" color="#1F497D" style="font-size:10pt"></font><font face="Calibri" color="#1F497D" style="font-size:10pt"></font><font face="Calibri" color="#1F497D" style="font-size:11pt">jmap -F -J-<span style="background-color: #FFFF00">Xmx512M</span><span style="background-color: #FFFFFF"> -J-</span><span style="background-color: #FFFF00">Xms512</span><span style="background-color: #FFFFFF">M -dump:live,format=b,file=</span><span style="background-color: #FFFF00">c:\heap.bin</span><span style="background-color: #FFFFFF"> &lt;PID&gt;</font><font face="Calibri" color="#000000" style="font-size:11pt"></font><font face="Arial" color="#000000" style="font-size:11pt"></font><font face="Arial" color="#000000" style="font-size:10pt"></p><p></p><p>Use &quot;Eclipse Memory Analyzer&quot; tool to analyze the heap dump</p><p></p><p></p><p>Visualize on the Console</p><p></p><p>jmap histo:live &lt;PID&gt;</p></font></span><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">jstack - Thread Dump<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Use jstack to take thread dump</p><p></p><p>Usage:</p><p>    jstack [-l] </p><p>        (to connect to running process)</p><p></p><p>Options:</p><p>    -l  long listing. Prints additional information about locks</p><p>    -h or -help to print this help message</p><p></p><p>Example</p><p>Take thread Dump    ./jstack -l 10436 &gt; threaddump12142009.log</p><p></p><p><u><b><i>Java nid(Native Thread ID) = Linux Process = Windows Thread</p></b></i></u></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">jconsole - jmx monitoring<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">To connect Jconsole you would need to specify following parameters to the JVM at startup</p><p></p><p></p><p>-Dcom.sun.management.jmxremote.port=50194 -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false</p><p></p><p></p><p>Make sure the port is available or use any unsued port</p><p>Start Jconsole (command jconsole) (You need to have jdk installed to have jconsole)</p><p>Jconsole will show list of jvms running on your machine and connect to the one you are interested</p><p></p><p><u><b>Looping Threads consuming too much CPU - Enable JTop</p><p></u></b></p><p>$ &lt;JDK&gt;/bin/jconsole -pluginpath &lt;JDK&gt;/demo/management/JTop/JTop.jar </p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">jstat - statistics<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Print statistics on the class loader:</p><p></p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">VisualVM<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"><A HREF="https://visualvm.dev.java.net/">https://visualvm.dev.java.net/</A></p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">EclipseMemoryAnalyzer<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"><A HREF="http://www.eclipse.org/mat/">http://www.eclipse.org/mat/</A></p><p></p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">ThreadAnalyzer<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"><A HREF="https://tda.dev.java.net/">https://tda.dev.java.net/</A></p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Java Threads Debugging<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"></p><p></p><p>top -p PID</p><p></p><p></p><p>If we make top output threads and sort by cpu time, we get an idea of the threads that spend the most time being busy</p><p></p><p></p><p>Example</p><p></p><p>top - 22:29:34 up 87 days, 21:45,  9 users,  load average: 10.31, 12.58, 8.45</p><p>Tasks: 3237 total,   5 running, 3231 sleeping,   0 stopped,   1 zombie</p><p>Cpu(s): 53.9%us,  2.6%sy,  0.0%ni, 42.3%id,  0.0%wa,  0.0%hi,  1.1%si,  0.0%st</p><p>Mem:  16432032k total, 10958512k used,  5473520k free,   149100k buffers</p><p>Swap: 18474740k total,    77556k used, 18397184k free,  5321140k cached</p><p></p><p>  PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+    TIME COMMAND</p><p>32149 rfi       16   0 13.7g 6.8g  13m S 50.7 43.3 134:38.08 134:38 java</p><p>28993 rfi       15   0 13.7g 6.8g  13m S  5.5 43.3  13:26.85  13:26 java</p><p>28995 rfi       16   0 13.7g 6.8g  13m S  3.6 43.3   8:17.84   8:17 java</p><p>32151 rfi       15   0 13.7g 6.8g  13m S  1.9 43.3   5:47.59   5:47 java</p><p>29143 rfi       16   0 13.7g 6.8g  13m S  0.0 43.3   4:18.51   4:18 java</p><p>28990 rfi       15   0 13.7g 6.8g  13m S  1.0 43.3   3:58.86   3:58 java</p><p></p><p></p><p></p><p>Java stack traces, for each thread, have similar headers:</p><p></p><p>&quot;thread name&quot; prio=PRIORITY tid=THREADID nid=LWPID STATE ...</p><p></p><p><b>The thing we care about here is the LWPID (light weight process id) or also known as the process id.</p><p></b></p><p>Find my java process (must be run as the user running the process):</p><p>% sudo -u rfi jps</p><p>28982 ServerMain</p><p>3041 Jps</p><p></p><p>% printf &quot;0x%x\n&quot; 28993</p><p>0x7141</p><p></p><p>% grep nid=0x7141 stacktrace</p><p>&quot;VM Thread&quot; prio=10 tid=0x000000005e6d9000 nid=0x7141 runnable </p><p></p><p># What about the first pid?</p><p>% printf &quot;%0x%x\n&quot; 32149</p><p>0x7d95</p><p></p><p>If I take the 2nd highest pid from the top output above, 28993, what thread does this belong to? If you look at the stack trace, you'll see that java outputs the 'nid' field in hex, so you'll have to convert your pid to hex first.</p><p></p><p>% grep -A3 nid=0x7d95 stacktrace</p><p>2010-06-22 03:15:26.489485500 <A HREF="mailto:1257787176@Jetty">&quot;1257787176@Jetty</A> Thread Pool-2999 - Acceptor0 <A HREF="mailto:SocketConnector@0.0.0.0">SocketConnector@0.0.0.0:2080&quot;</A> prio=10 tid=0x00002aad3dd43000 nid=0x7d95 runnable [0x00002aadc62d9000]</p><p>2010-06-22 03:15:26.489507500    java.lang.Thread.State: RUNNABLE</p><p>2010-06-22 03:15:26.489512500   at java.net.PlainSocketImpl.socketAccept(Native Method)</p><p>2010-06-22 03:15:26.489518500   at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:390)</p><p></p><p></p><p>From the above output, I can conclude that the most cpu-intensive threads in my java process are the Jetty socket acceptor thread and the &quot;VM Thread&quot;. A red flag should pop up in your brain if a 4-hour-old process has spent 2.25 hours spinning in accept().</p><p></p><p></p><p>Lastly, since each of these IDs are LWP IDs, you can use other standard tools (strace/truss, systemtap/dtrace, etc) on them.</p><p></p><p></p><p>Knowing the accept thread is consuming lots of time should make you run tcpdump if you haven't already, and in this case I see a few hundred new connections per second, which isn't very high and leads us further down the road of debugging.</p><p></p><p></p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">jps<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">jps</p><p></p><p>lists all java processes</p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Main<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"><A HREF="http://java.sun.com/j2se/1.5.0/docs/tooldocs/share/jstat.html">http://java.sun.com/j2se/1.5.0/docs/tooldocs/share/jstat.html</A></p><p><A HREF="http://java.sun.com/javase/6/webnotes/trouble/other/matrix6-Unix.html">http://java.sun.com/javase/6/webnotes/trouble/other/matrix6-Unix.html</A></p><p></p><p></p><p>Quick Troubleshooting Tips on Solaris OS and Linux for Java SE 6</p><p>This &quot;Quick Start Guide&quot; gives you some quick tips for troubleshooting. The subsections list some typical functions that can help you in troubleshooting, including one or more ways to get the information or perform the action.</p><p></p><p>These tips are organized as follows:</p><p></p><p>Hung, Deadlocked, or Looping Process </p><p>Post-mortem Diagnostics, Memory Leaks </p><p>Monitoring</p><p>Actions on a Remote Debug Server</p><p>Other Functions</p><p>Hung, Deadlocked, or Looping Process</p><p>Print thread stack for all Java threads:</p><p>Control-\</p><p>kill -QUIT pid</p><p>jstack pid (or jstack -F pid if jstack pid does not respond)</p><p>Detect deadlocks:</p><p>Request deadlock detection: JConsole tool, Threads tab</p><p>Print information on deadlocked threads: Control-\</p><p>Print list of concurrent locks owned by each thread: -XX:+PrintConcurrentLocks set, then Control-\</p><p>Print lock information for a process: jstack -l pid</p><p>Get a heap histogram for a process:</p><p>Start Java process with -XX:+PrintClassHistogram, then Control-\</p><p>jmap -histo pid (with -F option if pid does not respond)</p><p>Dump Java heap for a process in binary format to file:</p><p>jmap -dump:format=b,file=filename pid (with -F option if pid does not respond)</p><p>Print shared object mappings for a process:</p><p>jmap pid</p><p>Print heap summary for a process:</p><p>Control-\</p><p>jmap -heap pid</p><p>Print finalization information for a process:</p><p></p><p>jmap -finalizerinfo pid</p><p>Attach the command-line debugger to a process:</p><p>jdb -connect sun.jvm.hotspot.jdi.SAPIDAttachingConnector:pid=pid</p><p>Post-mortem Diagnostics, Memory Leaks</p><p>Examine the fatal error log file. Default file name is hs_err_pidpid.log in the working-directory.</p><p>Create a heap dump:</p><p>Start the application with HPROF enabled: java -agentlib:hprof=file=file,format=b application; then Control-\</p><p>Start the application with HPROF enabled: java -agentlib:hprof=heap=dump application</p><p>JConsole tool, MBeans tab</p><p>Start VM with -XX:+HeapDumpOnOutOfMemoryError; if OutOfMemoryError is thrown, VM generates a heap dump.</p><p>Browse Java heap dump:</p><p>jhat heap-dump-file</p><p>Dump Java heap from core file in binary format to a file:</p><p>jmap -dump:format=b,file=filename corefile</p><p>Get a heap histogram for a process:</p><p>Start Java process with -XX:+PrintClassHistogram, then Control-\</p><p>jmap -histo pid (with -F option if pid does not respond)</p><p>Get a heap histogram from a core file:</p><p>jmap -histo corefile</p><p>Print shared object mappings from a core file:</p><p>jmap corefile</p><p>Print heap summary from a core file:</p><p>jmap -heap corefile</p><p>Print finalization information from a core file:</p><p>jmap -finalizerinfo corefile</p><p>Print Java configuration information from a core file:</p><p>jinfo corefile</p><p>Print thread trace from a core file:</p><p>jstack corefile</p><p>Print lock information from a core file:</p><p>jstack -l corefile</p><p>Attach the command-line debugger to a core file on the same machine:</p><p>jdb -connect sun.jvm.hotspot.jdi.SACoreAttachingConnector:javaExecutable=path,core=corefile</p><p>Attach the command-line debugger to a core file on a different machine:</p><p>On the machine with the core file: jsadebugd path corefile </p><p>and on the machine with the debugger: jdb -connect sun.jvm.hotspot.jdi.SADebugServerAttachingConnector:debugServerName=machine</p><p>libumem can be used to debug memory leaks.</p><p>Monitoring</p><p>Note: The vmID argument for the jstat command is the virtual machine identifier. See the jstat man page for a detailed explanation.</p><p></p><p>Print statistics on the class loader:</p><p>jstat -class vmID</p><p>Print statistics on the compiler:</p><p>Compiler behavior: jstat -compiler vmID</p><p>Compilation method statistics: jstat -printcompilation vmID</p><p>Print statistics on garbage collection:</p><p>Summary of statistics: jstat -gcutil vmID</p><p>Summary of statistics, with causes: jstat -gccause vmID</p><p>Behavior of the gc heap: jstat -gc vmID</p><p>Capacities of all the generations: jstat -gccapacity vmID</p><p>Behavior of the new generation: jstat -gcnew vmID</p><p>Capacity of the new generation: jstat -gcnewcapacity vmID</p><p>Behavior of the old and permanent generations: jstat -gcold vmID</p><p>Capacity of the old generation: jstat -gcoldcapacity vmID</p><p>Capacity of the permanent generation: jstat -gcpermcapacity vmID</p><p>Monitor objects awaiting finalization:</p><p>JConsole tool, VM Summary tab</p><p>jmap -finalizerinfo pid</p><p>getObjectPendingFinalizationCount method in java.lang.management.MemoryMXBean class</p><p>Monitor memory:</p><p>Heap allocation profiles via HPROF: java -agentlib:hprof=heap=sites</p><p>JConsole tool, Memory tab</p><p>Control-\ prints generation information.</p><p>Monitor CPU usage:</p><p>By thread stack: java -agentlib:hprof=cpu=samples application</p><p>By method: java -agentlib:hprof=cpu=times application</p><p>JConsole tool, Overview and VM Summary tabs</p><p>Monitor thread activity:</p><p>JConsole tool, Threads tab</p><p>Monitor class activity:</p><p>JConsole tool, Classes tab</p><p>Actions on a Remote Debug Server</p><p>First, attach the debug daemon jsadebugd, then execute the command:</p><p></p><p>Dump Java heap in binary format to a file: jmap -dump:format=b,file=filename hostID</p><p>Print shared object mappings: jmap hostID</p><p>Print heap summary : jmap -heap hostID</p><p>Print finalization information : jmap -finalizerinfo hostID</p><p>Print lock information : jstack -l hostID</p><p>Print thread trace : jstack hostID</p><p>Print Java configuration information: jinfo hostID</p><p>Other Functions</p><p>Interface with the instrumented Java virtual machines:</p><p>Monitor for the creation and termination of instrumented VMs: jstatd daemon</p><p>List the instrumented VMs: jps</p><p>Provide interface between remote monitoring tools and local VMs: jstatd daemon</p><p>Request garbage collection: JConsole tool, Memory tab</p><p>Print Java configuration information from a running process:</p><p>jinfo pid</p><p>Dynamically set, unset, or change the value of certain Java VM flags for a process:</p><p>jinfo -flag flag</p><p>Print command-line flags passed to the VM:</p><p>jinfo -flags</p><p>Print Java system properties:</p><p>jinfo -sysprops</p><p>Pass a Java VM flag to the virtual machine:</p><p>jconsole -Jflag ...</p><p>jhat -Jflag ...</p><p>jmap -Jflag ...</p><p>Print statistics of permanent generation of Java heap, by class loader:</p><p>jmap -permstat</p><p>Report on monitor contention.</p><p>java -agentlib:hprof=monitor=y application</p><p>Evaluate or execute a script in interactive or batch mode:</p><p>jrunscript</p><p>Interface dynamically with an MBean, via JConsole tool, MBean tab:</p><p>Show tree structure.</p><p>Set an attribute value.</p><p>Invoke an operation.</p><p>Subscribe to notification.</p><p>Run interactive command-line debugger:</p><p>Launch a new VM for the class: jdb class</p><p>Attach debugger to a running VM: jdb -attach address</p><p></p><p></p></font><dt><br><dt style="margin-left:72;font: normal normal normal 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">JDBC<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">clob_test<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">CREATE TABLE TEST_CLOB_COPY</p><p>   ( &quot;CUSTOMER_NAME&quot;              VARCHAR2(4000 CHAR),                </p><p>      &quot;CUSTOMER_ADDRESS&quot;              VARCHAR2(4000 CHAR),</p><p>      &quot;COUNTRY&quot;                    VARCHAR2(4000 CHAR) </p><p>   ) </p><p>  TABLESPACE &quot;SP3P10_DATA&quot;; </p><p></p><p>Test Data of 100000 Records</p><p>===========================</p><p>   declare</p><p>    x1  varchar2(4000);</p><p>    x2  varchar2(4000);</p><p>    x3  varchar2(4000);</p><p>  BEGIN  </p><p>  FOR I IN 1 .. 100000 LOOP</p><p>    x1 := 'COLUMN 1' || I;</p><p>    x2:= 'COLUMN 2' || I; </p><p>    x3:= 'COLUMN 3' || I;  </p><p>    INSERT INTO TEST_CLOB_COPY</p><p>    SELECT x1, x2, x3 from dual;</p><p></p><p>  END LOOP;</p><p>  COMMIT;</p><p>  EXCEPTION</p><p>    WHEN OTHERS THEN ROLLBACK;</p><p>END;    </p><p></p><p>Verify the data is inserted</p><p>===========  </p><p>SELECT COUNT(*) FROM TEST_CLOB_COPY;  </p><p></p><p>INFOLET DETAILS</p><p>================</p><p>Keep History, Scheduled/Run Now Infolet</p><p></p><p>INFOLET QUERY</p><p>----------------</p><p></p><p>SELECT CUSTOMER_NAME, CUSTOMER_ADDRESS, COUNTRY</p><p>FROM TEST_CLOB_COPY</p><p>where rownum &lt; 50000;</p></font><dt><br><dt style="margin-left:72;font: normal normal normal 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Programming<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Primitive Data type<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">byte: 8 bit -128 to +127</p><p></p><p>short: 16 bit signed two's complement integer - a minimum value of -32,768 and a maximum value of 32,767 (inclusive). </p><p></p><p>int: 32-bit signed two's complement integer, minimum value of -2^31 and a maximum value of 2^31-1. In Java SE 8 and later, you can use the int data type to represent an unsigned 32-bit integer, which has a minimum value of 0 and a maximum value of 232-1. </p><p></p><p>long: The long data type is a 64-bit two's complement integer. The signed long has a minimum value of -263 and a maximum value of 263-1. In Java SE 8 and later, you can use the long data type to represent an unsigned 64-bit long, which has a minimum value of 0 and a maximum value of 264-1. The unsigned long has a minimum value of 0 and maximum value of 264-1. Use this data type when you need a range of values wider than those provided by int. The Long class also contains methods like compareUnsigned, divideUnsigned etc to support arithmetic operations for unsigned long.</p><p></p><p>float: The float data type is a single-precision 32-bit IEEE 754 floating point. Its range of values is beyond the scope of this discussion, but is specified in the Floating-Point Types, Formats, and Values section of the Java Language Specification. As with the recommendations for byte and short, use a float (instead of double) if you need to save memory in large arrays of floating point numbers. This data type should never be used for precise values, such as currency. For that, you will need to use the java.math.BigDecimal class instead. Numbers and Strings covers BigDecimal and other useful classes provided by the Java platform.</p><p></p><p>double: The double data type is a double-precision 64-bit IEEE 754 floating point. Its range of values is beyond the scope of this discussion, but is specified in the Floating-Point Types, Formats, and Values section of the Java Language Specification. For decimal values, this data type is generally the default choice. As mentioned above, this data type should never be used for precise values, such as currency.</p><p></p><p>boolean: The boolean data type has only two possible values: true and false. Use this data type for simple flags that track true/false conditions. This data type represents one bit of information, but its &quot;size&quot; isn't something that's precisely defined.</p><p></p><p>char: The char data type is a single 16-bit Unicode character. It has a minimum value of '\u0000' (or 0) and a maximum value of '\uffff' (or 65,535 inclusive)</p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Bit Shifts<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">The unary bitwise complement operator &quot;~&quot; inverts a bit pattern</p><p></p><p>The bitwise &amp; operator performs a bitwise AND operation.</p><p></p><p>The bitwise ^ operator performs a bitwise exclusive OR operation.</p><p></p><p>The bitwise | operator performs a bitwise inclusive OR operation</p><p></p><p>The signed left shift operator &quot;&lt;&lt;&quot; shifts a bit pattern to the left</p><p>the signed right shift operator &quot;&gt;&gt;&quot; shifts a bit pattern to the right. </p><p>The unsigned right shift operator &quot;&gt;&gt;&gt;&quot; shifts a zero into the leftmost position, while the leftmost position after &quot;&gt;&gt;&quot; depends on sign extension</p></font><dt><br><dt style="margin-left:54;font: normal normal normal 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Python<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Install<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"><A HREF="https://docs.python.org/2/install/">https://docs.python.org/2/install/</A></p><p></p><p>### Option 1</p><p></p><p>pip - package manager</p><p>To enable the use of pip from the command line, ensure the Scripts subdirectory of your Python installation is available on the system PATH</p><p></p><p>### Option 2</p><p>Using setup.py - if there is on</p><p>setup.py install </p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Structure<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"><A HREF="http://courses.necaiseweb.org/PythonStyleGuide/ProgramStructure">http://courses.necaiseweb.org/PythonStyleGuide/ProgramStructure</A></p><p></p><p><A HREF="http://docs.python-guide.org/en/latest/writing/structure/">http://docs.python-guide.org/en/latest/writing/structure/</A></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">CommandLine<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"></p><p>Starting IDLE (Idle itself is a python script)</p><p></p><p><b>&gt;&gt; python -m idlelib.idle</p><p></p><p>&gt;&gt; exec(open(&quot;D:\EclipseWorkspace2\python\utopian\uto.py&quot;).read())</p><p></p><p>Change to Directory</b></p><p></p><p>from os import chdir</p><p>chdir(&quot;dir path&quot;);</p><p></p><p><b>Execute Python Script</b></p><p></p><p>import os, sys</p><p></p><p>os.getpwd()</p><p>sys.path</p><p>sys.platform</p><p></p><p><b>Execute existing python script in Py Console</p><p></b></p><p>&gt;&gt;&gt; exec(open('script1.py').read())</p><p><b></p></b></font><dt><br><dt style="margin-left:72;font: normal normal normal 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Blocks<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Looping<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">for x in range(0, 3):</p><p>    print &quot;We're on time %d&quot; % (x)</p><p></p><p>&gt;&gt;&gt; thisfile = open(&quot;D:/DataInput/plain.txt&quot;)</p><p>&gt;&gt;&gt; for eachline in thisfile:</p><p>...  eachline</p><p>...</p><p>'sample text data'</p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Class<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">&gt;&gt;&gt; class FirstClass:               # Define a class object</p><p>        def setdata(self, value):   # Define class's methods</p><p>            self.data = value       # self is the instance</p><p>        def display(self):</p><p>            print(self.data)        # self.data: per instance</p><p></p><p></p><p>&gt;&gt;&gt; x = FirstClass()                # Make two instances</p><p>&gt;&gt;&gt; y = FirstClass()                # Each is a new namespace</p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Function<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><li><p></font><font face="Symbol" style="font-size:10pt">two ways to make functions (def and lambda),</p><li><p>two ways to manage scope visibility (global and nonlocal), </p><li><p>two ways to send results back to callers (return and yield)</p></ul><p></p><p></p><p>Statement or expression</p><p>Examples</p><p>Call expressions   - myfunc('spam', 'eggs', meat=ham, *rest)</p><p></p><p><b>def</b></p><p></p><p>def printer(messge):</p><p>    print('Hello ' + message)</p><p>return</p><p></p><p>def adder(a, b=1, *c):</p><p>    return a + b + c[0]</p><p></p><p><b>global </b></p><p></p><p>x = 'old'</p><p>def changer():</p><p>    global x; x = 'new'</p><p></p><p><b>nonlocal (3.X)</p><p></b></p><p>def outer():</p><p>    x = 'old'</p><p>    def changer():</p><p>        nonlocal x; x = 'new'</p><p></p><p><b>yield</b></p><p></p><p>def squares(x):</p><p>    for i in range(x): yield i ** 2</p><p></p><p></p><p><b>lambda</p><p></b>funcs = [lambda x: x**2, lambda x: x**3]</p></font><dt><br><dt style="margin-left:72;font: normal normal normal 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Types<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><dt><br><dt style="margin-left:72;font: normal normal normal 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Examples<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">File Size Over Period of Time<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p style="margin-left:16"><font face="Calibri" style="font-size:12pt"></font><font face="Calibri" style="font-size:11pt">### Capture Log File Sizes in the directory</p><p></p><p>dir &gt; logfilesize.txt</p><p style="margin-left:16"></p><p style="margin-left:16"></p><p>### Save the script to countline.py</p><p style="margin-left:16"></p><p>import sys, string, tempfile</p><p></p><p>i = 0</p><p>sum = 0</p><p>avg = 0;</p><p></p><p>tempfilename = tempfile.mktemp()</p><p>tempfile = open(tempfilename, 'w')</p><p>numlines = 0;</p><p>for line in sys.stdin.readlines():</p><p>    i = i + 1</p><p>    if (i &gt; 7):</p><p>        tempfile.write(line)</p><p>        print line</p><p>i = 0</p><p>tempfile.close()</p><p>print &quot; Removing Tail messages &quot;</p><p>for line in reversed(open(tempfilename, 'r').readlines()):</p><p>      i = i + 1;</p><p>      </p><p>      if (i &gt; 2):</p><p>          print line</p><p>          words = string.split(line)</p><p>          if (string.find(words[4], 'client_') &gt; -1) :</p><p>              word = string.replace(words[3], ',', '')</p><p>              sum += int(float(word));</p><p>              numlines = numlines + 1</p><p>if ( numlines &gt; 0 ) :</p><p>   avg = sum/numlines</p><p></p><p>print  &quot;Avg(MB)&quot;, avg           </p><p>print  &quot;Sum, Avg(Bytes), Avg(MB), Num of Files &quot;, sum, avg, avg/(1024 * 1024), numlines           </p><p></font><font face="Arial" style="font-size:11pt"></font><font face="Arial" style="font-size:10pt"></p><p></p><p style="margin-left:16"></font><font face="Calibri" style="font-size:10pt"></font><font face="Calibri" style="font-size:11pt">### Run</p><p></p><p>type Kohls_ClientLogSize.txt | python D:/Software/Python/Scripts/countline.py</p><p></font><font face="Arial" style="font-size:11pt"></font><font face="Arial" style="font-size:10pt"></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Conditions<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">and </p><p>or</p><p>==</p><p></p></font><dt><br><dt style="margin-left:54;font: normal normal normal 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">DataStructures<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Sorting Algorithms<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"><A HREF="http://algs4.cs.princeton.edu/25applications/">http://algs4.cs.princeton.edu/25applications/</A></p><p></p><p>Stability. A sorting method is stable if it preserves the relative order of equal keys in the array. For example, suppose, in our internet commerce application, that we enter transactions into an array as they arrive, so they are in order of the time field in the array. Now suppose that the application requires that the transactions be separated out by location for further processing. One easy way to do so is to sort the array by location. If the sort is unstable, the transactions for each city may not necessarily be in order by time after the sort. Some of the sorting methods that we have considered in this chapter are stable (insertion sort and mergesort); many are not (selection sort, shellsort, quicksort, and heapsort)</p><p></p><p></p><p></p></font><dt><br><dt style="margin-left:72;font: normal normal normal 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Java Types Comparison<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><dt><br><dt style="margin-left:54;font: normal normal normal 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">HTML<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Security<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"><A HREF="http://ibuildings.nl/blog/2013/03/4-http-security-headers-you-should-always-be-using">http://ibuildings.nl/blog/2013/03/4-http-security-headers-you-should-always-be-using</A></p><p></p><p></p><p>Adding the Content-Security-Policy header with the appropriate value allows you to restrict the origin of the following:</p><p></p><p>script-src: JavaScript code (biggest reason to use this header)</p><p>connect-src: XMLHttpRequest, WebSockets, and EventSource.</p><p>font-src: fonts</p><p>frame-src: frame ulrs</p><p>img-src: images</p><p>media-src: audio &amp; video</p><p>object-src: Flash (and other plugins)</p><p>style-src: CSS</p><p></p><p></p><li><p>Content-Security-Policy: script-src 'self' <A HREF="https://apis.google.com">https://apis.google.com</A></p></ul><p></p><p>Means that script files may only come from the current domain or from apis.google.com (the Google JavaScript CDN).</p><p></p><li><p>X-Frame-Options: DENY</p></ul><p>This will cause browsers to refuse requests for framing in that page.</p><p></p><p>Supplying the value 'SAMEORIGIN' will allow framing only from the same origin and 'ALLOW FROM <A HREF="http://url-here.example.com'">http://url-here.example.com'</A> will allow you to specify an origin (unsupported by IE)</p><p></p><li><p>Strict-Transport-Security: max-age=31536000; includeSubDomains</p></ul><p>Then even typing in <A HREF="http://hsts.example.com">http://hsts.example.com</A> will make the browser connect to <A HREF="https://hsts.example.com.">https://hsts.example.com.</A></p><p></p><li><p>It will do this for as long as the HSTS header is valid, which in the case of the example is 1 year since the last response that sent the HSTS header</p></ul><p></p><p></p></font><dt><br><dt style="margin-left:36;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Security<dt><br><dt style="margin-left:68;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><b><font face="Arial" style="font-size:10pt">MD5 Cheksum validation</b></p><p></p><p><A HREF="http://www.fourmilab.ch/md5/">http://www.fourmilab.ch/md5/</A></p><p></p><p><b>md5 filename</p><p></b></p><p><b>GNU PG</b></p><p></p><p><A HREF="http://www.gnupg.org/">http://www.gnupg.org/</A></p><p></p><p></p><p>To import the build key into your personal public GPG keyring, use gpg --import. For example, if you have saved the key in a file named mysql_pubkey.asc, the import command looks like this:</p><p></p><p>shell&gt; gpg --import mysql_pubkey.asc</p><p>gpg: key 5072E1F5: public key &quot;MySQL Package signing key (www.mysql.com) <A HREF="mailto:build@mysql.com&gt">&lt;build@mysql.com&gt;&quot;</A> imported</p><p>gpg: Total number processed: 1</p><p>gpg:               imported: 1</p><p>gpg: no ultimately trusted keys found</p><p>You can also download the key from the public keyserver using the public key id, 5072E1F5:</p><p></p><p>shell&gt; gpg --recv-keys 5072E1F5</p><p>gpg: requesting key 5072E1F5 from hkp server subkeys.pgp.net</p><p>gpg: key 5072E1F5: &quot;MySQL Package signing key (www.mysql.com) <A HREF="mailto:build@mysql.com&gt">&lt;build@mysql.com&gt;&quot;</A> 2 new signatures</p><p>gpg: no ultimately trusted keys found</p><p>gpg: Total number processed: 1</p><p>gpg:         new signatures: 2</p><p></p><p><b><i>gpg --verify keyfile fileToValidate</b></i></p><p></p><p></p><p>Example</p><p></p><p>C:\installed\GnuPG&gt;gpg --verify c:\Downloads\mysql-connector-java-5.1.7.zip.asc c:\Downloads\mysql-connector-java-5.1.7.zip</p></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Beast Attack<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">So we gave a talk and a live demo at ekoparty last week to show how BEAST exploits a weakness in SSL to decrypt secret cookies.</p><p></p><p>Please note that BEAST does not do any harm to remote servers. In fact, no packet from BEAST has ever been sent to any servers. We chose PayPal because they do everything right when it comes to server-side SSL, and that is good to demonstrate the power of BEAST, which is a client-side SSL attack. We reported the vulnerability to browser, plugin and SSL vendors several months ago (CVE-2011-3389).</p><p></p><p>Current version of BEAST consists of Javascript/applet agents and a network sniffer. We have some choices for the agent. At the time we reported the bug to vendors, HTML5 WebSockets could be used to build a BEAST agent but, due to unrelated reasons, the WebSockets protocol was already in the process of changing in such a way that stopped it. We can't use the new WebSockets protocol shipped with browsers. We use a Java applet in this video, but please be aware that it may be possible to implement a Javascript agent with XMLHttpRequest as well. Why don't you take a look? ;-)</p><p></p><p>Note that it is relatively easy to run a script or an applet in your browser without you doing anything (e.g, by intercepting any HTTP requests from your browser.) After all, each agent is just a piece of Javascript or an applet. Once an agent has been loaded, BEAST can patiently wait until you sign in to some valuable websites to steal your accounts.</p><p></p><p>In order to make the Java applet agent work, we have to bypass the same-origin policy (SOP). Some people have gotten the impression that BEAST required an SOP bypass bug to work and so it's not a threat by itself. That's not true. It is well known that even with a SOP bypass in Java, you can't read existing cookies. You can send requests and may read responses (which may include new cookies), but no, you can't read existing cookies. In the video (and the live demo as well,) we show clearly that we decrypt _existing_ cookies that were already stored in the browser's cookie jar. During our research, we indeed found a Java SOP bypass. We wanted to focus on more important parts of BEAST such as the actual crypto attack and optimizations, so we stopped looking for alternatives, and used the SOP vulnerability to make an agent.</p><p></p><p>A. Shamir (the S in RSA) once said &quot;Cryptography is typically bypassed, not penetrated,&quot; and please keep reading if you are curious what happened during our anecdote of penetrating crypto.</p><p></p><p>It began with the alleged backdoor in OpenBSD's IPSEC stack. One day in late December 2010 Juliano sent me an email telling me that he got a new idea. He was at some beach in Indonesia reading tls-cbc.txt (I know that beach and TLS and CBC should not appear in the same sentence but, well, maybe he's not very interested in bikinis) and he came up with the chosen-boundary attack. In hindsight, it's obvious that somebody would think of that when they read about Dai's attack. In hindsight, however, everything is obvious. It takes somebody like Juliano to have such a good idea. I am so lucky that he always shares his ideas with me. I wrote some test cases (using the wonderful tlslite library), and after some hours, my conclusion was... it can't work in browsers. I then moved to the States, and was busy with new life, new job and schooling, so I didn't have time to research that idea any further, even after Juliano kept asking me to check it again. Don't listen to me if I tell you your attack can't work :-). Don't listen to anybody telling you that.</p><p></p><p>Fast forward to early April. I was working on some project at Matasano, and some SSL code that I saw that day made me realize that I wrote wrong tests for Juliano's idea. In fact, it seems that I didn't quite understand it back then. As soon as I got back home, I re-read Juliano's email, my notes and scripts. I decided that I needed to make it work with pen and paper first, so I drew some diagrams. The result looked hopeful. I then modified the test cases, re-ran them, and for the first time, I saw that chosen-boundary attack may work. That moment was so wonderful. It turns out that I had to &quot;reverse&quot; the idea to make it &quot;compatible&quot; with browsers, and after some more hours, not only I saw that the attack is possible, but I also understood which conditions I need to make it really work. The conditions looked easy too. I was very excited. I would have screamed loudly hahaha. I took note of what I had seen so far, and sent it to Juliano.</p><p></p><p>At first, Juliano didn't understand my note (because it's a reverse of his idea,) but he caught up very quickly, and he agreed that it looks doable. So the main condition is to be able to send two SSL records in the same cookie-bearing request (if you've read the leaked draft, we call this the blockwise privilege.) We were both very excited, because at that moment we know that it is just a matter of browser features for us to create a reliable exploit for something that people have thought un-exploitable in years.</p><p></p><p>I collected a list of browser features and plugins that allow me to send cookie-bearing requests. I took a look at the Browser Security Handbook by Michal Zalewski, and found some candidates: Javascript XMLHttpRequest, Java URLConnection, Flash URLRequest, and Silverlight WebClient API. We really wanted to make the attack work with native Javascript, so we spent a lot of time on XMLHttpRequest object. At some point, Juliano and I were even reading C++ source code of various browsers (which is even harder to understand than assembly as a friend once said.) Maybe we've missed something really obvious, but we've never made XMLHttpRequest work the way we need. It was both surprising and frustrating that it is so hard to open full-duplex channels do request streaming in modern browsers. People have to invent a lot of ugly bitches that known as Comet techniques. I studied every single one of them, but none of them meets what we need. I also studied HTML5 WebSockets, then concluded that it's not what I need because it includes a \x00 byte in front of every packet. More about WebSockets in a moment.</p><p></p><p>So I moved on to Java URLConnection. I'd never written an applet before, but researching is doing exactly things that you haven't done before. So I wrote an applet, and tried to make it perform the blockwise step. The Internet is really helpful. I found a wonderful URLConnection mini-guide in Stack Overflow. I also wrote a small SSL server to test my applet. It worked as expected. I could open a request, append more data to it as long as I want, and each time I &quot;flush&quot; the output stream, Java would send out a record in the same SSL connection. So wonderful, but I want more. I want something that works without any plugins. Once again I started writing tests for XMLHttpRequest, reading C++ code, or studying Comet. Rinse and repeat. Nothing worked.</p><p></p><p>One day while in the shower, I realized that those things haven't worked simply because they can't work. That's why people have to invent WebSockets. Hmm, why couldn't I use WebSockets? I re-read my note. So they have a \x00 prefix, which prevents me from fully controlling the chosen block. I remembered that Bellare et al. also had the same problem when they tried to attack SSH, so I re-read their paper. I was quite disappointed to know that they didn't describe any practical way to solve that problem. Then I came up with the idea of chaining of predictable IV. I wrote a small WebSockets simulator to test it, and it works. Not very fast though, since WebSockets requires that my chosen block to be a valid UTF-8 string. It's funny that we also had to deal with UTF-8 in the ASP.NET exploit. Anyway, it doesn't need any plugins. It was late April.</p><p></p><p>We split the work. I wanted to work on the paper, and Juliano wanted to work on the exploit. I started writing right away, but Juliano had to delay the exploit several months later. He got a name for it anyway. &quot;This thing is so complicated. I would like to call it B.E.A.S.T so people kind of get stuck calling it 'the BEAST attack'. We can figure out what BEAST means later.&quot;</p><p></p><p>Writing in English has never been easy for both of us. It took us several months with a lot of help from friends to finish the ASP.NET paper, and I couldn't believe that I had to write another one even before releasing that paper. But I did eventually. Along the way, I found Bard's papers, which was extremely helpful for me. I read his paper carefully. So many &quot;We believe&quot;. I have to confess that I am a non-believer, so I made a rule for myself: no &quot;We believe&quot; in my paper. Anyway, although Bard's attacks can't work, his papers were written in very nice English. So I stole a lot of phrases, expressions and statements from him. Of course I cited him many times.</p><p></p><p>So I kept writing, and Juliano helped with editing. By mid May, we finally had something good enough to ask for review from friends. I guess that no &quot;We believe&quot; is a good rule, since everybody said that the paper is easy to understand. We also got an awesome review from Kenny Paterson. If you happen to write a crypto paper, and need some cryptographer to review it, you may want to ask Kenny. He's very friendly, encouraging, and his review always teaches us a lot.</p><p></p><p>So we got a not-so-bad paper, but still no actual exploit because Juliano was still in some beach somewhere. We agreed that we should contact browser and SSL vendors early so that they can work on the patch, since we planned to (but didn't) release something in July. We sent the paper to Google, Mozilla, Apple, Microsoft, Opera and Oracle. All of them responded very quickly, which is pretty impressing. Mozilla created bug 665814, and it became the discussion board of all people working on the fix. Later I discovered that there were also people from IETF and other vendors that we didn't contact.</p><p></p><p>It turns out that fixing this is not easy, because every proposed solution is incompatible with some existing SSL applications. OpenSSL has already included a fix several years ago, but it is turned off by default, thanks to Internet Explorer 6's broken SSL implementation. Somebody also pointed out that due to another attack released in March, the WebSockets protocol was already in the process of changing in such a way that stopped our attack. People kept asking for a working PoC, but we could not give them anything. At some point, it seemed that no vendor wanted to patch this. We also started losing interest in convincing them. We got more compliments from cryptographers we contacted.</p><p></p><p>We didn't release anything in July as planned, since nothing has been fixed. Instead we went to BlackHat, won a pwnie for the ASP.NET bug, delivered a presentation on the attack at Matasano's private dinner. People liked it. We got several follow-up emails and an invitation to present it again at some internal conference of a client. Juliano and some other friends rooted all servers and yet lost their CTF game. Still no actually BEAST. &quot;We can work together on BEAST when I visit you next week&quot;, but we ended up drinking all nights. So many hi 5...</p><p></p><p>Then Juliano submited the talk to ekoparty. Opera patched. We got excited. That was five weeks ago.</p><p></p><p>Juliano told me that the talk got 10/10 rating from all of the judges, and he felt that it's time to give birth to BEAST. Since WebSockets is not a good option anymore, and there was so little time to research other alternatives, we agreed that we should focus on Java and Silverlight. He worked and worked and worked. It turns out that BEAST is not easy to code. At some point, Juliano had to install Windows and Visual Studio to write a Silverlight applet in, cough cough, VB.NET. Well, he has to do things he's never done before.</p><p></p><p>BEAST finally decrypted the first byte of some cookies. It is so surreal to witness some idea that exists only in your mind actually evolves into working code. Moments like this are very rewarding, and it makes researching very worth doing. Juliano was so tired, so I asked him to send the code to me. This is why we've enjoyed doing things together. We can make progress as long as there is at least one guy up. He has done the heavy work, now it's my turn to baby-sit BEAST.</p><p></p><p>I installed Eclipse, learned Java, and started hacking the code. Since Juliano stopped as soon as BEAST decrypts the first byte, I had to fix bugs to make it decrypt more bytes more reliably. The next thing I did was to find a way to bypass the same-origin policy (SOP) with some agent. A friend was so generous that he gave me one of his Java 0-days to bypass SOP. Anyway, that bug has a dependency that we couldn't satisfy, so I had to find another one. I started reviewing JVM's source code. Honestly, I didn't expect to find a SOP bypass, but I did. What interesting is that the bug is very good for BEAST, but not so good for other types of attackers. You need to be able to do MiTM to use it. Well, that makes sense when you know that I found the bug when I was MiTM-ing a Java applet. I could look for other ways to create an agent, but both of us agreed that we should focus on optimizations. I needed to make BEAST fast. The version that Juliano sent me was so slow that all we got were expired cookies. BEAST is just a baby, it deserves fresh cookies. I spent the last week or so working on that. As you see in the demo, BEAST now takes minutes to decrypt very long unexpired cookies.</p><p></p><p>In summary, we had an idea, and we've done several things we've never done before to make it work. That's our story of penetrating crypto. Thank you for your time</p></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Network<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Segoe Print" style="font-size:12pt"></font><font face="Segoe Print" style="font-size:11pt">ddos protection - </p><p>ips - </p><p>sievn management- real </font><font face="Segoe Print" style="font-size:10pt"></p></font><dt><br><dt style="margin-left:36;font: normal normal normal 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">CI<dt><br><dt style="margin-left:68;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Maven<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"></p><p><b>Maven Tips and Tutorial</p><p></b></p><li><p>To build package of all dependent jar files</p></ul><p style="margin-left:20">mvn clean dependency:copy-dependencies package</p><p></p><li><p>list all the jars and dependencies maven is currently using</p></ul><p style="margin-left:20">mvn dependency:tree</p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Multi Module Project Setup<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Multi Module Project</p><p></p><p>concepts:</p><p><A HREF="http://maven.apache.org/guides/mini/guide-multiple-modules.html">http://maven.apache.org/guides/mini/guide-multiple-modules.html</A></p><p></p><p>example</p><p><A HREF="http://books.sonatype.com/mvnex-book/reference/multimodule-sect-simple-parent.html">http://books.sonatype.com/mvnex-book/reference/multimodule-sect-simple-parent.html</A></p><p></p><p>Eclipse Maven Setup</p><p></p><p>Tell Eclipse where to find the maven repo</p><p>mvn -Declipse.workspace=&lt;path-to-eclipse-workspace&gt; eclipse:add-maven-repo</p><p></p><p>Create Parent Project</p><p>D:\PrivateWorkspace&gt;mvn archetype:generate -DgroupId=lib -DartifactId=root</p><p></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Run Java Program<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">mvn exec:java -Dexec.mainClass=&quot;java8.lambda.LambdaLearn1&quot; -Dexec.args=&quot;Rama Krishnaiah&quot;</p></font><dt><br><dt style="margin-left:36;font: normal normal normal 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">WebApplicationServers<dt><br><dt style="margin-left:68;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">JBoss<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Lucida Console" style="font-size:12pt"></font><font face="Lucida Console" style="font-size:10pt">service.bat install</p><p></font><font face="Arial" style="font-size:10pt"></p><p>service.bat</p><p>call run.bat -c default -b localhost &lt; .r.lock &gt;&gt; run.log 2&gt;&amp;1</p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">JMX<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"><A HREF="http://172.26.2.30:8080/jmx-console/">http://172.26.2.30:8080/jmx-console/</A></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Startup<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">5.1</p><p></p><p>Startup default server - change to other servers</p><p>run.sh -c default</p></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Apache<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Apache</p><p>======</p><p></p><p>http/conf/workers.properties -&gt; Enable ajp connector</p><p>httpd.d/conf/mod_jk.conf -&gt; Map ajp</p><p></p><p></p><p>httpd.exe -k install -n &quot;MyServiceName&quot;</p><p>httpd.exe -k start -n &quot;MyServiceName&quot;</p><p></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Threads<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Calibri" color="#000000" style="font-size:12pt"><b></font><font face="Calibri" color="#000000" style="font-size:12pt"></font><font face="Calibri" color="#000000" style="font-size:11pt">ItemDescriptionKey Parameters</b>[Jboss]Connection Pool Settings jboss-5.1.0.GA\common\lib jboss-common-jdbc-wrapper.jarEnable Jboss connection pool and verify max threads to be 500[Apache]Thread Settings MaxThreadPerChild -   100 Users - 300, &gt; 100 Users 750&lt;IfModule prefork.c&gt;   StartServers         5   MinSpareServers      5   MaxSpareServers     10   ServerLimit        1000   MaxClients         1000   MaxRequestsPerChild  0   &lt;/IfModule&gt;  &lt;IfModule worker.c&gt;   StartServers            2   MaxClients            1000   MinSpareThreads        25   MaxSpareThreads        75    ThreadsPerChild        25   MaxRequestsPerChild     0 &lt;/IfModule&gt;  &lt;IfModule mpm_winnt.c&gt;   ThreadsPerChild       750   MaxRequestsPerChild     0 &lt;/IfModule&gt; [Database] Sizing changes - Oracle Parameters, Tablespace[Jboss] JVM Memory Changesset JAVA_OPTS=%JAVA_OPTS% -Xms4096m -Xmx24576m -XX:PermSize=256m -Xss128k -XX:NewSize=128m -XX:MaxPermSize=374m -XX:+UseParNewGC -XX:+CMSParallelRemarkEnabled -Dsun.rmi.dgc.client.gcInterval=3600000 -Dcom.sun.xml.namespace.QName.useCompatibleSerialVersionUID=1.0 -Dorg.omg.CORBA.ORBSingletonClass=com.sun.corba.se.internal.corba.ORBSingleton -Dorg.omg.CORBA.ORBClass=com.sun.corba.se.internal.Interceptors.PIORB -Dms.HOME=D:\w\SYSTEMi\Systemi -Dms.CONFIG=D:\x\SYSTEMi\Systemi\Config\config.client.xml -verbose:gc -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -Xloggc:D:\x\jboss-5.1.0.GA\server\default\log\gc.log -XX:HeapDumpPath=D:\x\heapdumps\HeapDump.hprof -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.port=1234[Apache] Log Format Changes Parameter %D Added for capturing response timehttpd.conf and httpd_ssl.conf     LogFormat &quot;%h %l %u %t \&quot;%r\&quot; %&gt;s %b \&quot;%{Referer}i\&quot; \&quot;%{User-Agent}i\&quot; %D&quot; combined [Apache]Image Caching &lt;Directory &quot;C:/ms/SYSTEMi/Systemi/Resource/Html&quot;&gt;     AllowOverride None     Options None     Order allow,deny     Allow from all     ExpiresDefault &quot;access plus 2 days&quot;  &lt;/Directory&gt;    &lt;Directory &quot;C:/ms/SYSTEMi/Systemi/Resource/images&quot;&gt;  AllowOverride None  Options None  Order allow,deny  Allow from all  ExpiresDefault &quot;access plus 2 days&quot;    &lt;/Directory&gt;   &lt;Directory &quot;C:/ms/SYSTEMi/Systemi/Resource/Html/help&quot;&gt;  AllowOverride None  Options None  Order allow,deny  Allow from all  ExpiresDefault &quot;access plus 2 days&quot;    &lt;/Directory&gt;[Apache]Mod StatusEnable mod status directive to capture real usage</font><font face="Calibri" color="#000000" style="font-size:11pt"></font><font face="Arial" color="#000000" style="font-size:11pt"></font><font face="Arial" color="#000000" style="font-size:10pt"></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Status<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"><A HREF="https://172.26.2.30/server-status">https://172.26.2.30/server-status</A></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Browser<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Calibri" color="#1F497D" style="font-size:12pt"></font><font face="Calibri" color="#1F497D" style="font-size:12pt"></font><font face="Calibri" color="#1F497D" style="font-size:11pt">You can get the search string from here - </font><font face="Calibri" color="#0000FF" style="font-size:11pt"><u>&lt;http://www.useragentstring.com/pages/Browserlist/&gt;</font><font face="Calibri" color="#1F497D" style="font-size:11pt"></u> </p><p></font><font face="Calibri" color="#000000" style="font-size:11pt"></font><font face="Arial" color="#000000" style="font-size:11pt"></font><font face="Arial" color="#000000" style="font-size:10pt"></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">LogAnalysisTool<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Analog for generating report</p><p>ReportMagic for generating better report based on Analog output</p><p></p><p></p><p><b>analog.cfg</p><p></b></p><p># SSL FORMAT</p><p>#APACHELOGFORMAT (%t %h %{SSL_PROTOCOL}x %{SSL_CIPHER}x \&quot;%r\&quot; %b \&quot;%{Referer}i\&quot; \&quot;%{User-Agent}i\&quot; %D)</p><p></p><p>LOGFILE &quot;D:\A_Goals\ApacheLogAnalysis\AIB\access.log&quot;</p><p></p><p></p><p>#Analog output</p><p>#OUTFILE &quot;D:\A_Goals\ApacheLogAnalysis\AIB\reports\report.html&quot;</p><p></p><p></p><p>#[Report Magic] Output</p><p>OUTPUT COMPUTER</p><p>OUTFILE &quot;D:\A_Goals\ApacheLogAnalysis\AIB\reports\report.dat&quot;</p><p></p><p><b>rmagic.ini</p><p></b></p><p>File_In = D:\A_Goals\ApacheLogAnalysis\pfizer\reports\report.dat</p><p>Frame_File_Out = index.html</p><p>Format= XHTML 1.0</p><p></p><p>[reports]</p><p>Active_Column=R</p><p>File_Out = D:\A_Goals\ApacheLogAnalysis\pfizer\ReportMagic\</p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Linux Setup<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"></p><p>vi /etc/httpd/conf/httpd.conf</p><p>DocumentRoot &quot;/disk2&quot;</p><p></p><p></p><p>Linux Restart</p><p>/etc/init.d/httpd reload</p><p></p><p></p></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">TOMCAT<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Tomcat</p><p>=======</p><p>Disable http connector listing on local port for jsp pages (8008)</p><p>Enable ajp connector to listen on connector port (8009)</p><p></p><p></p><p><A HREF="http://tomcat.apache.org/tomcat-6.0-doc/windows-service-howto.html">http://tomcat.apache.org/tomcat-6.0-doc/windows-service-howto.html</A></p><p></p><p>C:\CitiAuditsDev\SYSTEMi\Tomcat\bin\tomcat6.exe //RS//CitiIATomcatServer</p><p></p><p>//ES//	Edit service configuration	This is the default operation. It is called if the no option is provided but the executable is renamed to servicenameW.exe</p><p>//MS//	Monitor service	Put the icon in the system tray</p><p></p><p>//TS//	Run the service as console application	This is the default operation. It is called if the no option is provided. The ServiceName is the name of the executable without exe suffix, meaning Tomcat6</p><p>//RS//	Run the service	Called only from ServiceManager</p><p>//SS//	Stop the service	</p><p>//US//	Update service parameters	</p><p>//IS//	Install service	</p><p>//DS//	Delete service	Stops the service if running</p></font><dt><br><dt style="margin-left:54;font: normal normal normal 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">WEBLOGIC<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><dt><br><dt style="margin-left:36;font: normal normal normal 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Process<dt><br><dt style="margin-left:68;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Grading Support<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"></p><p></p><p>Category                   Metric                  Description            Score          Weight          Grade   (score * weight)     Grade Scale</p><p></p><p>Relationship               Satisfaction, </p><p>                                 Response Time</p><p>                                 Containment</p><p></p><p>Business                   QA, CR, CE</p><p></p><p>Performance               System</p><p></p><p></p></font><dt><br><dt style="margin-left:36;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Performance and Scalability<dt><br><dt style="margin-left:68;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"></p><p>#Check number of files open</p><p></p><p>lsof -a -p pid</p><p>lsof | wc -l</p><p></p><p>#List File Descriptors in Kernel Memory </p><p>sysctl fs.file-nr</p><p></p><p>### Max Files Open</p><p>cat /proc/sys/fs/file-max</p><p></p><p>### Hardlimit</p><p>ulimit -Hn</p><p></p><p>#### Softlimit</p><p>ulimit -Sn</p></font><dt><br><dt style="margin-left:54;font: normal normal normal 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Application Server<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><dt><br><dt style="margin-left:72;font: normal normal normal 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Memory Settings<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><dt><br><dt style="margin-left:72;font: normal normal normal 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">JVM Settings<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><dt><br><dt style="margin-left:72;font: normal normal normal 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">GC Settings<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><dt><br><dt style="margin-left:72;font: normal normal normal 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Logging Settings<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">HostInfo<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Windows command prompt to get system patch and os information</p><li><p style="margin-left:40">systeminfo</p><li><p style="margin-left:40">set</p></ul><p></p><p>Using JDK/JRE command</p><li><p style="margin-left:40">jinfo</p></ul><p style="margin-left:20"></p><p style="margin-left:20"></p></font><dt><br><dt style="margin-left:54;font: normal normal normal 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Tools<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Browser Debugging<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Todo: Write tutorial on each of these tools</p><p></p><p>Firebug</p><p>Fiddler</p><p>HttpWatch</p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Log Analysis<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Baretail</p><p>Baregrep</p><p>notepad++</p><p>Cygwin</p><p></p></font><dt><br><dt style="margin-left:54;font: normal normal normal 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Database<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Story<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Submitting Forms were very slow due to thread synchronization - all user submits are stored synchronously</p><p> -  Form Submission Time was increasing</p><p>Removed the bottleneck on the application it move to database because it has to create the index</p><p> - Saw index contention in the database</p><p> - It worsened when we did batching of data</p><p>Cleaned up old data but not much improvements due to High Water Mark where deleted blocks are </p><p> - Partition the data to improve index performance</p><p></p></font><dt><br><dt style="margin-left:36;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Log Management<dt><br><dt style="margin-left:68;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"></p><p><b></font><font face="Arial" style="font-size:14pt">##        References</p><p></p><p></p><p></font><font face="Arial" style="font-size:12pt">Lumberjack (low latency, low memory alternative to logstash) -&gt;  <A HREF="https://github.com/elasticsearch/logstash-forwarder">https://github.com/elasticsearch/logstash-forwarder</A></p><p>Analytic (stream processing language) <A HREF="http://riemann.io/">http://riemann.io/</A> -&gt;  <A HREF="https://github.com/exoscale/riemann-grid">https://github.com/exoscale/riemann-grid</A></p><p></p><p>Example: </p><p><A HREF="http://www.knowceantech.com/2013/12/log-aggregationanalytics-with-logstash-elasticsearch/">http://www.knowceantech.com/2013/12/log-aggregationanalytics-with-logstash-elasticsearch/</A></p><p></p><p></b><A HREF="https://www.youtube.com/watch?v=QthqK5iC_EA">https://www.youtube.com/watch?v=QthqK5iC_EA</A></p><p><b></p><p>Plugins - </b><A HREF="https://github.com/lusis/chef-logstash">https://github.com/lusis/chef-logstash</A><b></p><p>ES Plugin -</b>  <A HREF="https://github.com/elasticsearch/curator/wiki/Examples">https://github.com/elasticsearch/curator/wiki/Examples</A><b></font><font face="Arial" style="font-size:14pt"></p><p>Kibana - <A HREF="http://matthiasnehlsen.com/blog/2013/07/09/transforming-logs-into-information/">http://matthiasnehlsen.com/blog/2013/07/09/transforming-logs-into-information/</A></p><p>Kibana filters - <A HREF="http://www.elasticsearch.org/guide/en/kibana/current/working-with-queries-and-filters.html">http://www.elasticsearch.org/guide/en/kibana/current/working-with-queries-and-filters.html</A></p><p></p></b></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">graylog<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">## Graylog  Server</p><p></p><p></p><p>### Startup</p><p></p><p>bin/graylog2ctl start</p><p></p><p>###  Logs</p><p></p><p>###REST Interface</p><p></p><p><A HREF="http://127.0.0.1:12900">http://127.0.0.1:12900</A></p><p></p><p>### Web Interface</p><p></p><p><A HREF="http://127.0.0.1:9000">http://127.0.0.1:9000</A></p><p></p><p>Log in to the web interface (username admin and the password (graylog) you configured at root_password_sha2 in the graylog2.conf of your graylog2-server) and navigate to System -&gt; Nodes. Select your graylog2-server node there and click on Manage inputs</p><p></p><p></p><p></p><p>## Graylog Web </p><p></p><p>#### Starting Web Server from Backend</p><p></p><p>nohup bin/graylog2-web-interface &amp;</p><p></p><p>#### Version  Compatibility</p></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">logstash<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Created from MarkdownPAD</p><p></p><p># Logstash Gotchas</p><p></p><p>- Throttle Using throttle filter</p><p>- type should match across input and output</p><p>- use json_lines for tcp as tcp input does not know the end of the log event</p><p>- logstash does not process file if it has processed once</p><p>- Remove .sincedb...xxx file from home directory (Windows : C:/users/username/.sincedbxxxx)</p><p></p><p># Architecture</p><p></p><p>- Life of an event - <A HREF="http://logstash.net/docs/1.4.2/life-of-an-event">http://logstash.net/docs/1.4.2/life-of-an-event</A></p><p></p><p></p><p># Integration with Elasticsearch</p><p></p><p>- Elasticsearch index can be named using the field syntax </p><p></p><p></p><p></p><p></p><p></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">grok<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">### Example 1</p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p></font><dt><br><dt style="margin-left:90;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Field Extraction<dt><br><dt style="margin-left:122;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">### Msg to Parse: </p><p>07/28/14 07:25:05 CDT DEBUG: [3d7887d1-9d89-4575-b2d2-4a127a2fe7dc:PdfConverter] adfasdf</p><p></p><p>### Grok:</p><p>(?&lt;timestamp&gt;%{DATE_US} %{TIME} %{TZ})</p><p></p><p>### Result</p><p></p><p>{</p><p>  &quot;timestamp&quot;: [</p><p>    [</p><p>      &quot;07/28/14 07:25:05 CDT&quot;</p><p>    ]</p><p>  ],</p><p>  &quot;DATE_US&quot;: [</p><p>    [</p><p>      &quot;07/28/14&quot;</p><p>    ]</p><p>  ],</p><p>  &quot;MONTHNUM&quot;: [</p><p>    [</p><p>      &quot;07&quot;</p><p>    ]</p><p>  ],</p><p>  &quot;MONTHDAY&quot;: [</p><p>    [</p><p>      &quot;28&quot;</p><p>    ]</p><p>  ],</p><p>  &quot;YEAR&quot;: [</p><p>    [</p><p>      &quot;14&quot;</p><p>    ]</p><p>  ],</p><p>  &quot;TIME&quot;: [</p><p>    [</p><p>      &quot;07:25:05&quot;</p><p>    ]</p><p>  ],</p><p>  &quot;HOUR&quot;: [</p><p>    [</p><p>      &quot;07&quot;</p><p>    ]</p><p>  ],</p><p>  &quot;MINUTE&quot;: [</p><p>    [</p><p>      &quot;25&quot;</p><p>    ]</p><p>  ],</p><p>  &quot;SECOND&quot;: [</p><p>    [</p><p>      &quot;05&quot;</p><p>    ]</p><p>  ],</p><p>  &quot;TZ&quot;: [</p><p>    [</p><p>      &quot;CDT&quot;</p><p>    ]</p><p>  ]</p><p>}</p><p></p></font><dt><br><dt style="margin-left:72;font: normal normal normal 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Plugins<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Elasticsearch<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"></p><p></p><p>### Service Port</p><p></p><p># * `protocol =&gt; http` - port 9200</p><p># * `protocol =&gt; transport` - port 9300-9305</p><p># * `protocol =&gt; node` - port 9300-9305</p><p></p><p>####  Useful plugin</p><p>Cluster Viwer -&gt; <A HREF="https://github.com/mobz/elasticsearch-head">https://github.com/mobz/elasticsearch-head</A></p><p></p><p></p><p></p><p></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Tuning<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"><A HREF="http://edgeofsanity.net/article/2012/12/26/elasticsearch-for-logging.html">http://edgeofsanity.net/article/2012/12/26/elasticsearch-for-logging.html</A></p><p><A HREF="https://github.com/tavisto/elasticsearch-rpms">https://github.com/tavisto/elasticsearch-rpms</A></p><p></p><p>You should run ElasticSearch as an unprivileged user. My cluster runs as the 'elasticsearch' user, so we tweak the kernel limits on processes and memory in '/etc/security/limits.conf':</p><p></p><p>Cluster Health</p><p></p><p>curl localhost:9200/_cluster/health?pretty</p><p></p><p></p><p>Cluster shutdown</p><p></p><p>curl localhost:9200/_cluster/health?pretty</p><p></p><p></p><p>Settings</p><p></p><p>curl -XPUT <A HREF="http://localhost:9200/blog/">http://localhost:9200/blog/</A> -d '{&quot;settings&quot; : {</p><p>        &quot;number_of_shards&quot; : 1,</p><p>        &quot;number_of_replicas&quot; : 2</p><p>    }</p><p>}'</p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Index<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">### Store</p><p></p><p> curl -XPUT 'http://localhost:9200/test/user/suresh/' -d '{ &quot;name&quot; : &quot;Suresh&quot; }'</p><p> </p><p>curl -XPUT 'http://localhost:9200/demo/post/2' -d '</p><p>{</p><p>    &quot;user&quot;: &quot;johny&quot;,</p><p>    &quot;postDate&quot;: &quot;06-06-2013&quot;,</p><p>    &quot;body&quot;: &quot;This is Demo Post 2 in ElasticSearch&quot; ,</p><p>    &quot;title&quot;: &quot;Demo Post 2&quot;</p><p>}'</p><p></p><p>### Retrieve</p><p></p><p>curl -XGET 'http://localhost:9200/test/user/suresh?pretty=true'</p><p>curl -XGET 'http://localhost:9200/demo/post/2?pretty=true'</p><p></p><p></p><p>####  Delete Index</p><p></p><p>curl -XDELETE <A HREF="http://localhost:9200/posts">http://localhost:9200/posts</A></p><p></p><p>Response</p><p></p><p>{&quot;acknowledged&quot;:true}</p></font><dt><br><dt style="margin-left:72;font: normal normal normal 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Plugins<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Concepts<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">capture errors and logs into the database</p><p>log learning system</p></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Splunk<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Online Sandbox</p><p>Starts: October 13, 2014</p><p>Ends: October 28, 2014</p><p></p><p><A HREF="https://prd-p-lxdsr65mv79w.splunk6.splunktrial.com/">https://prd-p-lxdsr65mv79w.splunk6.splunktrial.com/</A></p><p></p><p><A HREF="http://docs.splunk.com/Documentation/Splunk/6.1.4/installation/RunSplunkasadifferentornon-rootuser">http://docs.splunk.com/Documentation/Splunk/6.1.4/installation/RunSplunkasadifferentornon-rootuser</A></p><p></p><p></p><p>DockerUbuntu VM - admin/suresh</p><p>sudo -H -u splunk $SPLUNK_HOME/bin/splunk start</p></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Tools<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Central Log Management Tools</p><p></p><li><p>IBM Security</p><li><p>HP ArcSight</p><li><p>Splunk</p><li><p>McAfee</p><li><p>LogRhythm</p><li><p>Tibco LogLogic </p></font><dt><br><dt style="margin-left:36;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Testing<dt><br><dt style="margin-left:68;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"></ul><p><font face="Arial" style="font-size:10pt">Random Testing</p><p></p><p><A HREF="http://labs.carrotsearch.com/randomizedtesting-concept.html">http://labs.carrotsearch.com/randomizedtesting-concept.html</A></p></font><dt><br><dt style="margin-left:54;font: normal normal normal 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Unit Testing<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><dt><br><dt style="margin-left:36;font: normal normal normal 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Scaling<dt><br><dt style="margin-left:68;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Max Threads<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"></p><p></p><p></font><font face="Arial" color="#000000" style="font-size:10pt"><b></font><font face="Calibri" color="#000000" style="font-size:10pt"></font><font face="Calibri" color="#000000" style="font-size:11pt">Linux 32 - Example = number of threads = total virtual memory / (stack size*1024*1024)Linux 64Number of CoresRAM Size32 GBVirtual Memory SizeStack per Thread10240 KBMax Memory429496729618,446,744,073,709,500,0003355.4432</font><font face="Calibri" color="#000000" style="font-size:11pt"></b></font><font face="Arial" color="#000000" style="font-size:11pt"></font><font face="Arial" color="#000000" style="font-size:10pt"></p><p></p><p>Web Server CPU Tuning</p><p><A HREF="http://venkateshcm.com/2014/05/How-To-Determine-Web-Applications-Thread-Poll-Size/">http://venkateshcm.com/2014/05/How-To-Determine-Web-Applications-Thread-Poll-Size/</A></p></font><dt><br><dt style="margin-left:36;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Tools<dt><br><dt style="margin-left:68;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">HTTP Server: <A HREF="http://www.rejetto.com/hfs/">http://www.rejetto.com/hfs/</A></p><p></p></font><dt><br><dt style="margin-left:36;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Data Mining<dt><br><dt style="margin-left:68;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"><A HREF="https://sites.google.com/site/stats202/course-information">https://sites.google.com/site/stats202/course-information</A> - Google 2007 Old Lectures</p><p><A HREF="http://www.mmds.org/">http://www.mmds.org/</A> - Stanford Book</p></font><dt><br><dt style="margin-left:36;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Docker<dt><br><dt style="margin-left:68;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">docker path doesn't get sometimes</p><p>virtualbox needs</p><p></p><p>docker on centos - need extra packages</p><p><A HREF="https://fedoraproject.org/wiki/EPEL/FAQ#How_can_I_install_the_packages_from_the_EPEL_software_repository.3F">https://fedoraproject.org/wiki/EPEL/FAQ#How_can_I_install_the_packages_from_the_EPEL_software_repository.3F</A></p><p></p><p>For CentOS 6.5</p><p>su -c 'rpm -Uvh <A HREF="http://download.fedoraproject.org/pub/epel/6/i386/epel-release-6-8.noarch.rpm'">http://download.fedoraproject.org/pub/epel/6/i386/epel-release-6-8.noarch.rpm'</A></p></font><dt><br><dt style="margin-left:18;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Technical Reference<dt><br><dt style="margin-left:50;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"></p><p></p><p></p><p></font><font face="Arial" color="#0000FF" style="font-size:10pt"><u></font><font face="Arial" color="#0000FF" style="font-size:10pt"><A HREF="http://www-130.ibm.com/developerworks/java/">http://www-130.ibm.com/developerworks/java/</A></font><font face="Arial" color="#000000" style="font-size:10pt"></u></font><font face="Arial" color="#000000" style="font-size:10pt"></p></font><dt><br><dt style="margin-left:36;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Tutorial<dt><br><dt style="margin-left:68;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" color="#0000FF" style="font-size:12pt"><u></font><font face="Arial" color="#0000FF" style="font-size:12pt"></font><font face="Arial" color="#0000FF" style="font-size:10pt"><A HREF="http://www-130.ibm.com/developerworks/java/">http://www-130.ibm.com/developerworks/java/</A></font><font face="Arial" color="#000000" style="font-size:10pt"></u></font><font face="Times New Roman" color="#000000" style="font-size:10pt"></font><font face="Times New Roman" color="#000000" style="font-size:12pt"></p><p></font><font face="Arial" color="#000000" style="font-size:12pt"></font><font face="Arial" color="#000000" style="font-size:10pt"></p></font><dt><br><dt style="margin-left:36;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Articles<dt><br><dt style="margin-left:68;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Thread Synchronization</p><p><A HREF="http://www-106.ibm.com/developerworks/java/library/j-threads1.html">http://www-106.ibm.com/developerworks/java/library/j-threads1.html</A></p><p></p><p><A HREF="http://www.eecs.harvard.edu/~mdw/proj/seda/">http://www.eecs.harvard.edu/~mdw/proj/seda/</A> - <b></font><font face="Arial" style="font-size:10pt">SEDA: An Architecture for WellConditioned,</p><p>Scalable Internet Services</b></p><p></font><font face="Arial" style="font-size:10pt"></p><p></font><font face="Arial" color="#0000FF" style="font-size:10pt"><u></font><font face="Consolas" color="#0000FF" style="font-size:10pt"></font><font face="Consolas" color="#0000FF" style="font-size:11pt">&lt;http://dl.acm.org/citation.cfm?id=347561&amp;dl=GUIDE&amp;coll=GUIDE&amp;CFID=520942705&amp;CFTOKEN=46999607&gt;</font><font face="Consolas" color="#000000" style="font-size:11pt"></u></p><p></p><p></font><font face="Consolas" color="#0000FF" style="font-size:11pt"><u>&lt;http://pe-education-vms.s3.amazonaws.com/learning/learn_puppet_centos-6.5-pe-3.2.2-ovf.zip&gt;</font><font face="Consolas" color="#000000" style="font-size:11pt"></u></p><p></p><p></font><font face="Consolas" color="#0000FF" style="font-size:11pt"><u>&lt;http://hortonworks.com/blog/configure-elastic-search-hadoop-hdp-2-0/&gt;</font><font face="Consolas" color="#000000" style="font-size:11pt"></u></p><p></p><p></font><font face="Consolas" color="#0000FF" style="font-size:11pt"><u>&lt;https://speakerdeck.com/bigdata1024/massive-data-aggregation-processing-monitoring-and-visualization-with-apache-flume-elasticsearch-and-d3-dot-js&gt;</font><font face="Consolas" color="#000000" style="font-size:11pt"></u></p><p></p><p></font><font face="Consolas" color="#0000FF" style="font-size:11pt"><u>&lt;http://www.oscon.com/oscon2014/public/content/mainstage-video?imm_mid=0beeca&amp;cmp=em-prog-na-na-newsltr_20140628_elist&gt;</font><font face="Consolas" color="#000000" style="font-size:11pt"></u></p><p></p><p></font><font face="Consolas" color="#0000FF" style="font-size:11pt"><u>&lt;https://pdfium.googlesource.com/pdfium/&gt;</font><font face="Consolas" color="#000000" style="font-size:11pt"></u></p><p></font><font face="Segoe Print" color="#000000" style="font-size:11pt"></p><p></font><font face="Arial" color="#000000" style="font-size:11pt"></font><font face="Arial" color="#000000" style="font-size:10pt"></p><p></p></font><dt><br><dt style="margin-left:36;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Magazine<dt><br><dt style="margin-left:68;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Magazine</p><p>=======</p><p><A HREF="http://www.adtmag.com/">http://www.adtmag.com/</A> : Java Articles</p><p></p><p><A HREF="http://www.informationweek.com/">http://www.informationweek.com/</A></p><p></p><p>jGuru  </p><p>San Jose Mercury News online  </p><p>JavaWorld  </p><p>java.net  </p><p>Micro Java Network  </p><p>Dejanews  </p><p>Java Developers' Journal  </p><p>java.sun.com  </p><p>InfoWorld  </p><p>TheServerSide.com  </p><p>JavaRanch  </p><p>WIRED.com  </p><p>JARs  </p><p>Google  </p><p>Dr. Dobb's Journal  </p><p>Builder.com  </p><p>developers.sun.com  </p><p>JavaOneSM Online  </p><p>Slashdot.org  </p><p>MSDN  </p><p>Java Community ProcessSM (JCPSM)  </p><p>java.com  </p><p>Java Report  </p><p>SDC (Software Developer Connection)  </p><p>Devx.com  </p><p>SD Magazine.com  </p><p>eWEEK  </p><p>CNet  </p><p>Java Lobby  </p><p>Developer.com</p></font><dt><br><dt style="margin-left:36;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Architect<dt><br><dt style="margin-left:68;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"><A HREF="http://www.wwisa.org/">http://www.wwisa.org/</A></p><p></p><p></font><font face="Constantia" style="font-size:10pt"></font><font face="Constantia" style="font-size:11pt">Business Service Management (BSM), </p><p>SLA Management, </p><p>Application Performance Management (APM), </p><p>Real User Measurement (RUM)</p><p>Distributed system tracing and profiling frameworks like Dapper, Zipkin, Magpie</p><p>Security, Authentication and Authorization protocols like SSL, LDAP, PKI, OAuth, Open ID, etc</p><p>Master Data Management</font><font face="Constantia" style="font-size:10pt"></p></font><dt><br><dt style="margin-left:36;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">TechProfiles<dt><br><dt style="margin-left:68;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"><A HREF="http://homepages.nildram.co.uk/~slink/">http://homepages.nildram.co.uk/~slink/</A></p><p></p><p></p><p></font><font face="Segoe Print" style="font-size:10pt"></font><font face="Segoe Print" style="font-size:11pt">Per Brinch Hansen</p><p>Grady Booch, </p><p>David Parnas, </p><p>James Coplien, </p><p>Frederick Brooks</p><p></font><font face="Segoe Print" style="font-size:11pt"></p><p>Leslie Lamport</p><p></font><font face="Segoe Print" color="#0000FF" style="font-size:11pt"><u><A HREF="http://research.microsoft.com/en-us/um/people/lamport/pubs/paxos-simple.pdf">http://research.microsoft.com/en-us/um/people/lamport/pubs/paxos-simple.pdf</A></font><font face="Segoe Print" color="#000000" style="font-size:11pt"></u></font><font face="Arial" color="#000000" style="font-size:11pt"></font><font face="Arial" color="#000000" style="font-size:10pt"></p></font><dt><br><dt style="margin-left:36;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Study<dt><br><dt style="margin-left:68;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"><A HREF="http://www.pmi.org/">http://www.pmi.org/</A></p><p><A HREF="https://www.isc2.org/">https://www.isc2.org/</A></p></font><dt><br><dt style="margin-left:36;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">DataStructures<dt><br><dt style="margin-left:68;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"><A HREF="http://theory.lcs.mit.edu/~clr/">http://theory.lcs.mit.edu/~clr/</A> =&gt; Algorithms</p></font><dt><br><dt style="margin-left:36;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">UML/OOAD/Patterns<dt><br><dt style="margin-left:68;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:12pt"></font><font face="Arial" style="font-size:10pt">Code Logic - Sequence Diagram generator - rPz5IxMFE2/85cyWni+PxKBM0V9iJ7Rb</p><p></p><p>Patterns</p><p>=======</p><p><A HREF="http://home.earthlink.net/~huston2/">http://home.earthlink.net/~huston2/</A></p><p></p><p><A HREF="http://www.acm.org/crossroads/xrds7-4/frameworks.html">http://www.acm.org/crossroads/xrds7-4/frameworks.html</A></p><p></p><p><A HREF="http://www.hillside.net">http://www.hillside.net</A></p><p></p><p></font><font face="Arial" color="#0000FF" style="font-size:10pt"><u></font><font face="Times New Roman" color="#0000FF" style="font-size:10pt"></font><font face="Times New Roman" color="#0000FF" style="font-size:12pt"><A HREF="http://www.refactoring.com/catalog/index.html">http://www.refactoring.com/catalog/index.html</A></font><font face="Times New Roman" color="#000000" style="font-size:12pt"></u> </p><p></font><font face="Arial" color="#000000" style="font-size:12pt"></font><font face="Arial" color="#000000" style="font-size:10pt"></p><p></p><p>oops, UML</p><p>=========</p><p><A HREF="http://collaboration.csc.ncsu.edu/laurie/">http://collaboration.csc.ncsu.edu/laurie/</A> - Pair Programming</p><p><A HREF="http://www.arrakis.es/~devis/handbook/">http://www.arrakis.es/~devis/handbook/</A>  </p><p><A HREF="http://www.armaties.com/extreme.htm">www.armaties.com/extreme.htm</A></p><p><A HREF="http://www.ambysoft.com/mappingObjects.html">http://www.ambysoft.com/mappingObjects.html</A> - VG</p><p><A HREF="http://hillside.net/patterns">http://hillside.net/patterns</A> </p><p><A HREF="http://www.joopmag.com">www.joopmag.com</A></p><p><A HREF="http://www.ics.uci.edu/pub/arch/">http://www.ics.uci.edu/pub/arch/</A> - VG</p><p><A HREF="http://argouml.tigris.org//">http://argouml.tigris.org//</A>      - VG</p><p><A HREF="http://www.tigris.org">www.tigris.org</A> </p><p><A HREF="http://www.objectarchitects.de">http://www.objectarchitects.de</A> </p><p><A HREF="http://www.reengineering.ed.ac.uk/">http://www.reengineering.ed.ac.uk/</A> - </p><p><A HREF="http://www.objectmentor.com">www.objectmentor.com</A> </p><p><A HREF="http://www.omg.org/technology/documents/formal/uml.htm">www.omg.org/technology/documents/formal/uml.htm</A></p><p><A HREF="http://www.objectdesign.com">www.objectdesign.com</A></p><p><A HREF="http://www.butlergroup.com">www.butlergroup.com</A></p><p><A HREF="http://www.ics.uci.edu/pub/arch/uml/critics/CrNoInsatnceVariables.html">http://www.ics.uci.edu/pub/arch/uml/critics/CrNoInsatnceVariables.html</A></p><p><A HREF="http://www.srtilley.com/SIGPC/VINI2.htm">www.srtilley.com/SIGPC/VINI2.htm</A></p><p><A HREF="http://www.eiffel.com">www.eiffel.com</A></p><p><A HREF="http://www.c2.com/doc/oopsla89/paper.html">www.c2.com/doc/oopsla89/paper.html</A></p><p><A HREF="http://www.industriallogic.com/papers/learning.html">http://www.industriallogic.com/papers/learning.html</A> - Very Good</p><p></p><p>Booch Blog</p><p><A HREF="http://www.booch.com/">http://www.booch.com/</A></p><p></p><p><A HREF="http://www.wwisa.org/">http://www.wwisa.org/</A> - Software Architects</p><p><A HREF="http://www.njit.edu/ClassNotes/CIS683/">http://www.njit.edu/ClassNotes/CIS683/</A></p><p><A HREF="http://swt-www.informatik.uni-hamburg.de/people/sr.html">http://swt-www.informatik.uni-hamburg.de/people/sr.html</A> - good links</p><p></p><p>ooad case tools</p><p><A HREF="http://www.cs.queensu.ca/Software-Engineering/toolcat.html#label218">http://www.cs.queensu.ca/Software-Engineering/toolcat.html#label218</A></p><p></p><p>UMLPad, Small UML Tool</p><p><A HREF="http://web.tiscali.it/ggbhome/">http://web.tiscali.it/ggbhome/</A></p><p></p><p>Interface Hall of Shame (worth to visit)</p><p><A HREF="http://www.iarchitect.com/shame.htm">http://www.iarchitect.com/shame.htm</A></p><p></p><p></p><p>GUI design links</p><p><A HREF="http://www.iarchitect.com/links.htm">http://www.iarchitect.com/links.htm</A></p><p></p><p>Base of internet (internet FAQ consortium) </p><p><A HREF="http://www.faqs.org/rfcs/index.html">http://www.faqs.org/rfcs/index.html</A></p><p></p><p>Patterns/UML/Design</p><p>==========</p><p><A HREF="http://java.sun.com/blueprints/corej2eepatterns/">http://java.sun.com/blueprints/corej2eepatterns/</A></p><p></font><font face="Book Antiqua" color="#000000" style="font-size:10pt"></font><font face="Book Antiqua" color="#000000" style="font-size:12pt"><A HREF="http://www.ibm.com/developerworks/rational/rationaledge">http://www.ibm.com/developerworks/rational/rationaledge</A></p><p></font><font face="Arial" color="#000000" style="font-size:12pt"></font><font face="Arial" color="#000000" style="font-size:10pt"><A HREF="http://www.picocontainer.org/">http://www.picocontainer.org/</A> - VG</font><font face="Arial" color="#000000" style="font-size:12pt"></p><p></font><font face="Arial" color="#000000" style="font-size:12pt"></font><font face="Arial" color="#000000" style="font-size:10pt"></p></font><dt><br><dt style="margin-left:36;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Tools/Software<dt><br><dt style="margin-left:68;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">ethereal -&gt; System Monitoring - VG</p><p>FreeMind -&gt; thoughts scrap tool</p><p><A HREF="http://ftp.esoftmatic.com/DBI/">http://ftp.esoftmatic.com/DBI/</A> - QA Tool</p><p><A HREF="http://www.gnu.org">http://www.gnu.org</A></p><p><A HREF="http://download.zonealarm.com/bin/free/sum/index.html">http://download.zonealarm.com/bin/free/sum/index.html</A></p><p><A HREF="http://qa.coreboot.org/docs/doxygen/">http://qa.coreboot.org/docs/doxygen/</A>  - BiOS replacement using linux</p><p><A HREF="http://jira.amqp.org/confluence/display/AMQP/About+AMQP">http://jira.amqp.org/confluence/display/AMQP/About+AMQP</A>    Middleware</p><p><A HREF="http://www.wix.com/">http://www.wix.com/</A> - Free flash website</p></font><dt><br><dt style="margin-left:36;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">MessageResource<dt><br><dt style="margin-left:68;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"><A HREF="http://freeroller.net/page/dkfn/20031228">http://freeroller.net/page/dkfn/20031228</A></p><p><A HREF="http://www.jguru.com/faq/view.jsp?EID=779194">http://www.jguru.com/faq/view.jsp?EID=779194</A></p><p><A HREF="http://www.jguru.com/faq/subtopic.jsp?topicID=469766">http://www.jguru.com/faq/subtopic.jsp?topicID=469766</A></p><p></p><p></p><p>Struts Initialization</p><p>==============</p><p>1) DefaultResourceFactory.createResources();</p><p>     Initialize DefaultResources();</p><p></p><p>LoginAction</p><p>========</p><p>2) Call CustomResourceService.createCustomResources</p><p>     Initialize CompanyResources(DefaultResources)</p><p></p><p></p><p>Access OutSide Struts</p><p>=================</p><p></p><p>Use 1 &amp; 2</p><p></p><p>NotificationService</p><p></p></font><dt><br><dt style="margin-left:36;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">News/Blogs/Updates<dt><br><dt style="margin-left:68;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"><A HREF="http://www.javatools.org">http://www.javatools.org</A></p><p><A HREF="http://www.javaolympus.com">http://www.javaolympus.com</A></p><p><A HREF="http://www.javapassion.com">http://www.javapassion.com</A></p><p><A HREF="http://alphaworks.ibm.com">http://alphaworks.ibm.com</A></p><p><A HREF="http://crazybob.org">http://crazybob.org</A></p><p><A HREF="http://www.codeguru.com/java/articles/">http://www.codeguru.com/java/articles/</A></font><font face="Arial" color="#0000FF" style="font-size:10pt"><u></font><font face="Arial" color="#0000FF" style="font-size:10pt"></p><p><A HREF="http://www.cafeaulait.org/">http://www.cafeaulait.org/</A></font><font face="Arial" color="#000000" style="font-size:10pt"></u></font><font face="Times New Roman" color="#000000" style="font-size:10pt"></font><font face="Times New Roman" color="#000000" style="font-size:12pt"></p><p></font><font face="Arial" color="#000000" style="font-size:12pt"></font><font face="Arial" color="#000000" style="font-size:10pt"></p></font><dt><br><dt style="margin-left:36;font: normal normal normal 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Technologies<dt><br><dt style="margin-left:68;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">WebTechnologies<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Building Websites</p><p>=================</p><p><A HREF="http://www.sun.com/developers/dotcombuilder/">http://www.sun.com/developers/dotcombuilder/</A></p><p><A HREF="http://www.zerocode.com">http://www.zerocode.com</A></p><p><A HREF="http://trent.fakkir.net/gallery/trout">http://trent.fakkir.net/gallery/trout</A> =&gt; Photo Gallery</p><p></p><p><A HREF="http://www.free-css-templates.com/css-templates/2">http://www.free-css-templates.com/css-templates/2</A></p></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Security<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"><A HREF="http://www.authenticationworld.com/">http://www.authenticationworld.com/</A></p></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Hibernate<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"><A HREF="http://forum.hibernate.org/viewtopic.php?t=928136&amp;highlight=aftertransactioncompletion">http://forum.hibernate.org/viewtopic.php?t=928136&amp;highlight=aftertransactioncompletion</A></p><p></font><font face="Arial" style="font-size:10pt"><A HREF="http://forum.hibernate.org/viewtopic.php?t=934158&amp;highlight=nolock">http://forum.hibernate.org/viewtopic.php?t=934158&amp;highlight=nolock</A></font><font face="Arial" style="font-size:12pt"></p><p></font><font face="Arial" style="font-size:12pt"></font><font face="Arial" style="font-size:10pt"></p><p>Read -&gt; <A HREF="http://forum.hibernate.org/viewtopic.php?t=926542&amp;highlight=subclass">http://forum.hibernate.org/viewtopic.php?t=926542&amp;highlight=subclass</A></p><p></p><p></p><p>one-to-many mapping -&gt; <A HREF="http://forum.hibernate.org/viewtopic.php?t=925450">http://forum.hibernate.org/viewtopic.php?t=925450</A></p><p>Interceptor -&gt; <A HREF="http://www.hibernate.org/hib_docs/reference/html_single/#manipulating-data-s15">http://www.hibernate.org/hib_docs/reference/html_single/#manipulating-data-s15</A></p><p>ppt: <A HREF="http://www.acornbay.com/pages/training/hibernate/Intro%20to%20Hibernate%20TCJUG%20200307.pdf">http://www.acornbay.com/pages/training/hibernate/Intro%20to%20Hibernate%20TCJUG%20200307.pdf</A></p><p>one-to-one <A HREF="http://www.xylax.net/hibernate/onetoone.html">http://www.xylax.net/hibernate/onetoone.html</A></p><p>orm tools comparison (* * * * *)=&gt; <A HREF="http://c2.com/cgi-bin/wiki?ObjectRelationalToolComparison">http://c2.com/cgi-bin/wiki?ObjectRelationalToolComparison</A></p><p></p><p>Issues</p><p>=====</p><p></p><li><p>to do lazy initialization, we need to keep the session open</p><li><p><A HREF="http://forum.hibernate.org/viewtopic.php?t=924911&amp;highlight=collection+values+clause">http://forum.hibernate.org/viewtopic.php?t=924911&amp;highlight=collection+values+clause</A> cannot query on collection of child, in </p></ul><p></p><p>        from ForumMessage forum</p><p>        inner join forum.childSet as children</p><p>        where children.parentMessageId = :parentMessageId</p><p></p><p></p></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">WebServices<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Resources </p><p>The following are links and articles related to XML Web Services</p><p></p><p> </p><p>XML Web Services Resources </p><p> </p><p> Web Services Architect: <A HREF="http://www.webservicesarchitect.com">www.webservicesarchitect.com</A></p><p> </p><p> WebServices.org: <A HREF="http://www.webservices.org">www.webservices.org</A></p><p> </p><p> CBDI Forum: <A HREF="http://www.cbdiforum.com">www.cbdiforum.com</A></p><p> </p><p> The Stencil Group: <A HREF="http://www.stencilgroup.com">www.stencilgroup.com</A></p><p> </p><p> Visual Basic XML Web Services <A HREF="http://www.vbws.com">www.vbws.com</A></p><p>(Visual Basic XML Web Services)</p><p> </p><p> Web Services Journal: <A HREF="http://www.sys-con.com/webservices/">www.sys-con.com/webservices/</A></p><p> </p><p> SOAP RPC: <A HREF="http://www.soaprpc.com">www.soaprpc.com</A></p><p> </p><p> Web Services Index: <A HREF="http://www.wsindex.org">www.wsindex.org</A></p><p> </p><p> Search Web Services: <A HREF="http://www.searchwebservices.com">www.searchwebservices.com</A></p><p> </p><p> </p><p> </p><p>Security Links</p><p> </p><p> Information Systems Security Association <A HREF="http://www.issa.org">www.issa.org</A></p><p> </p><p> XML Web Services Security Forum: <A HREF="http://www.xwss.org">www.xwss.org</A></p><p> </p><p> Counterpane: <A HREF="http://www.counterpane.com">www.counterpane.com</A></p><p> </p><p> Security Focus: <A HREF="http://www.securityfocus.com">www.securityfocus.com</A></p><p> </p><p> Search Security: <A HREF="http://www.searchsecurity.com">www.searchsecurity.com</A></p><p> </p><p> Open Directory Project: dmoz.org/Computers/Security/</p><p> </p><p> Internet Security Alliance: <A HREF="http://www.isalliance.org">www.isalliance.org</A></p><p> </p><p> Information Security Magazine: <A HREF="http://www.infosecuritymag.com/index.shtml">www.infosecuritymag.com/index.shtml</A></p><p> </p><p> XML Security Page: <A HREF="http://www.nue.et-inf.uni-siegen.de/~geuer-pollmann/xml_security.html">www.nue.et-inf.uni-siegen.de/~geuer-pollmann/xml_security.html</A></p><p> </p><p> </p><p> </p><p>Standards</p><p> </p><p> WS-Security: <A HREF="http://www-106.ibm.com/developerworks/library/ws-secmap/">http://www-106.ibm.com/developerworks/library/ws-secmap/</A></p><p> </p><p> Web Services Interoperability Organization: <A HREF="http://www.ws-i.org">www.ws-i.org</A></p><p> </p><p> Liberty Alliance Project: <A HREF="http://www.projectliberty.org">www.projectliberty.org</A></p><p> </p><p> W3C: <A HREF="http://www.w3c.org">www.w3c.org</A></p><p> </p><p> XACML: <A HREF="http://www.oasis-open.org/committees/xacml">www.oasis-open.org/committees/xacml</A></p><p> </p><p> SAML: <A HREF="http://www.oasis-open.org/committees/security">www.oasis-open.org/committees/security</A></p><p> </p><p> XKMS: <A HREF="http://www.w3.org/TR/xkms">www.w3.org/TR/xkms</A></p><p> </p><p> XML Encryption: <A HREF="http://www.w3.org/Encryption/2001">www.w3.org/Encryption/2001</A></p><p> </p><p> XML Signature: <A HREF="http://www.w3.org/Signature">www.w3.org/Signature</A></p><p> </p><p> UDDI: <A HREF="http://www.uddi.org">www.uddi.org</A></p><p> </p><p> ebXML: <A HREF="http://www.ebxml.org">www.ebxml.org</A></p><p> </p><p> </p><p> </p><p>System Integrators</p><p> </p><p> Callisma: <A HREF="http://www.callisma.com">www.callisma.com</A></p><p> </p><p> Breakwater Security: <A HREF="http://www.breakwatersecurity.com">www.breakwatersecurity.com</A></p><p> </p><p> Sierra Atlantic: <A HREF="http://www.sierraatlantic.com">www.sierraatlantic.com</A></p><p> </p><p> Urbach, Kahn &amp; Werlin Advisors: <A HREF="http://www.ukw.com">www.ukw.com</A></p><p> </p><p> Spectria: <A HREF="http://www.spectria.com">www.spectria.com</A></p><p> </p><p> Spectrum Systems: <A HREF="http://www.spectrum-systems.com">www.spectrum-systems.com</A></p><p> </p><p> Herzum Software: <A HREF="http://www.herzumsoftware.com">www.herzumsoftware.com</A></p><p> </p><p> Icons, Inc.: <A HREF="http://www.iconsinc.com">www.iconsinc.com</A></p><p> </p><p> </p><p> </p><p>Other Resources</p><p> </p><p> InfoWorld: <A HREF="http://www.infoworld.com">www.infoworld.com</A></p><p> </p><p> XMethods: <A HREF="http://www.xmethods.com">www.xmethods.com</A></p><p> </p><p> eWeek: <A HREF="http://www.eweek.com">www.eweek.com</A></p><p> </p><p> InternetWeek: <A HREF="http://www.internetweek.com">www.internetweek.com</A></p><p> </p><p> Software Development Times: <A HREF="http://www.sdtimes.com">www.sdtimes.com</A></p><p> </p><p> </p><p> </p><p>Government Resources</p><p> </p><p> csrc.nist.gov (National Institute of Standards and Technology)</p><p> </p><p> <A HREF="http://www.sans.org">www.sans.org</A> (The security, administration, networking and security institute)</p><p> </p><p> <A HREF="http://www.gocsi.com">www.gocsi.com</A> (CSI - Computer Security Institute) </p><p> </p><p> </p><p> </p><p>XML Web Services Articles</p><p> </p><p> Definition and specifications of Web Services:</p><p><A HREF="http://www.service-architecture.com/web-services/articles/index.html">http://www.service-architecture.com/web-services/articles/index.html</A></p><p> </p><p> XML standards and vocabularies:</p><p><A HREF="http://www.service-architecture.com/xml/articles/index.html">http://www.service-architecture.com/xml/articles/index.html</A></p><p> </p><p> SOAP author says enough specs already</p><p><A HREF="http://www.itworld.com/AppDev/4162/030306soapauthor/">http://www.itworld.com/AppDev/4162/030306soapauthor/</A></p><p> </p><p> Web Services Security, Part 1</p><p><A HREF="http://www.xml.com/pub/a/ws/2003/03/04/security.html">http://www.xml.com/pub/a/ws/2003/03/04/security.html</A></p><p> </p><p> XACML -- A No-Nonsense Developer's Guide</p><p><A HREF="http://www.idevnews.com/TipsTricks.asp?ID=57">http://www.idevnews.com/TipsTricks.asp?ID=57</A></p><p> </p><p> Gartner: Surprises in Web Services Security <A HREF="http://techupdate.zdnet.com/techupdate/stories/main/0,14179,2907342,00.html">http://techupdate.zdnet.com/techupdate/stories/main/0,14179,2907342,00.html</A></p><p> </p><p> WS-Security Specs Make Their Debut: <A HREF="http://www.infoworld.com/articles/hn/xml/02/12/18/021218hnibmmsspec.xml">http://www.infoworld.com/articles/hn/xml/02/12/18/021218hnibmmsspec.xml</A></p><p> </p><p> Can Web Services Live Up to the Hype: <A HREF="http://www.wallstreetandtech.com/story/WST20021007S0005">www.wallstreetandtech.com/story/WST20021007S0005</A></p><p> </p><p> XML Firewalls: searchsecurity.techtarget.com/originalContent/</p><p>0,289142,sid14_gci850587,00.html</p><p> </p><p> SAML Secures Web Services: <A HREF="http://www.computerworld.com/developmenttopics/development/">www.computerworld.com/developmenttopics/development/</A></p><p>webdev/story/0,10801,73712,00.html</p><p> </p><p> Web Service Gotchas: www-106.ibm.com/developerworks/webservices/library/ws-gotcha/</p><p> </p><p> Security Holds Back Web Services: </p><p>techupdate.zdnet.com/techupdate/stories/main/0,14179,2874000,00.html</p><p> </p><p> XML Security, a Who's Who: techupdate.zdnet.com/techupdate/stories/main/0,14179,2873295,00.html</p><p> </p><p> Research: XML and Web services security market to grow to $4.4 billion:</p><p>searchwebservices.techtarget.com/originalContent/</p><p>0,289142,sid26_gci837284,00.html</p><p> </p><p> Secure Your Web Services: <A HREF="http://www.fawcette.com/vsm/2002_06/online/menglee/">www.fawcette.com/vsm/2002_06/online/menglee/</A></p><p> </p><p> Web Services intermediaries: <A HREF="http://www.webservicesarchitect.com/content/articles/irani07.asp">www.webservicesarchitect.com/content/articles/irani07.asp</A></p><p> </p><p> In a Lather About Security: xml.com/pub/a/2002/02/27/security-lather.html</p><p> </p><p> Discussion of SAML: <A HREF="http://www.fawcette.com/xmlmag/2002_02/">www.fawcette.com/xmlmag/2002_02/</A></p><p>magazine/columns/collaboration/edejesus/</p><p> </p><p> Defending against XML Web Service against Hackers: msdn.microsoft.com/library/en-us/dn_voices_webservices/html/services09192001.asp</p><p> </p><p> Microsoft Web Services Security: msdn.microsoft.com/vstudio/techinfo/articles/XMLwebservices/security.asp</p><p> </p><p> Internet Security Alliance: <A HREF="http://www.isalliance.org">www.isalliance.org</A></p><p> </p><p> Bruce Schneier from CounterPane: <A HREF="http://www.counterpane.com/crypto-gram-0006.html#SOAP">www.counterpane.com/crypto-gram-0006.html#SOAP</A></p><p> </p><p> XWSS.org Articles: <A HREF="http://www.xwss.org/articles.jsp?forum=34">www.xwss.org/articles.jsp?forum=34</A></p><p> </p><p> Taking Control of Web Services: <A HREF="http://www.line56.com/articles/default.asp?ArticleID=3823">www.line56.com/articles/default.asp?ArticleID=3823</A></p><p> </p><p> Securing Web Services: <A HREF="http://www.nwfusion.com/buzz/2002/websec.html">www.nwfusion.com/buzz/2002/websec.html</A></p><p> </p><p> </p><p></p><p></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Axis<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:12pt"></font><font face="Arial" style="font-size:10pt">Validation</p><p>========</p><p>Cient to Server</p><p>   UI validation at the client side, Business Validation at the </p><p></p><p>MessageHandling</p><p>=============</p><p>One common message object to all suppliers</p><p></p><p>List Views</p><p>========</p><p></p><p>Overwrite JRun Axis</p><p>==============</p><p></p><p>WebServices</p><p>==========</p><p></p><p>1. Write script for creating blank buyer database</p><p>2. write script for migrating one buyer at a time to newer version. ( would be similar to TAC data slice)</p><p>3. Create table to hold webservice url for buyers and suppliers.</p><p>4. If the client and server are on the same version and self hosted then we can avoid making a webservice request and directly call the service layer to persist. </p><p>5. Create a table to store the mapping for webservice class/method to module &amp; activity of request. This will be used  by item 4</p><p>6. Create a generic Service Component for calling webservices or insite services for the request. If it has to make a webservice call  then it will dynamically create the proper call based on module/activity of the request and invoke else directly call the insite service to process the request.</p><p>7. Write class convertors from 4.0 to 3.6 and vice versa to send over Business Objects from one version to the other as web service. This is required since the packages are different and the class structures differ in terms of ArrayLists have been converted to Sets, float to BigDecimal etc. This will also take care of field name changes.</p><p>8. 3.6 Database would have to remain the supplier db. Buyers will migrate to 4.0 (new) database and when all buyers have migrated then the 3.6 db would exclusively become supplier db.</p><p></font><font face="Arial" style="font-size:10pt"></p><p></p><p>Authentication</p><p>===========</p><p></p><p></font><font face="Courier New" style="font-size:10pt">The Authorization object will have following attributes.</p><p></p><p>PersonName,</p><p>PersonId</p><p>Passcode</p><p>SupplierCode</p><p>BuyerCode</p><p>ActionTime</p><p></p><p>The webservice log table will have following fields</p><p></p><p>Client Server,</p><p>BuyerCode,</p><p>SupplierCode</p><p>ActionTime</p><p>PersonId</p><p>ModuleId</p><p>ActivityId</p><p></p><p></p><p></p><p></p><p></font><font face="Arial" style="font-size:10pt"></p><p></p></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">JVM<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"><A HREF="http://java.sun.com/docs/hotspot/gc1.4.2/index.html#3.%20Sizing%20the%20Generations|outline">http://java.sun.com/docs/hotspot/gc1.4.2/index.html#3.%20Sizing%20the%20Generations|outline</A></p></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">JDBC<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"><A HREF="http://www-1.ibm.com/servers/enable/site/java/jdbc/jdbcfaq.html">http://www-1.ibm.com/servers/enable/site/java/jdbc/jdbcfaq.html</A></p><p><A HREF="http://www.precisejava.com/javaperf/j2ee/JDBC.htm#JDBC102">http://www.precisejava.com/javaperf/j2ee/JDBC.htm#JDBC102</A></p></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">EJB<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"><A HREF="http://java.sun.com/j2ee/tutorial/1_3-fcs/doc/EJBConcepts.html">http://java.sun.com/j2ee/tutorial/1_3-fcs/doc/EJBConcepts.html</A></p></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">JMS<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Courier New" color="#0000FF" style="font-size:12pt"><u></font><font face="Courier New" color="#0000FF" style="font-size:12pt"></font><font face="Courier New" color="#0000FF" style="font-size:10pt"><A HREF="http://java.sun.com/products/jms/tutorial/index.html">http://java.sun.com/products/jms/tutorial/index.html</A></font><font face="Courier New" color="#000000" style="font-size:10pt"></u></font><font face="Times New Roman" color="#000000" style="font-size:10pt"></font><font face="Times New Roman" color="#000000" style="font-size:12pt"></p><p></font><font face="Arial" color="#000000" style="font-size:12pt"></font><font face="Arial" color="#000000" style="font-size:10pt"></p></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">XML<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" color="#0000FF" style="font-size:12pt"><u></font><font face="Arial" color="#0000FF" style="font-size:12pt"></font><font face="Arial" color="#0000FF" style="font-size:10pt"><A HREF="http://www.perfectxml.com/">http://www.perfectxml.com/</A></font><font face="Arial" color="#000000" style="font-size:10pt"></u></font><font face="Times New Roman" color="#000000" style="font-size:10pt"></font><font face="Times New Roman" color="#000000" style="font-size:12pt"></p><p></font><font face="Arial" color="#000000" style="font-size:12pt"></font><font face="Arial" color="#000000" style="font-size:10pt"></p></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Programming<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Java/J2EE</p><p><A HREF="http://java.sun.com/javaone/index.jsp">http://java.sun.com/javaone/index.jsp</A> =&gt; Sun One Technology Day San Fransisco - June 28 to July 1 2004</p><p><A HREF="http://java.sun.com/developer/onlineTraining/index.html">http://java.sun.com/developer/onlineTraining/index.html</A></p><p><A HREF="http://alphaworks.ibm.com/">http://alphaworks.ibm.com/</A> =&gt; IBM site </p><p><A HREF="http://theserverside.com/events/index.jsp">http://theserverside.com/events/index.jsp</A> = Events, J2ee Technology</p><p><A HREF="http://www.jamesholmes.com">www.jamesholmes.com</A> =&gt;Tips</p><p><A HREF="http://www.javapassion.com/j2ee/">http://www.javapassion.com/j2ee/</A></p><p><A HREF="http://java.sun.com/docs/books/jls/second_edition/html/jTOC.doc.html">http://java.sun.com/docs/books/jls/second_edition/html/jTOC.doc.html</A> =&gt; Java Language Specification</p><p><A HREF="http://members.aol.com/kgb1001001/Resume.html">http://members.aol.com/kgb1001001/Resume.html</A> =&gt;Java Articles, Author: </font><font face="Arial" style="font-size:12pt">Kyle Brown</font><font face="Arial" style="font-size:10pt"></p><p><A HREF="http://www.caracara.org/misc/quickref/">http://www.caracara.org/misc/quickref/</A> =&gt; J2EE Technologies</p><p><A HREF="http://java.sun.com/developer/Books/JDBCTutorial/index.html">http://java.sun.com/developer/Books/JDBCTutorial/index.html</A></p><p><A HREF="http://www.onjava.com/pub/a/onjava/2001/05/23/j2ee.html?page=2">http://www.onjava.com/pub/a/onjava/2001/05/23/j2ee.html?page=2</A></p><p><A HREF="http://www.javatools.org">www.javatools.org</A></p><p><A HREF="http://www.javaolympus.com/">http://www.javaolympus.com/</A></p><p></p><p></p><p></p><p></p><p>Struts/Tiles</p><p>========</p><p><A HREF="http://crazybob.org/">http://crazybob.org/</A> =&gt; Struts, XML etc.....</p><p><A HREF="http://java.sun.com/developer/technicalArticles/javaserverpages/jsp_templates/">http://java.sun.com/developer/technicalArticles/javaserverpages/jsp_templates/</A> : Templating in Struts</p><p><A HREF="http://www.lifl.fr/~dumoulin/tiles/">http://www.lifl.fr/~dumoulin/tiles/</A></p><p></p><p>Tools/Software</p><p><A HREF="http://www.webmethods.com/">http://www.webmethods.com/</A></p><p><A HREF="http://techrepublic.com/">http://techrepublic.com/</A></p><p><A HREF="http://beanshell.org/">http://beanshell.org/</A></p><p><A HREF="http://www.xp123.com/xplor/xp0002b/index.shtml">http://www.xp123.com/xplor/xp0002b/index.shtml</A> =&gt; Extreme programming</p><p><A HREF="http://www.reumann.net/do/struts/lesson3/step9">http://www.reumann.net/do/struts/lesson3/step9</A> =&gt; Struts Example</p><p></p><p></p><p>Website Design Tips</p><p><A HREF="http://www.refcards.com/index.html">http://www.refcards.com/index.html</A></p><p><A HREF="http://livedocs.macromedia.com/jrun/4/JRun_Administrators_Guide/jrundotxml2.htm">http://livedocs.macromedia.com/jrun/4/JRun_Administrators_Guide/jrundotxml2.htm</A> =&gt; JRun Server Settings</p><p><A HREF="http://www.bpurcell.org/blog/index.cfm">http://www.bpurcell.org/blog/index.cfm</A> =&gt; Jrun Configuration Questions, by macromedia support person</p><p><A HREF="http://www.systinet.com/resources/case_studies">http://www.systinet.com/resources/case_studies</A> =&gt; Web Services</p><p></font><font face="Arial" color="#0000FF" style="font-size:10pt"><u></font><font face="Times New Roman" color="#0000FF" style="font-size:10pt"></font><font face="Times New Roman" color="#0000FF" style="font-size:12pt"><A HREF="http://www-106.ibm.com/developerworks/web/library/wa-ui/">http://www-106.ibm.com/developerworks/web/library/wa-ui/</A> </u>=&gt; UI article</font><font face="Times New Roman" color="#000000" style="font-size:12pt"></font><font face="Arial" color="#000000" style="font-size:12pt"></font><font face="Arial" color="#000000" style="font-size:10pt"></p><p><A HREF="http://www.onjava.com/pub/a/onjava/2002/01/09/dataexp1.html?page=2">http://www.onjava.com/pub/a/onjava/2002/01/09/dataexp1.html?page=2</A></p><p></p><p></p><p>JRUN Documents</p><p><A HREF="http://www.macromedia.com/support/jrun/ts/documents/tn17974.htm">http://www.macromedia.com/support/jrun/ts/documents/tn17974.htm</A></p><p><A HREF="http://livedocs.macromedia.com/jrun/4/JRun_Administrators_Guide/resources2.htm#1113343">http://livedocs.macromedia.com/jrun/4/JRun_Administrators_Guide/resources2.htm#1113343</A> ===&gt; JDBC</p><p></p><p>Tutorial</p><p><A HREF="http://cermics.enpc.fr/doc/java/j2eetutorial-1.4/doc/JSPIntro7.html">http://cermics.enpc.fr/doc/java/j2eetutorial-1.4/doc/JSPIntro7.html</A></p><p></p><p></p><p></p><p></p><p>download</p><p>========</p><p>webattack.com =&gt; free softwared for download</p><p><A HREF="http://www.200sharewarelinks.com/">http://www.200sharewarelinks.com/</A></p><p></p><p>Tools</p><p>======</p><p><A HREF="http://www.gnu.org">www.gnu.org</A></p><p></p><p>Forums</p><p>======</p><p><A HREF="http://forums.javatools.org">http://forums.javatools.org</A></p><p><A HREF="http://www.dbforums.com">http://www.dbforums.com</A></p><p></p><p></p><p></p><p></p></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Swing<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" color="#0000FF" style="font-size:12pt"><u></font><font face="Arial" color="#0000FF" style="font-size:12pt"></font><font face="Arial" color="#0000FF" style="font-size:10pt"><A HREF="http://www.javashelf.com/">http://www.javashelf.com/</A></font><font face="Arial" color="#000000" style="font-size:10pt"></u></font><font face="Arial" color="#000000" style="font-size:10pt"></p><p></font><font face="Arial" color="#0000FF" style="font-size:10pt"><u></font><font face="Arial" color="#0000FF" style="font-size:10pt">&lt;http://www.javadesktop.org/&gt;</font><font face="Arial" color="#000000" style="font-size:10pt"></u></font><font face="Times New Roman" color="#000000" style="font-size:10pt"></font><font face="Times New Roman" color="#000000" style="font-size:12pt"> </p><p></font><font face="Times New Roman" color="#0000FF" style="font-size:12pt"><u></font><font face="Arial" color="#0000FF" style="font-size:12pt"></font><font face="Arial" color="#0000FF" style="font-size:10pt">&lt;http://www.radview.com/&gt;</font><font face="Arial" color="#000000" style="font-size:10pt"></u></font><font face="Times New Roman" color="#000000" style="font-size:10pt"></font><font face="Times New Roman" color="#000000" style="font-size:12pt"></p><p></font><font face="Arial" color="#000000" style="font-size:12pt"></font><font face="Arial" color="#000000" style="font-size:10pt"></p></font><dt><br><dt style="margin-left:36;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">My Machine Setup<dt><br><dt style="margin-left:68;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">My Settings and Configuration I like</p></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Tools I need<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"></p><p></p><p></p><p></p><p></font><font face="Arial" color="#000000" style="font-size:10pt"><b></font><font face="Calibri" color="#000000" style="font-size:10pt"></font><font face="Calibri" color="#000000" style="font-size:11pt">Tool NamePurposeUsageWeb Tools</b>HttpWatchHTTP sniffer for IE and FirefoxFiddlerHTTP DebuggingFireBugHTTP Debugging<b>Networking Tools</b>WiresharkNetworking Debugging (Packets)<b>Monitoring Tools</b>JconsolePerfomance and resource consumption over JMXjhatjmap</font><font face="Calibri" color="#000000" style="font-size:11pt"></font><font face="Arial" color="#000000" style="font-size:11pt"></font><font face="Arial" color="#000000" style="font-size:10pt"><A HREF="https://java.net/projects/TDA">https://java.net/projects/TDA</A></font><font face="Arial" color="#000000" style="font-size:10pt"></font><font face="Calibri" color="#000000" style="font-size:10pt"></font><font face="Calibri" color="#000000" style="font-size:11pt"></font><font face="Calibri" color="#000000" style="font-size:11pt"></font><font face="Arial" color="#000000" style="font-size:11pt"></font><font face="Arial" color="#000000" style="font-size:10pt"></p><p></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Network Analysis<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Calibri" color="#000000" style="font-size:12pt"></font><font face="Calibri" color="#000000" style="font-size:12pt"></font><font face="Calibri" color="#000000" style="font-size:11pt">Tools/CommandspingHTTP CompressionApache KeepAlive and MaxClient</font><font face="Calibri" color="#0000FF" style="font-size:11pt"><u><A HREF="http://msi-twiki.ms.com/twiki/bin/view/ECP/WebServer">http://msi-twiki.ms.com/twiki/bin/view/ECP/WebServer</A></font><font face="Calibri" color="#000000" style="font-size:11pt"></u>vmstattracert,traceroutenetstatnmapPort scanning</font><font face="Calibri" color="#000000" style="font-size:11pt"></font><font face="Arial" color="#000000" style="font-size:11pt"></font><font face="Arial" color="#000000" style="font-size:10pt"></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">JVM Analysis<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Calibri" color="#000000" style="font-size:12pt"></font><font face="Calibri" color="#000000" style="font-size:12pt"></font><font face="Calibri" color="#000000" style="font-size:11pt">Fatal Error Loghs_err_&lt;pid&gt;.log&lt;JDK BIN&gt;\jinfoObtain Environment informationlinux&lt;JDK BIN&gt;\jmapMemory Map Information, heap histogramlinux&lt;JDK BIN&gt;\jstackJava/Native Stack information from core filelinux&lt;JDK BIN&gt;\jdbCtrl-BreakGet thread dump information (Add JVM Startup parameter '-XX:+HeapDumpOnCtrlBreak)HPROF ProfilerHPROF can be useful when  analyzing performance, lock contention, memory leaks, and  other issuesjava -agentlib:hprof=help      HPROF: Heap and CPU Profiling Agent (JVM TI Demonstration Code)  hprof usage: java -agentlib:hprof=[help]|[&lt;option&gt;=&lt;value&gt;, ...]   Examples --------   - Get sample cpu information every 20 millisec, with a stack depth of 3:       java -agentlib:hprof=cpu=samples,interval=20,depth=3 classname   - Get heap usage information based on the allocation sites:       java -agentlib:hprof=heap=sites classnameHeap Analysis Tool (jhat)Browse Object dump-XX:+HeapDumpOnOutOfMemoryErrorHeap Dump-XX:+HeapDumpOnCtrlBreak-Xcheck:jniuseful option when trying to  diagnose problems with applications that use the Java  Native Interface (JNI)  (JDBC Driver, COM etc)jmap -heapjmap -histo 19846jmap -permstat 19846Permanent Generation data (live or dead objects)jstackCan attach to Hung JVM to capture thread state ( would work even if ctl-break doesn't work) The jstack utility can also try to obtain stack traces from a core dump. jstack $JAVA_HOME/bin/java core</font><font face="Calibri" color="#000000" style="font-size:11pt"></font><font face="Arial" color="#000000" style="font-size:11pt"></font><font face="Arial" color="#000000" style="font-size:10pt"></p></font><dt><br><dt style="margin-left:18;font: normal normal normal 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Others<dt><br><dt style="margin-left:50;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><dt><br><dt style="margin-left:36;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon2.gif">Financial<dt><br><dt style="margin-left:68;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"><A HREF="http://www.archipelago.com/traders/technicalspecs.asp">http://www.archipelago.com/traders/technicalspecs.asp</A> - Fix API</p></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon2.gif">Futures,Options<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">tradeintro.blogspot.com</p><p></p><p></p><p></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Arbitrage<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">At a any given exchange or different exchange if the price of the instrument varies(buy/sell) then you can buy at one price and sell at another price. </p><p></p><p>It is taking advantage of price flunctuations in the market</p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Fungible<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">This is observed at the clearing firm, If a trader buys an instrument at one exchange and sells it at another exchange (same instrument or different instrument) for the same quantity then his position is zero from clearing firm point of view and he can keep on buying from one place and sell through another place as long as he doesn't breach the position limits.</p><p></p><p>Clearing firm decides which two instruments are fungible </p></font><dt><br><dt style="margin-left:72;font: normal normal normal 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">P/E<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Company<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Cameron Systems</p><p>Aegis</p><p>Trading Technologies</p><p>Transact Tools</p><p>NYFIX</p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">FIX<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">Administrative messages</p><p></p><p>Heartbeat </p><p>=========</p><p>monitors the status of the communication link and identifies when the last of a string of</p><p>messages was not received. When either end of the connection has not received any data for (HeartBtInt +</p><p>some reasonable transmission time) seconds, it will transmit a Test Request message.</p><p></p><p>Resend Request</p><p>==============</p><p>The resend request is sent by the receiving application to initiate the retransmission of messages. This</p><p>function is utilized if a sequence number gap is detected, if the receiving application lost a message, or</p><p>as a function of the initialization process.</p><p></p><p>Logout</p><p>======</p><p>The logout message initiates or confirms the termination of a FIX session. Disconnection without the</p><p>exchange of logout messages should be interpreted as an abnormal condition.</p><p></p><p>Initiator	Acceptor</p><p></p><p>TestRequest</p><p>Logout		Logout</p><p></p><p></p><p>Market Data Request</p><p>===================</p><p>Some systems allow the transmission of real-time quote, order, trade and/or other price information on</p><p>a subscription basis. </p><p></p><p>Each Market Data Entry is a Bid, an Offer, a Trade associated with a security, the</p><p>opening, closing, or settlement price of a security, the value of an index, or the trading session high</p><p>price, low price, or VWAP.</p><p></p><p>Market Data  Snapshot / Full Refresh -</p><p>The Market Data messages are used as the response to a Market Data Request message.</p><p></p><p>Market Data Incremental Refresh</p><p></p><p>The Market Data message for incremental updates may contain any combination of new, changed, or</p><p>deleted Market Data Entries, for any combination of instruments, with any combination of trades,</p><p>quotes, index values, open, close, settlement, high, low, and VWAP prices, so long as the maximum</p><p>FIX message size is not exceeded. All of these types of Market Data Entries can be changed and</p><p>deleted.</p><p></p><p></p><p></p><p>Market Data Request Reject</p><p></p><p>The Market Data Request Reject is used when the broker cannot honor the Market Data Request, due</p><p>to business or technical reasons. Brokers may choose to limit various parameters, such as the size of</p><p>requests, whether just the top of book or the entire book may be displayed, and whether Full or</p><p>Incremental updates must be used.</p><p></p><p></p><p>New Order -&gt; Execution Report (Pending New) -&gt; Filled</p><p>Order Cancel -&gt; Pending Cancel -&gt; Cancelled </p><p>Order Cancel/Replace (Order Modification Request) -&gt; Pending Replace -&gt; Replaced</p><p>								-&gt; Rejected</p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">CrossingMarket<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Times New Roman" style="font-size:12pt"></font><font face="Times New Roman" style="font-size:12pt">The market has a priority buy price of $17.89 and a priority sell price of $17.90. A broker has one client who wishes to buy 5,000 BHP at $17.89 and another who wishes to sell 5,000 at $17.89.<br><br>The broker wants to trade the two orders against each other, i.e. a crossing. The broker takes the following action: </p><p style="margin-left:52"></font><font face="Times New Roman" style="font-size:12pt">1.	Enters an order to buy BHP at $17.89. This order may be for any quantity. In practice, brokers generally use a quantity of 1. </p><p style="margin-left:52"></font><font face="Times New Roman" style="font-size:12pt">2.	Checks that a crossing market exists. In this case, the priority buy price is one cent away from the priority sell price and a crossing market exists. </p><p style="margin-left:52"></font><font face="Times New Roman" style="font-size:12pt">3.	Enters a crossing order for 5,000 BHP at $17.89. The order immediately results in a trade where the broker sells 5,000 BHP at $17.89 to themselves, i.e. a crossed trade. </p><p style="margin-left:52"></font><font face="Times New Roman" style="font-size:12pt">4.	Cancels the order entered in Step 1, above.</p><p></font><font face="Arial" style="font-size:12pt"></font><font face="Arial" style="font-size:10pt"></p></font><dt><br><dt style="margin-left:72;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">STOP/STOPLIMIT<dt><br><dt style="margin-left:104;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><b><font face="Arial" style="font-size:10pt">Limit Orders</p><p></p><p></b>To avoid buying or selling a stock at a price higher or lower than you wanted, you need to place a limit order rather than a market order. A limit order is an order to buy or sell a security at a specific price. A buy limit order can only be executed at the limit price or lower, and a sell limit order can only be executed at the limit price or higher. When you place a market order, you can't control the price at which your order will be filled.</p><p></p><p>For example, if you want to buy the stock of a &quot;hot&quot; IPO that was initially offered at $9, but don't want to end up paying more than $20 for the stock, you can place a limit order to buy the stock at any price up to $20. By entering a limit order rather than a market order, you will not be caught buying the stock at $90 and then suffering immediate losses if the stock drops later in the day or the weeks ahead.</p><p></p><p>Remember that your limit order may never be executed because the market price may quickly surpass your limit before your order can be filled. But by using a limit order you also protect yourself from buying the stock at too high a price. Some firms may charge you more for executing a limit order than a market order.<b></p><p></p><p>Stop Order</p><p></b></p><p>A stop order is an order to buy or sell a stock once the price of the stock reaches a specified price, known as the stop price. When the specified price is reached, your stop order becomes a market order.</p><p></p><p>Buy Stop Order  Investors typically use a stop order when buying stock to limit a loss or protect a profit on short sales. The order is entered at a stop price that is always above the current market price.</p><p></p><p>Sell Stop Order  A sell stop order helps investors to avoid further losses or to protect a profit that exists if a stock price continues to drop. A stop order to sell is always placed below the current market price.</p><p></p><p>The advantage of a stop order is you don't have to monitor how a stock is performing on a daily basis. The disadvantage is that the stop price could be activated by a short-term fluctuation in a stock's price. Also, once your stop price is reached, your stop order becomes a market order and the price you receive may be much different from the stop price, especially in a fast-moving market where stock prices can change rapidly. An investor can avoid the risk of a stop order not guaranteeing a specific price by placing a stop-limit order.</p><p></p><p>  	</p><p><b>Stop-Limit Order</b></p><p></p><p>A stop-limit order is an order to buy or sell a stock that combines the features of a stop order and a limit order. Once the stop price is reached, the stop-limit order becomes a limit order to buy or to sell at a specified price.</p><p></p><p>The benefit of a stop-limit order is that the investor can control the price at which the trade will get executed. But, as with all limit orders, a stop-limit order may never get filled if the stock's price never reaches the specified limit price. This may happen especially in fast-moving markets where prices fluctuate wildly. </p></font><dt><br><dt style="margin-left:54;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Major Future Instruments<dt><br><dt style="margin-left:86;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt">E-mini SP 500</p><p>CME contract overview 	Contract Size: $50 times the S&amp;P 500 Index</p><p>Minimum Price Fluctuation (Tick): GLOBEXÆ: Regular - 0.25=$12.50</p><p></p><p>E-mini NASDAQ 100</p><p>CME contract overview 	Contract Size: $20 times the NASDAQ-100 Index</p><p>Minimum Price Fluctuation (Tick): GLOBEXÆ: Regular - 0.50=$10.00</p><p></p><p>E-mini Russell 2000</p><p>CME contract overview 	Contract Size: $100 times the Russell 2000Æ index price</p><p>Minimum Price Fluctuation (Tick): GLOBEXÆ: Regular - 0.10=$10.00</p><p></p><p>E-mini SP MidCap 400</p><p>CME contract overview 	Contract Size: $100 times the Standard &amp; Poor's MidCap 400</p><p>Minimum Price Fluctuation (Tick): GLOBEXÆ: Regular - 0.10=$10.00</p><p></p><p>Euro FX </p><p>CME contract overview 	Contract Size: 125,000 Euro</p><p>Minimum Price Fluctuation (Tick):  Floor/GLOBEXÆ: Regular - 0.0001=$12.50;</p><p></p><p>Japanese Yen FX </p><p>CME contract overview 	Contract Size: 12,500,000 Japanese yen</p><p>Minimum Price Fluctuation (Tick):  Floor/GLOBEXÆ: Regular 0.000001=$12.50</p></font><dt><br><dt style="margin-left:36;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">English Reference<dt><br><dt style="margin-left:68;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"></p><p>English Language Reference Materials</p><p>Bartlett's Familiar Quotations</p><p>     <A HREF="http://www.bartleby.com/quotations/">http://www.bartleby.com/quotations/</A></p><p>Merriam-Webster Online</p><p>     <A HREF="http://www.m-w.com">http://www.m-w.com</A></p><p>Phrase Finder</p><p>     <A HREF="http://www.shu.ac.uk/web-admin/phrases/">http://www.shu.ac.uk/web-admin/phrases/</A></p><p>Quotations Page</p><p>     <A HREF="http://www.quotationspage.com/">http://www.quotationspage.com/</A></p><p>Roget's Thesaurus</p><p>     <A HREF="http://www.thesaurus.com">http://www.thesaurus.com</A></p><p>Strunk &amp; White's The Elements of Style</p><p>     <A HREF="http://www.bartleby.com/141/">http://www.bartleby.com/141/</A></p><p>WWWebster Dictionary</p><p>     <A HREF="http://www.m-w.com/netdict.htm">http://www.m-w.com/netdict.htm</A></p><p>WordNet</p><p>     <A HREF="http://www.cogsci.princeton.edu/~wn/">http://www.cogsci.princeton.edu/~wn/</A></p><p>Common Errors in English</p><p>     <A HREF="http://www.wsu.edu/~brians/errors/">http://www.wsu.edu/~brians/errors/</A></p></font><dt><br><dt style="margin-left:36;font: normal normal bold 8pt normal ;font-family:Verdana; text-decoration: none;color: #000000;"><img src="aodot0.gif"><img src="aoicon0.gif">Books<dt><br><dt style="margin-left:68;font: normal normal normal 10pt normal ;font-family:Arial; text-decoration: none;color: #000000;"><p><font face="Arial" style="font-size:10pt"><A HREF="http://gettextbooks.com/">http://gettextbooks.com/</A></p><p><A HREF="http://www.awprofessional.com/">http://www.awprofessional.com/</A></p><p><A HREF="http://www.bookpool.com/">http://www.bookpool.com/</A></p><p><A HREF="http://www.amazon.com">www.amazon.com</A></p><p><A HREF="http://www.booksunderreview.com">www.booksunderreview.com</A></p><p><A HREF="http://www.Amazon.com,">www.Amazon.com,</A> </p><p><A HREF="http://www.Borders.com,">www.Borders.com,</A> </p><p><A HREF="http://www.Waldenbooks.com,">www.Waldenbooks.com,</A> </p><p></font><font face="Times New Roman" style="font-size:10pt"></font><font face="Times New Roman" style="font-size:12pt"></p><p></font><font face="Arial" style="font-size:12pt"></font><font face="Arial" style="font-size:10pt"></p></font><dt><br></dl></body></html>